var ic=Object.defineProperty;var Do=e=>{throw TypeError(e)};var rc=(e,t,n)=>t in e?ic(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Lo=(e,t,n)=>rc(e,typeof t!="symbol"?t+"":t,n),nr=(e,t,n)=>t.has(e)||Do("Cannot "+n);var At=(e,t,n)=>(nr(e,t,"read from private field"),n?n.call(e):t.get(e)),Nn=(e,t,n)=>t.has(e)?Do("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ir=(e,t,n,i)=>(nr(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),Ho=(e,t,n)=>(nr(e,t,"access private method"),n);import{a as q,t as ge,b as Kt,n as Be,c as rt}from"../chunks/disclose-version.CUCXEABo.js";import"../chunks/legacy.ufX2wN-7.js";import{v as oc,a8 as sc,h as Je,A as rr,a as ac,O as qs,Y as $s,ac as lc,ad as Ro,U as or,z as Tn,aw as fi,a9 as js,_ as Js,aa as cc,I as Qs,x as yi,ax as Jr,ay as Fo,az as Qr,aA as uc,H as dc,aB as fc,aC as hc,aD as ea,w as gc,V as pc,M as ta,aE as mc,E as vc,a2 as Yo,aF as yc,R as xc,ae as at,d as eo,af as to,f as X,s as wc,aG as bc,aH as _c,a7 as Bo,aI as kc,ab as Sc,aJ as Ec,aK as Ac,as as Cc,n as Mn,aL as Nc,J as Vo,K as Xo,aM as Tc,p as pe,aN as Hn,aO as ee,g as d,aP as Ke,m as ce,o as ae,t as we,l as me,aQ as W,B as F,ar as le,k as Ne,q as re,aR as dt,aS as xi,i as Wo,aT as ut,aU as Mc,aV as Pc}from"../chunks/runtime.ngCnnLPq.js";import{d as Ic,p,l as Le,i as Ee,o as tn,e as Xi,b as no,f as na,c as ia,s as ln,_ as Oc}from"../chunks/preload-helper.COmqLskj.js";import{s as $e,a as zc}from"../chunks/slot.BorHTBEe.js";import{d as Dc,i as Lc,e as Hc,f as Rc,g as Fc,n as Yc,j as Bc,k as Vc,l as io,s as Re,o as he,b as K,a as ht,p as wi,q as Xc,r as ra}from"../chunks/store.Dc57BEg8.js";import{i as ve}from"../chunks/lifecycle.D8H7zENn.js";import{g as R,w as Q,r as gt,d as gn}from"../chunks/index.D8vokL7s.js";const Wc=!0;function Er(e,t){return t}function Kc(e,t,n,i){for(var r=[],o=t.length,s=0;s<o;s++)uc(t[s].e,r,!0);var a=o>0&&r.length===0&&n!==null;if(a){var c=n.parentNode;dc(c),c.append(n),i.clear(),zt(e,t[0].prev,t[o-1].next)}fc(r,()=>{for(var u=0;u<o;u++){var l=t[u];a||(i.delete(l.k),zt(e,l.prev,l.next)),hc(l.e,!a)}})}function jt(e,t,n,i,r,o=null){var s=e,a={flags:t,items:new Map,first:null},c=(t&ea)!==0;if(c){var u=e;s=Je?rr(gc(u)):u.appendChild(oc())}Je&&ac();var l=null,h=!1;sc(()=>{var f=n(),g=qs(f)?f:f==null?[]:$s(f),m=g.length;if(h&&m===0)return;h=m===0;let x=!1;if(Je){var v=s.data===lc;v!==(m===0)&&(s=Ro(),rr(s),or(!1),x=!0)}if(Je){for(var _=null,y,E=0;E<m;E++){if(Tn.nodeType===8&&Tn.data===pc){s=Tn,x=!0,or(!1);break}var k=g[E],S=i(k,E);y=oa(Tn,a,_,null,k,S,E,r,t),a.items.set(S,y),_=y}m>0&&rr(Ro())}if(!Je){var A=ta;Uc(g,a,s,r,t,(A.f&fi)!==0,i)}o!==null&&(m===0?l?js(l):l=Js(()=>o(s)):l!==null&&cc(l,()=>{l=null})),x&&or(!0),n()}),Je&&(s=Tn)}function Uc(e,t,n,i,r,o,s){var w,O,b,C;var a=(r&mc)!==0,c=(r&(Jr|Qr))!==0,u=e.length,l=t.items,h=t.first,f=h,g,m=null,x,v=[],_=[],y,E,k,S;if(a)for(S=0;S<u;S+=1)y=e[S],E=s(y,S),k=l.get(E),k!==void 0&&((w=k.a)==null||w.measure(),(x??(x=new Set)).add(k));for(S=0;S<u;S+=1){if(y=e[S],E=s(y,S),k=l.get(E),k===void 0){var A=f?f.e.nodes_start:n;m=oa(A,t,m,m===null?t.first:m.next,y,E,S,i,r),l.set(E,m),v=[],_=[],f=m.next;continue}if(c&&Gc(k,y,S,r),k.e.f&fi&&(js(k.e),a&&((O=k.a)==null||O.unfix(),(x??(x=new Set)).delete(k))),k!==f){if(g!==void 0&&g.has(k)){if(v.length<_.length){var T=_[0],P;m=T.prev;var z=v[0],D=v[v.length-1];for(P=0;P<v.length;P+=1)Ko(v[P],T,n);for(P=0;P<_.length;P+=1)g.delete(_[P]);zt(t,z.prev,D.next),zt(t,m,z),zt(t,D,T),f=T,m=D,S-=1,v=[],_=[]}else g.delete(k),Ko(k,f,n),zt(t,k.prev,k.next),zt(t,k,m===null?t.first:m.next),zt(t,m,k),m=k;continue}for(v=[],_=[];f!==null&&f.k!==E;)(o||!(f.e.f&fi))&&(g??(g=new Set)).add(f),_.push(f),f=f.next;if(f===null)continue;k=f}v.push(k),m=k,f=k.next}if(f!==null||g!==void 0){for(var Y=g===void 0?[]:$s(g);f!==null;)(o||!(f.e.f&fi))&&Y.push(f),f=f.next;var H=Y.length;if(H>0){var I=r&ea&&u===0?n:null;if(a){for(S=0;S<H;S+=1)(b=Y[S].a)==null||b.measure();for(S=0;S<H;S+=1)(C=Y[S].a)==null||C.fix()}Kc(t,Y,I,l)}}a&&Qs(()=>{var N;if(x!==void 0)for(k of x)(N=k.a)==null||N.apply()}),yi.first=t.first&&t.first.e,yi.last=m&&m.e}function Gc(e,t,n,i){i&Jr&&Fo(e.v,t),i&Qr?Fo(e.i,n):e.i=n}function oa(e,t,n,i,r,o,s,a,c){var u=(c&Jr)!==0,l=(c&yc)===0,h=u?l?vc(r):Yo(r):r,f=c&Qr?Yo(s):s,g={i:f,v:h,k:o,a:null,e:null,prev:n,next:i};try{return g.e=Js(()=>a(e,h,f),Je),g.e.prev=n&&n.e,g.e.next=i&&i.e,n===null?t.first=g:(n.next=g,n.e.next=g.e),i!==null&&(i.prev=g,i.e.prev=g.e),g}finally{}}function Ko(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,r=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==i;){var s=xc(o);r.before(o),o=s}}function zt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function qe(e,t,n){at(()=>{var i=eo(()=>t(e,n==null?void 0:n())||{});if(n&&(i!=null&&i.update)){var r=!1,o={};to(()=>{var s=n();X(s),r&&wc(o,s)&&(o=s,i.update(s))}),r=!0}if(i!=null&&i.destroy)return()=>i.destroy()})}function sr(e){if(Je){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var i=e.value;ne(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var r=e.checked;ne(e,"checked",null),e.checked=r}}};e.__on_r=n,bc(n),Dc()}}function ne(e,t,n,i){var r=e.__attributes??(e.__attributes={});Je&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[_c]=n),n==null?e.removeAttribute(t):typeof n!="string"&&sa(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ro(e,t,n,i,r=!1,o=!1,s=!1){var a=t||{},c=e.tagName==="OPTION";for(var u in t)u in n||(n[u]=null);i!==void 0&&(n.class=n.class?n.class+" "+i:i);var l=sa(e),h=e.__attributes??(e.__attributes={});for(const v in n){let _=n[v];if(c&&v==="value"&&_==null){e.value=e.__value="",a[v]=_;continue}var f=a[v];if(_!==f){a[v]=_;var g=v[0]+v[1];if(g!=="$$"){if(g==="on"){const y={},E="$$"+v;let k=v.slice(2);var m=Bc(k);if(Lc(k)&&(k=k.slice(0,-7),y.capture=!0),!m&&f){if(_!=null)continue;e.removeEventListener(k,a[E],y),a[E]=null}if(_!=null)if(m)e[`__${k}`]=_,Rc([k]);else{let S=function(A){a[v].call(this,A)};a[E]=Hc(k,e,S,y)}}else if(v==="style"&&_!=null)e.style.cssText=_+"";else if(v==="autofocus")Fc(e,!!_);else if(v==="__value"||v==="value"&&_!=null)e.value=e[v]=e.__value=_;else{var x=v;r||(x=Yc(x)),_==null&&!o?(h[v]=null,e.removeAttribute(v)):l.includes(x)&&(o||typeof _!="string")?e[x]=_:typeof _!="function"&&(Je&&(x==="src"||x==="href"||x==="srcset")||ne(e,x,_))}v==="style"&&"__styles"in e&&(e.__styles={})}}}return a}var Uo=new Map;function sa(e){var t=Uo.get(e.nodeName);if(t)return t;Uo.set(e.nodeName,t=[]);for(var n,i=Bo(e),r=Element.prototype;r!==i;){n=kc(i);for(var o in n)n[o].set&&t.push(o);i=Bo(i)}return t}function nn(e,t){var n=e.__className,i=la(t);Je&&e.getAttribute("class")===i?e.__className=i:(n!==i||Je&&e.getAttribute("class")!==i)&&(i===""?e.removeAttribute("class"):e.setAttribute("class",i),e.__className=i)}function aa(e,t){var n=e.__className,i=la(t);Je&&e.className===i?e.__className=i:(n!==i||Je&&e.className!==i)&&(t==null?e.removeAttribute("class"):e.className=i,e.__className=i)}function la(e){return e??""}function ze(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function De(e,t,n,i){var r=e.__styles??(e.__styles={});r[t]!==n&&(r[t]=n,n==null?e.style.removeProperty(t):e.style.setProperty(t,n,""))}const Zc=()=>performance.now(),Ht={tick:e=>requestAnimationFrame(e),now:()=>Zc(),tasks:new Set};function ca(e){Ht.tasks.forEach(t=>{t.c(e)||(Ht.tasks.delete(t),t.f())}),Ht.tasks.size!==0&&Ht.tick(ca)}function qc(e){let t;return Ht.tasks.size===0&&Ht.tick(ca),{promise:new Promise(n=>{Ht.tasks.add(t={c:e,f:n})}),abort(){Ht.tasks.delete(t)}}}function ii(e,t){e.dispatchEvent(new CustomEvent(t))}function $c(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Go(e){const t={},n=e.split(";");for(const i of n){const[r,o]=i.split(":");if(!r||o===void 0)break;const s=$c(r.trim());t[s]=o.trim()}return t}const jc=e=>e;function Jc(e,t,n,i){var r=(e&Nc)!==0,o="both",s,a=t.inert,c,u;function l(){var x=ta,v=yi;Vo(null),Xo(null);try{return s??(s=n()(t,(i==null?void 0:i())??{},{direction:o}))}finally{Vo(x),Xo(v)}}var h={is_global:r,in(){t.inert=a,ii(t,"introstart"),c=Ar(t,l(),u,1,()=>{ii(t,"introend"),c==null||c.abort(),c=s=void 0})},out(x){t.inert=!0,ii(t,"outrostart"),u=Ar(t,l(),c,0,()=>{ii(t,"outroend"),x==null||x()})},stop:()=>{c==null||c.abort(),u==null||u.abort()}},f=yi;if((f.transitions??(f.transitions=[])).push(h),Vc){var g=r;if(!g){for(var m=f.parent;m&&m.f&Sc;)for(;(m=m.parent)&&!(m.f&Ec););g=!m||(m.f&Ac)!==0}g&&at(()=>{eo(()=>h.in())})}}function Ar(e,t,n,i,r){var o=i===1;if(Cc(t)){var s,a=!1;return Qs(()=>{if(!a){var v=t({direction:o?"in":"out"});s=Ar(e,v,n,i,r)}}),{abort:()=>{a=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return r(),{abort:Mn,deactivate:Mn,reset:Mn,t:()=>i};const{delay:c=0,css:u,tick:l,easing:h=jc}=t;var f=[];if(o&&n===void 0&&(l&&l(0,1),u)){var g=Go(u(0,1));f.push(g,g)}var m=()=>1-i,x=e.animate(f,{duration:c});return x.onfinish=()=>{var v=(n==null?void 0:n.t())??1-i;n==null||n.abort();var _=i-v,y=t.duration*Math.abs(_),E=[];if(y>0){if(u)for(var k=Math.ceil(y/16.666666666666668),S=0;S<=k;S+=1){var A=v+_*h(S/k),T=u(A,1-A);E.push(Go(T))}m=()=>{var P=x.currentTime;return v+_*h(P/y)},l&&qc(()=>{if(x.playState!=="running")return!1;var P=m();return l(P,1-P),!0})}x=e.animate(E,{duration:y,fill:"forwards"}),x.onfinish=()=>{m=()=>i,l==null||l(i,1-i),r()}},{abort:()=>{x&&(x.cancel(),x.effect=null,x.onfinish=Mn)},deactivate:()=>{r=Mn},reset:()=>{i===0&&(l==null||l(1,0))},t:()=>m()}}function ua(e,t,n=t){var i=Tc();io(e,"input",()=>{var r=lr(e)?cr(e.value):e.value;n(r),i&&r!==(r=t())&&(e.value=r??"")}),to(()=>{var r=t();if(Je&&e.defaultValue!==e.value){n(lr(e)?cr(e.value):e.value);return}lr(e)&&r===cr(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function ar(e,t,n=t){io(e,"change",()=>{var i=e.checked;n(i)}),t()==null&&n(!1),to(()=>{var i=t();e.checked=!!i})}function lr(e){var t=e.type;return t==="number"||t==="range"}function cr(e){return e===""?null:+e}function da(e,t,n){if(e.multiple)return tu(e,t);for(var i of e.options){var r=Dn(i);if(Ic(r,t)){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Qc(e,t){at(()=>{var n=new MutationObserver(()=>{var i=e.__value;da(e,i)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function eu(e,t,n=t){var i=!0;io(e,"change",()=>{var r;if(e.multiple)r=[].map.call(e.querySelectorAll(":checked"),Dn);else{var o=e.querySelector(":checked");r=o&&Dn(o)}n(r)}),at(()=>{var r=t();if(da(e,r,i),i&&r===void 0){var o=e.querySelector(":checked");o!==null&&(r=Dn(o),n(r))}e.__value=r,i=!1}),Qc(e)}function tu(e,t){for(var n of e.options)n.selected=~t.indexOf(Dn(n))}function Dn(e){return"__value"in e?e.__value:e.value}var Lt,yn,Zn,Bi,fa;const Vi=class Vi{constructor(t){Nn(this,Bi);Nn(this,Lt,new WeakMap);Nn(this,yn);Nn(this,Zn);ir(this,Zn,t)}observe(t,n){var i=At(this,Lt).get(t)||new Set;return i.add(n),At(this,Lt).set(t,i),Ho(this,Bi,fa).call(this).observe(t,At(this,Zn)),()=>{var r=At(this,Lt).get(t);r.delete(n),r.size===0&&(At(this,Lt).delete(t),At(this,yn).unobserve(t))}}};Lt=new WeakMap,yn=new WeakMap,Zn=new WeakMap,Bi=new WeakSet,fa=function(){return At(this,yn)??ir(this,yn,new ResizeObserver(t=>{for(var n of t){Vi.entries.set(n.target,n);for(var i of At(this,Lt).get(n.target)||[])i(n)}}))},Lo(Vi,"entries",new WeakMap);let Cr=Vi;var nu=new Cr({box:"border-box"});function Zo(e,t,n){var i=nu.observe(e,()=>n(e[t]));at(()=>(eo(()=>n(e[t])),i))}function ke(e,t){var o;var n=(o=e.$$events)==null?void 0:o[t.type],i=qs(n)?n.slice():n==null?[]:[n];for(var r of i)r.call(this,t)}const iu=Wc;function et(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=et(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var ru={value:()=>{}};function Wi(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new hi(n)}function hi(e){this._=e}function ou(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}hi.prototype=Wi.prototype={constructor:hi,on:function(e,t){var n=this._,i=ou(e+"",n),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(e=i[o]).type)&&(r=su(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(r=(e=i[o]).type)n[r]=qo(n[r],e.name,t);else if(t==null)for(r in n)n[r]=qo(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new hi(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};function su(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function qo(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=ru,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Nr="http://www.w3.org/1999/xhtml";const $o={svg:"http://www.w3.org/2000/svg",xhtml:Nr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ki(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),$o.hasOwnProperty(t)?{space:$o[t],local:e}:e}function au(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Nr&&t.documentElement.namespaceURI===Nr?t.createElement(e):t.createElementNS(n,e)}}function lu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ha(e){var t=Ki(e);return(t.local?lu:au)(t)}function cu(){}function oo(e){return e==null?cu:function(){return this.querySelector(e)}}function uu(e){typeof e!="function"&&(e=oo(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],s=o.length,a=i[r]=new Array(s),c,u,l=0;l<s;++l)(c=o[l])&&(u=e.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),a[l]=u);return new lt(i,this._parents)}function du(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function fu(){return[]}function ga(e){return e==null?fu:function(){return this.querySelectorAll(e)}}function hu(e){return function(){return du(e.apply(this,arguments))}}function gu(e){typeof e=="function"?e=hu(e):e=ga(e);for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var s=t[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(i.push(e.call(c,c.__data__,u,s)),r.push(c));return new lt(i,r)}function pa(e){return function(){return this.matches(e)}}function ma(e){return function(t){return t.matches(e)}}var pu=Array.prototype.find;function mu(e){return function(){return pu.call(this.children,e)}}function vu(){return this.firstElementChild}function yu(e){return this.select(e==null?vu:mu(typeof e=="function"?e:ma(e)))}var xu=Array.prototype.filter;function wu(){return Array.from(this.children)}function bu(e){return function(){return xu.call(this.children,e)}}function _u(e){return this.selectAll(e==null?wu:bu(typeof e=="function"?e:ma(e)))}function ku(e){typeof e!="function"&&(e=pa(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],s=o.length,a=i[r]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new lt(i,this._parents)}function va(e){return new Array(e.length)}function Su(){return new lt(this._enter||this._groups.map(va),this._parents)}function bi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}bi.prototype={constructor:bi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Eu(e){return function(){return e}}function Au(e,t,n,i,r,o){for(var s=0,a,c=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):n[s]=new bi(e,o[s]);for(;s<c;++s)(a=t[s])&&(r[s]=a)}function Cu(e,t,n,i,r,o,s){var a,c,u=new Map,l=t.length,h=o.length,f=new Array(l),g;for(a=0;a<l;++a)(c=t[a])&&(f[a]=g=s.call(c,c.__data__,a,t)+"",u.has(g)?r[a]=c:u.set(g,c));for(a=0;a<h;++a)g=s.call(e,o[a],a,o)+"",(c=u.get(g))?(i[a]=c,c.__data__=o[a],u.delete(g)):n[a]=new bi(e,o[a]);for(a=0;a<l;++a)(c=t[a])&&u.get(f[a])===c&&(r[a]=c)}function Nu(e){return e.__data__}function Tu(e,t){if(!arguments.length)return Array.from(this,Nu);var n=t?Cu:Au,i=this._parents,r=this._groups;typeof e!="function"&&(e=Eu(e));for(var o=r.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var l=i[u],h=r[u],f=h.length,g=Mu(e.call(l,l&&l.__data__,u,i)),m=g.length,x=a[u]=new Array(m),v=s[u]=new Array(m),_=c[u]=new Array(f);n(l,h,x,v,_,g,t);for(var y=0,E=0,k,S;y<m;++y)if(k=x[y]){for(y>=E&&(E=y+1);!(S=v[E])&&++E<m;);k._next=S||null}}return s=new lt(s,i),s._enter=a,s._exit=c,s}function Mu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Pu(){return new lt(this._exit||this._groups.map(va),this._parents)}function Iu(e,t,n){var i=this.enter(),r=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function Ou(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),c=0;c<s;++c)for(var u=n[c],l=i[c],h=u.length,f=a[c]=new Array(h),g,m=0;m<h;++m)(g=u[m]||l[m])&&(f[m]=g);for(;c<r;++c)a[c]=n[c];return new lt(a,this._parents)}function zu(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Du(e){e||(e=Lu);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s=n[o],a=s.length,c=r[o]=new Array(a),u,l=0;l<a;++l)(u=s[l])&&(c[l]=u);c.sort(t)}return new lt(r,this._parents).order()}function Lu(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Hu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ru(){return Array.from(this)}function Fu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function Yu(){let e=0;for(const t of this)++e;return e}function Bu(){return!this.node()}function Vu(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],o=0,s=r.length,a;o<s;++o)(a=r[o])&&e.call(a,a.__data__,o,r);return this}function Xu(e){return function(){this.removeAttribute(e)}}function Wu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ku(e,t){return function(){this.setAttribute(e,t)}}function Uu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Gu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Zu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function qu(e,t){var n=Ki(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Wu:Xu:typeof t=="function"?n.local?Zu:Gu:n.local?Uu:Ku)(n,t))}function ya(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $u(e){return function(){this.style.removeProperty(e)}}function ju(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ju(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Qu(e,t,n){return arguments.length>1?this.each((t==null?$u:typeof t=="function"?Ju:ju)(e,t,n??"")):xn(this.node(),e)}function xn(e,t){return e.style.getPropertyValue(t)||ya(e).getComputedStyle(e,null).getPropertyValue(t)}function ed(e){return function(){delete this[e]}}function td(e,t){return function(){this[e]=t}}function nd(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function id(e,t){return arguments.length>1?this.each((t==null?ed:typeof t=="function"?nd:td)(e,t)):this.node()[e]}function xa(e){return e.trim().split(/^|\s+/)}function so(e){return e.classList||new wa(e)}function wa(e){this._node=e,this._names=xa(e.getAttribute("class")||"")}wa.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ba(e,t){for(var n=so(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function _a(e,t){for(var n=so(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function rd(e){return function(){ba(this,e)}}function od(e){return function(){_a(this,e)}}function sd(e,t){return function(){(t.apply(this,arguments)?ba:_a)(this,e)}}function ad(e,t){var n=xa(e+"");if(arguments.length<2){for(var i=so(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?sd:t?rd:od)(n,t))}function ld(){this.textContent=""}function cd(e){return function(){this.textContent=e}}function ud(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function dd(e){return arguments.length?this.each(e==null?ld:(typeof e=="function"?ud:cd)(e)):this.node().textContent}function fd(){this.innerHTML=""}function hd(e){return function(){this.innerHTML=e}}function gd(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function pd(e){return arguments.length?this.each(e==null?fd:(typeof e=="function"?gd:hd)(e)):this.node().innerHTML}function md(){this.nextSibling&&this.parentNode.appendChild(this)}function vd(){return this.each(md)}function yd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xd(){return this.each(yd)}function wd(e){var t=typeof e=="function"?e:ha(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function bd(){return null}function _d(e,t){var n=typeof e=="function"?e:ha(e),i=t==null?bd:typeof t=="function"?t:oo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function kd(){var e=this.parentNode;e&&e.removeChild(this)}function Sd(){return this.each(kd)}function Ed(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ad(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Cd(e){return this.select(e?Ad:Ed)}function Nd(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Td(e){return function(t){e.call(this,t,this.__data__)}}function Md(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Pd(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,o;n<r;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++i]=o;++i?t.length=i:delete this.__on}}}function Id(e,t,n){return function(){var i=this.__on,r,o=Td(t);if(i){for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Od(e,t,n){var i=Md(e+""),r,o=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,l;c<u;++c)for(r=0,l=a[c];r<o;++r)if((s=i[r]).type===l.type&&s.name===l.name)return l.value}return}for(a=t?Id:Pd,r=0;r<o;++r)this.each(a(i[r],t,n));return this}function ka(e,t,n){var i=ya(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function zd(e,t){return function(){return ka(this,e,t)}}function Dd(e,t){return function(){return ka(this,e,t.apply(this,arguments))}}function Ld(e,t){return this.each((typeof t=="function"?Dd:zd)(e,t))}function*Hd(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var Sa=[null];function lt(e,t){this._groups=e,this._parents=t}function qn(){return new lt([[document.documentElement]],Sa)}function Rd(){return this}lt.prototype=qn.prototype={constructor:lt,select:uu,selectAll:gu,selectChild:yu,selectChildren:_u,filter:ku,data:Tu,enter:Su,exit:Pu,join:Iu,merge:Ou,selection:Rd,order:zu,sort:Du,call:Hu,nodes:Ru,node:Fu,size:Yu,empty:Bu,each:Vu,attr:qu,style:Qu,property:id,classed:ad,text:dd,html:pd,raise:vd,lower:xd,append:wd,insert:_d,remove:Sd,clone:Cd,datum:Nd,on:Od,dispatch:Ld,[Symbol.iterator]:Hd};function ft(e){return typeof e=="string"?new lt([[document.querySelector(e)]],[document.documentElement]):new lt([[e]],Sa)}function Fd(e){let t;for(;t=e.sourceEvent;)e=t;return e}function pt(e,t){if(e=Fd(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Yd={passive:!1},Rn={capture:!0,passive:!1};function ur(e){e.stopImmediatePropagation()}function pn(e){e.preventDefault(),e.stopImmediatePropagation()}function Ea(e){var t=e.document.documentElement,n=ft(e).on("dragstart.drag",pn,Rn);"onselectstart"in t?n.on("selectstart.drag",pn,Rn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Aa(e,t){var n=e.document.documentElement,i=ft(e).on("dragstart.drag",null);t&&(i.on("click.drag",pn,Rn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ri=e=>()=>e;function Tr(e,{sourceEvent:t,subject:n,target:i,identifier:r,active:o,x:s,y:a,dx:c,dy:u,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:l}})}Tr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Bd(e){return!e.ctrlKey&&!e.button}function Vd(){return this.parentNode}function Xd(e,t){return t??{x:e.x,y:e.y}}function Wd(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kd(){var e=Bd,t=Vd,n=Xd,i=Wd,r={},o=Wi("start","drag","end"),s=0,a,c,u,l,h=0;function f(k){k.on("mousedown.drag",g).filter(i).on("touchstart.drag",v).on("touchmove.drag",_,Yd).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(k,S){if(!(l||!e.call(this,k,S))){var A=E(this,t.call(this,k,S),k,S,"mouse");A&&(ft(k.view).on("mousemove.drag",m,Rn).on("mouseup.drag",x,Rn),Ea(k.view),ur(k),u=!1,a=k.clientX,c=k.clientY,A("start",k))}}function m(k){if(pn(k),!u){var S=k.clientX-a,A=k.clientY-c;u=S*S+A*A>h}r.mouse("drag",k)}function x(k){ft(k.view).on("mousemove.drag mouseup.drag",null),Aa(k.view,u),pn(k),r.mouse("end",k)}function v(k,S){if(e.call(this,k,S)){var A=k.changedTouches,T=t.call(this,k,S),P=A.length,z,D;for(z=0;z<P;++z)(D=E(this,T,k,S,A[z].identifier,A[z]))&&(ur(k),D("start",k,A[z]))}}function _(k){var S=k.changedTouches,A=S.length,T,P;for(T=0;T<A;++T)(P=r[S[T].identifier])&&(pn(k),P("drag",k,S[T]))}function y(k){var S=k.changedTouches,A=S.length,T,P;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),T=0;T<A;++T)(P=r[S[T].identifier])&&(ur(k),P("end",k,S[T]))}function E(k,S,A,T,P,z){var D=o.copy(),Y=pt(z||A,S),H,I,w;if((w=n.call(k,new Tr("beforestart",{sourceEvent:A,target:f,identifier:P,active:s,x:Y[0],y:Y[1],dx:0,dy:0,dispatch:D}),T))!=null)return H=w.x-Y[0]||0,I=w.y-Y[1]||0,function O(b,C,N){var M=Y,L;switch(b){case"start":r[P]=O,L=s++;break;case"end":delete r[P],--s;case"drag":Y=pt(N||C,S),L=s;break}D.call(b,k,new Tr(b,{sourceEvent:C,subject:w,target:f,identifier:P,active:L,x:Y[0]+H,y:Y[1]+I,dx:Y[0]-M[0],dy:Y[1]-M[1],dispatch:D}),T)}}return f.filter=function(k){return arguments.length?(e=typeof k=="function"?k:ri(!!k),f):e},f.container=function(k){return arguments.length?(t=typeof k=="function"?k:ri(k),f):t},f.subject=function(k){return arguments.length?(n=typeof k=="function"?k:ri(k),f):n},f.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:ri(!!k),f):i},f.on=function(){var k=o.on.apply(o,arguments);return k===o?f:k},f.clickDistance=function(k){return arguments.length?(h=(k=+k)*k,f):Math.sqrt(h)},f}function ao(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ca(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function $n(){}var Fn=.7,_i=1/Fn,mn="\\s*([+-]?\\d+)\\s*",Yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ud=/^#([0-9a-f]{3,8})$/,Gd=new RegExp(`^rgb\\(${mn},${mn},${mn}\\)$`),Zd=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),qd=new RegExp(`^rgba\\(${mn},${mn},${mn},${Yn}\\)$`),$d=new RegExp(`^rgba\\(${_t},${_t},${_t},${Yn}\\)$`),jd=new RegExp(`^hsl\\(${Yn},${_t},${_t}\\)$`),Jd=new RegExp(`^hsla\\(${Yn},${_t},${_t},${Yn}\\)$`),jo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ao($n,Bn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jo,formatHex:Jo,formatHex8:Qd,formatHsl:ef,formatRgb:Qo,toString:Qo});function Jo(){return this.rgb().formatHex()}function Qd(){return this.rgb().formatHex8()}function ef(){return Na(this).formatHsl()}function Qo(){return this.rgb().formatRgb()}function Bn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ud.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?es(t):n===3?new nt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?oi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?oi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Gd.exec(e))?new nt(t[1],t[2],t[3],1):(t=Zd.exec(e))?new nt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qd.exec(e))?oi(t[1],t[2],t[3],t[4]):(t=$d.exec(e))?oi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jd.exec(e))?is(t[1],t[2]/100,t[3]/100,1):(t=Jd.exec(e))?is(t[1],t[2]/100,t[3]/100,t[4]):jo.hasOwnProperty(e)?es(jo[e]):e==="transparent"?new nt(NaN,NaN,NaN,0):null}function es(e){return new nt(e>>16&255,e>>8&255,e&255,1)}function oi(e,t,n,i){return i<=0&&(e=t=n=NaN),new nt(e,t,n,i)}function tf(e){return e instanceof $n||(e=Bn(e)),e?(e=e.rgb(),new nt(e.r,e.g,e.b,e.opacity)):new nt}function Mr(e,t,n,i){return arguments.length===1?tf(e):new nt(e,t,n,i??1)}function nt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}ao(nt,Mr,Ca($n,{brighter(e){return e=e==null?_i:Math.pow(_i,e),new nt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fn:Math.pow(Fn,e),new nt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nt(qt(this.r),qt(this.g),qt(this.b),ki(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ts,formatHex:ts,formatHex8:nf,formatRgb:ns,toString:ns}));function ts(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}`}function nf(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}${Gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ns(){const e=ki(this.opacity);return`${e===1?"rgb(":"rgba("}${qt(this.r)}, ${qt(this.g)}, ${qt(this.b)}${e===1?")":`, ${e})`}`}function ki(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gt(e){return e=qt(e),(e<16?"0":"")+e.toString(16)}function is(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mt(e,t,n,i)}function Na(e){if(e instanceof mt)return new mt(e.h,e.s,e.l,e.opacity);if(e instanceof $n||(e=Bn(e)),!e)return new mt;if(e instanceof mt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,c=(o+r)/2;return a?(t===o?s=(n-i)/a+(n<i)*6:n===o?s=(i-t)/a+2:s=(t-n)/a+4,a/=c<.5?o+r:2-o-r,s*=60):a=c>0&&c<1?0:s,new mt(s,a,c,e.opacity)}function rf(e,t,n,i){return arguments.length===1?Na(e):new mt(e,t,n,i??1)}function mt(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}ao(mt,rf,Ca($n,{brighter(e){return e=e==null?_i:Math.pow(_i,e),new mt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fn:Math.pow(Fn,e),new mt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new nt(dr(e>=240?e-240:e+120,r,i),dr(e,r,i),dr(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new mt(rs(this.h),si(this.s),si(this.l),ki(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ki(this.opacity);return`${e===1?"hsl(":"hsla("}${rs(this.h)}, ${si(this.s)*100}%, ${si(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rs(e){return e=(e||0)%360,e<0?e+360:e}function si(e){return Math.max(0,Math.min(1,e||0))}function dr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ta=e=>()=>e;function of(e,t){return function(n){return e+n*t}}function sf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function af(e){return(e=+e)==1?Ma:function(t,n){return n-t?sf(t,n,e):Ta(isNaN(t)?n:t)}}function Ma(e,t){var n=t-e;return n?of(e,n):Ta(isNaN(e)?t:e)}const os=function e(t){var n=af(t);function i(r,o){var s=n((r=Mr(r)).r,(o=Mr(o)).r),a=n(r.g,o.g),c=n(r.b,o.b),u=Ma(r.opacity,o.opacity);return function(l){return r.r=s(l),r.g=a(l),r.b=c(l),r.opacity=u(l),r+""}}return i.gamma=e,i}(1);function Dt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Pr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fr=new RegExp(Pr.source,"g");function lf(e){return function(){return e}}function cf(e){return function(t){return e(t)+""}}function uf(e,t){var n=Pr.lastIndex=fr.lastIndex=0,i,r,o,s=-1,a=[],c=[];for(e=e+"",t=t+"";(i=Pr.exec(e))&&(r=fr.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(i=i[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,c.push({i:s,x:Dt(i,r)})),n=fr.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?cf(c[0].x):lf(t):(t=c.length,function(u){for(var l=0,h;l<t;++l)a[(h=c[l]).i]=h.x(u);return a.join("")})}var ss=180/Math.PI,Ir={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pa(e,t,n,i,r,o){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,c/=a),e*i<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*ss,skewX:Math.atan(c)*ss,scaleX:s,scaleY:a}}var ai;function df(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ir:Pa(t.a,t.b,t.c,t.d,t.e,t.f)}function ff(e){return e==null||(ai||(ai=document.createElementNS("http://www.w3.org/2000/svg","g")),ai.setAttribute("transform",e),!(e=ai.transform.baseVal.consolidate()))?Ir:(e=e.matrix,Pa(e.a,e.b,e.c,e.d,e.e,e.f))}function Ia(e,t,n,i){function r(u){return u.length?u.pop()+" ":""}function o(u,l,h,f,g,m){if(u!==h||l!==f){var x=g.push("translate(",null,t,null,n);m.push({i:x-4,x:Dt(u,h)},{i:x-2,x:Dt(l,f)})}else(h||f)&&g.push("translate("+h+t+f+n)}function s(u,l,h,f){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),f.push({i:h.push(r(h)+"rotate(",null,i)-2,x:Dt(u,l)})):l&&h.push(r(h)+"rotate("+l+i)}function a(u,l,h,f){u!==l?f.push({i:h.push(r(h)+"skewX(",null,i)-2,x:Dt(u,l)}):l&&h.push(r(h)+"skewX("+l+i)}function c(u,l,h,f,g,m){if(u!==h||l!==f){var x=g.push(r(g)+"scale(",null,",",null,")");m.push({i:x-4,x:Dt(u,h)},{i:x-2,x:Dt(l,f)})}else(h!==1||f!==1)&&g.push(r(g)+"scale("+h+","+f+")")}return function(u,l){var h=[],f=[];return u=e(u),l=e(l),o(u.translateX,u.translateY,l.translateX,l.translateY,h,f),s(u.rotate,l.rotate,h,f),a(u.skewX,l.skewX,h,f),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,h,f),u=l=null,function(g){for(var m=-1,x=f.length,v;++m<x;)h[(v=f[m]).i]=v.x(g);return h.join("")}}}var hf=Ia(df,"px, ","px)","deg)"),gf=Ia(ff,", ",")",")"),pf=1e-12;function as(e){return((e=Math.exp(e))+1/e)/2}function mf(e){return((e=Math.exp(e))-1/e)/2}function vf(e){return((e=Math.exp(2*e))-1)/(e+1)}const yf=function e(t,n,i){function r(o,s){var a=o[0],c=o[1],u=o[2],l=s[0],h=s[1],f=s[2],g=l-a,m=h-c,x=g*g+m*m,v,_;if(x<pf)_=Math.log(f/u)/t,v=function(T){return[a+T*g,c+T*m,u*Math.exp(t*T*_)]};else{var y=Math.sqrt(x),E=(f*f-u*u+i*x)/(2*u*n*y),k=(f*f-u*u-i*x)/(2*f*n*y),S=Math.log(Math.sqrt(E*E+1)-E),A=Math.log(Math.sqrt(k*k+1)-k);_=(A-S)/t,v=function(T){var P=T*_,z=as(S),D=u/(n*y)*(z*vf(t*P+S)-mf(S));return[a+D*g,c+D*m,u*z/as(t*P+S)]}}return v.duration=_*1e3*t/Math.SQRT2,v}return r.rho=function(o){var s=Math.max(.001,+o),a=s*s,c=a*a;return e(s,a,c)},r}(Math.SQRT2,2,4);var wn=0,On=0,Pn=0,Oa=1e3,Si,zn,Ei=0,Jt=0,Ui=0,Vn=typeof performance=="object"&&performance.now?performance:Date,za=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function lo(){return Jt||(za(xf),Jt=Vn.now()+Ui)}function xf(){Jt=0}function Ai(){this._call=this._time=this._next=null}Ai.prototype=Da.prototype={constructor:Ai,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?lo():+n)+(t==null?0:+t),!this._next&&zn!==this&&(zn?zn._next=this:Si=this,zn=this),this._call=e,this._time=n,Or()},stop:function(){this._call&&(this._call=null,this._time=1/0,Or())}};function Da(e,t,n){var i=new Ai;return i.restart(e,t,n),i}function wf(){lo(),++wn;for(var e=Si,t;e;)(t=Jt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--wn}function ls(){Jt=(Ei=Vn.now())+Ui,wn=On=0;try{wf()}finally{wn=0,_f(),Jt=0}}function bf(){var e=Vn.now(),t=e-Ei;t>Oa&&(Ui-=t,Ei=e)}function _f(){for(var e,t=Si,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Si=n);zn=e,Or(i)}function Or(e){if(!wn){On&&(On=clearTimeout(On));var t=e-Jt;t>24?(e<1/0&&(On=setTimeout(ls,e-Vn.now()-Ui)),Pn&&(Pn=clearInterval(Pn))):(Pn||(Ei=Vn.now(),Pn=setInterval(bf,Oa)),wn=1,za(ls))}}function cs(e,t,n){var i=new Ai;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var kf=Wi("start","end","cancel","interrupt"),Sf=[],La=0,us=1,zr=2,gi=3,ds=4,Dr=5,pi=6;function Gi(e,t,n,i,r,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Ef(e,n,{name:t,index:i,group:r,on:kf,tween:Sf,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:La})}function co(e,t){var n=vt(e,t);if(n.state>La)throw new Error("too late; already scheduled");return n}function St(e,t){var n=vt(e,t);if(n.state>gi)throw new Error("too late; already running");return n}function vt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ef(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=Da(o,0,n.time);function o(u){n.state=us,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var l,h,f,g;if(n.state!==us)return c();for(l in i)if(g=i[l],g.name===n.name){if(g.state===gi)return cs(s);g.state===ds?(g.state=pi,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete i[l]):+l<t&&(g.state=pi,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete i[l])}if(cs(function(){n.state===gi&&(n.state=ds,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=zr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===zr){for(n.state=gi,r=new Array(f=n.tween.length),l=0,h=-1;l<f;++l)(g=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=g);r.length=h+1}}function a(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Dr,1),h=-1,f=r.length;++h<f;)r[h].call(e,l);n.state===Dr&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=pi,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function mi(e,t){var n=e.__transition,i,r,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((i=n[s]).name!==t){o=!1;continue}r=i.state>zr&&i.state<Dr,i.state=pi,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}o&&delete e.__transition}}function Af(e){return this.each(function(){mi(this,e)})}function Cf(e,t){var n,i;return function(){var r=St(this,e),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function Nf(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=St(this,e),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:t,value:n},c=0,u=r.length;c<u;++c)if(r[c].name===t){r[c]=a;break}c===u&&r.push(a)}o.tween=r}}function Tf(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=vt(this.node(),n).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===e)return s.value;return null}return this.each((t==null?Cf:Nf)(n,e,t))}function uo(e,t,n){var i=e._id;return e.each(function(){var r=St(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return vt(r,i).value[t]}}function Ha(e,t){var n;return(typeof t=="number"?Dt:t instanceof Bn?os:(n=Bn(t))?(t=n,os):uf)(e,t)}function Mf(e){return function(){this.removeAttribute(e)}}function Pf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function If(e,t,n){var i,r=n+"",o;return function(){var s=this.getAttribute(e);return s===r?null:s===i?o:o=t(i=s,n)}}function Of(e,t,n){var i,r=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===i?o:o=t(i=s,n)}}function zf(e,t,n){var i,r,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===i&&c===r?o:(r=c,o=t(i=s,a)))}}function Df(e,t,n){var i,r,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===i&&c===r?o:(r=c,o=t(i=s,a)))}}function Lf(e,t){var n=Ki(e),i=n==="transform"?gf:Ha;return this.attrTween(e,typeof t=="function"?(n.local?Df:zf)(n,i,uo(this,"attr."+e,t)):t==null?(n.local?Pf:Mf)(n):(n.local?Of:If)(n,i,t))}function Hf(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Rf(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ff(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&Rf(e,o)),n}return r._value=t,r}function Yf(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&Hf(e,o)),n}return r._value=t,r}function Bf(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Ki(e);return this.tween(n,(i.local?Ff:Yf)(i,t))}function Vf(e,t){return function(){co(this,e).delay=+t.apply(this,arguments)}}function Xf(e,t){return t=+t,function(){co(this,e).delay=t}}function Wf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Vf:Xf)(t,e)):vt(this.node(),t).delay}function Kf(e,t){return function(){St(this,e).duration=+t.apply(this,arguments)}}function Uf(e,t){return t=+t,function(){St(this,e).duration=t}}function Gf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Kf:Uf)(t,e)):vt(this.node(),t).duration}function Zf(e,t){if(typeof t!="function")throw new Error;return function(){St(this,e).ease=t}}function qf(e){var t=this._id;return arguments.length?this.each(Zf(t,e)):vt(this.node(),t).ease}function $f(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;St(this,e).ease=n}}function jf(e){if(typeof e!="function")throw new Error;return this.each($f(this._id,e))}function Jf(e){typeof e!="function"&&(e=pa(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],s=o.length,a=i[r]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new Ot(i,this._parents,this._name,this._id)}function Qf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var c=t[a],u=n[a],l=c.length,h=s[a]=new Array(l),f,g=0;g<l;++g)(f=c[g]||u[g])&&(h[g]=f);for(;a<i;++a)s[a]=t[a];return new Ot(s,this._parents,this._name,this._id)}function eh(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function th(e,t,n){var i,r,o=eh(t)?co:St;return function(){var s=o(this,e),a=s.on;a!==i&&(r=(i=a).copy()).on(t,n),s.on=r}}function nh(e,t){var n=this._id;return arguments.length<2?vt(this.node(),n).on.on(e):this.each(th(n,e,t))}function ih(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function rh(){return this.on("end.remove",ih(this._id))}function oh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=oo(e));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a=i[s],c=a.length,u=o[s]=new Array(c),l,h,f=0;f<c;++f)(l=a[f])&&(h=e.call(l,l.__data__,f,a))&&("__data__"in l&&(h.__data__=l.__data__),u[f]=h,Gi(u[f],t,n,f,u,vt(l,n)));return new Ot(o,this._parents,t,n)}function sh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ga(e));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var c=i[a],u=c.length,l,h=0;h<u;++h)if(l=c[h]){for(var f=e.call(l,l.__data__,h,c),g,m=vt(l,n),x=0,v=f.length;x<v;++x)(g=f[x])&&Gi(g,t,n,x,f,m);o.push(f),s.push(l)}return new Ot(o,s,t,n)}var ah=qn.prototype.constructor;function lh(){return new ah(this._groups,this._parents)}function ch(e,t){var n,i,r;return function(){var o=xn(this,e),s=(this.style.removeProperty(e),xn(this,e));return o===s?null:o===n&&s===i?r:r=t(n=o,i=s)}}function Ra(e){return function(){this.style.removeProperty(e)}}function uh(e,t,n){var i,r=n+"",o;return function(){var s=xn(this,e);return s===r?null:s===i?o:o=t(i=s,n)}}function dh(e,t,n){var i,r,o;return function(){var s=xn(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),xn(this,e))),s===c?null:s===i&&c===r?o:(r=c,o=t(i=s,a))}}function fh(e,t){var n,i,r,o="style."+t,s="end."+o,a;return function(){var c=St(this,e),u=c.on,l=c.value[o]==null?a||(a=Ra(t)):void 0;(u!==n||r!==l)&&(i=(n=u).copy()).on(s,r=l),c.on=i}}function hh(e,t,n){var i=(e+="")=="transform"?hf:Ha;return t==null?this.styleTween(e,ch(e,i)).on("end.style."+e,Ra(e)):typeof t=="function"?this.styleTween(e,dh(e,i,uo(this,"style."+e,t))).each(fh(this._id,e)):this.styleTween(e,uh(e,i,t),n).on("end.style."+e,null)}function gh(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function ph(e,t,n){var i,r;function o(){var s=t.apply(this,arguments);return s!==r&&(i=(r=s)&&gh(e,s,n)),i}return o._value=t,o}function mh(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,ph(e,t,n??""))}function vh(e){return function(){this.textContent=e}}function yh(e){return function(){var t=e(this);this.textContent=t??""}}function xh(e){return this.tween("text",typeof e=="function"?yh(uo(this,"text",e)):vh(e==null?"":e+""))}function wh(e){return function(t){this.textContent=e.call(this,t)}}function bh(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&wh(r)),t}return i._value=e,i}function _h(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,bh(e))}function kh(){for(var e=this._name,t=this._id,n=Fa(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var l=vt(c,t);Gi(c,e,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ot(i,this._parents,e,n)}function Sh(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--r===0&&o()}};n.each(function(){var u=St(this,i),l=u.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),r===0&&o()})}var Eh=0;function Ot(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Fa(){return++Eh}var Ct=qn.prototype;Ot.prototype={constructor:Ot,select:oh,selectAll:sh,selectChild:Ct.selectChild,selectChildren:Ct.selectChildren,filter:Jf,merge:Qf,selection:lh,transition:kh,call:Ct.call,nodes:Ct.nodes,node:Ct.node,size:Ct.size,empty:Ct.empty,each:Ct.each,on:nh,attr:Lf,attrTween:Bf,style:hh,styleTween:mh,text:xh,textTween:_h,remove:rh,tween:Tf,delay:Wf,duration:Gf,ease:qf,easeVarying:jf,end:Sh,[Symbol.iterator]:Ct[Symbol.iterator]};function Ah(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ch={time:null,delay:0,duration:250,ease:Ah};function Nh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Th(e){var t,n;e instanceof Ot?(t=e._id,e=e._name):(t=Fa(),(n=Ch).time=lo(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&Gi(c,e,t,u,s,n||Nh(c,t));return new Ot(i,this._parents,e,t)}qn.prototype.interrupt=Af;qn.prototype.transition=Th;const li=e=>()=>e;function Mh(e,{sourceEvent:t,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Tt(e,t,n){this.k=e,this.x=t,this.y=n}Tt.prototype={constructor:Tt,scale:function(e){return e===1?this:new Tt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Tt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zi=new Tt(1,0,0);Ya.prototype=Tt.prototype;function Ya(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Zi;return e.__zoom}function hr(e){e.stopImmediatePropagation()}function In(e){e.preventDefault(),e.stopImmediatePropagation()}function Ph(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ih(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function fs(){return this.__zoom||Zi}function Oh(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function zh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dh(e,t,n){var i=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Ba(){var e=Ph,t=Ih,n=Dh,i=Oh,r=zh,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=yf,u=Wi("start","zoom","end"),l,h,f,g=500,m=150,x=0,v=10;function _(w){w.property("__zoom",fs).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",D).filter(r).on("touchstart.zoom",Y).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(w,O,b,C){var N=w.selection?w.selection():w;N.property("__zoom",fs),w!==N?S(w,O,b,C):N.interrupt().each(function(){A(this,arguments).event(C).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},_.scaleBy=function(w,O,b,C){_.scaleTo(w,function(){var N=this.__zoom.k,M=typeof O=="function"?O.apply(this,arguments):O;return N*M},b,C)},_.scaleTo=function(w,O,b,C){_.transform(w,function(){var N=t.apply(this,arguments),M=this.__zoom,L=b==null?k(N):typeof b=="function"?b.apply(this,arguments):b,B=M.invert(L),$=typeof O=="function"?O.apply(this,arguments):O;return n(E(y(M,$),L,B),N,s)},b,C)},_.translateBy=function(w,O,b,C){_.transform(w,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof b=="function"?b.apply(this,arguments):b),t.apply(this,arguments),s)},null,C)},_.translateTo=function(w,O,b,C,N){_.transform(w,function(){var M=t.apply(this,arguments),L=this.__zoom,B=C==null?k(M):typeof C=="function"?C.apply(this,arguments):C;return n(Zi.translate(B[0],B[1]).scale(L.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof b=="function"?-b.apply(this,arguments):-b),M,s)},C,N)};function y(w,O){return O=Math.max(o[0],Math.min(o[1],O)),O===w.k?w:new Tt(O,w.x,w.y)}function E(w,O,b){var C=O[0]-b[0]*w.k,N=O[1]-b[1]*w.k;return C===w.x&&N===w.y?w:new Tt(w.k,C,N)}function k(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function S(w,O,b,C){w.on("start.zoom",function(){A(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(C).end()}).tween("zoom",function(){var N=this,M=arguments,L=A(N,M).event(C),B=t.apply(N,M),$=b==null?k(B):typeof b=="function"?b.apply(N,M):b,ie=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),Z=N.__zoom,te=typeof O=="function"?O.apply(N,M):O,U=c(Z.invert($).concat(ie/Z.k),te.invert($).concat(ie/te.k));return function(J){if(J===1)J=te;else{var j=U(J),V=ie/j[2];J=new Tt(V,$[0]-j[0]*V,$[1]-j[1]*V)}L.zoom(null,J)}})}function A(w,O,b){return!b&&w.__zooming||new T(w,O)}function T(w,O){this.that=w,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(w,O),this.taps=0}T.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,O){return this.mouse&&w!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var O=ft(this.that).datum();u.call(w,this.that,new Mh(w,{sourceEvent:this.sourceEvent,target:_,type:w,transform:this.that.__zoom,dispatch:u}),O)}};function P(w,...O){if(!e.apply(this,arguments))return;var b=A(this,O).event(w),C=this.__zoom,N=Math.max(o[0],Math.min(o[1],C.k*Math.pow(2,i.apply(this,arguments)))),M=pt(w);if(b.wheel)(b.mouse[0][0]!==M[0]||b.mouse[0][1]!==M[1])&&(b.mouse[1]=C.invert(b.mouse[0]=M)),clearTimeout(b.wheel);else{if(C.k===N)return;b.mouse=[M,C.invert(M)],mi(this),b.start()}In(w),b.wheel=setTimeout(L,m),b.zoom("mouse",n(E(y(C,N),b.mouse[0],b.mouse[1]),b.extent,s));function L(){b.wheel=null,b.end()}}function z(w,...O){if(f||!e.apply(this,arguments))return;var b=w.currentTarget,C=A(this,O,!0).event(w),N=ft(w.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",ie,!0),M=pt(w,b),L=w.clientX,B=w.clientY;Ea(w.view),hr(w),C.mouse=[M,this.__zoom.invert(M)],mi(this),C.start();function $(Z){if(In(Z),!C.moved){var te=Z.clientX-L,U=Z.clientY-B;C.moved=te*te+U*U>x}C.event(Z).zoom("mouse",n(E(C.that.__zoom,C.mouse[0]=pt(Z,b),C.mouse[1]),C.extent,s))}function ie(Z){N.on("mousemove.zoom mouseup.zoom",null),Aa(Z.view,C.moved),In(Z),C.event(Z).end()}}function D(w,...O){if(e.apply(this,arguments)){var b=this.__zoom,C=pt(w.changedTouches?w.changedTouches[0]:w,this),N=b.invert(C),M=b.k*(w.shiftKey?.5:2),L=n(E(y(b,M),C,N),t.apply(this,O),s);In(w),a>0?ft(this).transition().duration(a).call(S,L,C,w):ft(this).call(_.transform,L,C,w)}}function Y(w,...O){if(e.apply(this,arguments)){var b=w.touches,C=b.length,N=A(this,O,w.changedTouches.length===C).event(w),M,L,B,$;for(hr(w),L=0;L<C;++L)B=b[L],$=pt(B,this),$=[$,this.__zoom.invert($),B.identifier],N.touch0?!N.touch1&&N.touch0[2]!==$[2]&&(N.touch1=$,N.taps=0):(N.touch0=$,M=!0,N.taps=1+!!l);l&&(l=clearTimeout(l)),M&&(N.taps<2&&(h=$[0],l=setTimeout(function(){l=null},g)),mi(this),N.start())}}function H(w,...O){if(this.__zooming){var b=A(this,O).event(w),C=w.changedTouches,N=C.length,M,L,B,$;for(In(w),M=0;M<N;++M)L=C[M],B=pt(L,this),b.touch0&&b.touch0[2]===L.identifier?b.touch0[0]=B:b.touch1&&b.touch1[2]===L.identifier&&(b.touch1[0]=B);if(L=b.that.__zoom,b.touch1){var ie=b.touch0[0],Z=b.touch0[1],te=b.touch1[0],U=b.touch1[1],J=(J=te[0]-ie[0])*J+(J=te[1]-ie[1])*J,j=(j=U[0]-Z[0])*j+(j=U[1]-Z[1])*j;L=y(L,Math.sqrt(J/j)),B=[(ie[0]+te[0])/2,(ie[1]+te[1])/2],$=[(Z[0]+U[0])/2,(Z[1]+U[1])/2]}else if(b.touch0)B=b.touch0[0],$=b.touch0[1];else return;b.zoom("touch",n(E(L,B,$),b.extent,s))}}function I(w,...O){if(this.__zooming){var b=A(this,O).event(w),C=w.changedTouches,N=C.length,M,L;for(hr(w),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),M=0;M<N;++M)L=C[M],b.touch0&&b.touch0[2]===L.identifier?delete b.touch0:b.touch1&&b.touch1[2]===L.identifier&&delete b.touch1;if(b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0)b.touch0[1]=this.__zoom.invert(b.touch0[0]);else if(b.end(),b.taps===2&&(L=pt(L,this),Math.hypot(h[0]-L[0],h[1]-L[1])<v)){var B=ft(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return _.wheelDelta=function(w){return arguments.length?(i=typeof w=="function"?w:li(+w),_):i},_.filter=function(w){return arguments.length?(e=typeof w=="function"?w:li(!!w),_):e},_.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:li(!!w),_):r},_.extent=function(w){return arguments.length?(t=typeof w=="function"?w:li([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),_):t},_.scaleExtent=function(w){return arguments.length?(o[0]=+w[0],o[1]=+w[1],_):[o[0],o[1]]},_.translateExtent=function(w){return arguments.length?(s[0][0]=+w[0][0],s[1][0]=+w[1][0],s[0][1]=+w[0][1],s[1][1]=+w[1][1],_):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},_.constrain=function(w){return arguments.length?(n=w,_):n},_.duration=function(w){return arguments.length?(a=+w,_):a},_.interpolate=function(w){return arguments.length?(c=w,_):c},_.on=function(){var w=u.on.apply(u,arguments);return w===u?_:w},_.clickDistance=function(w){return arguments.length?(x=(w=+w)*w,_):Math.sqrt(x)},_.tapDistance=function(w){return arguments.length?(v=+w,_):v},_}const jn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:i}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`},Ci=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Qt;(function(e){e.Strict="strict",e.Loose="loose"})(Qt||(Qt={}));var Rt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Rt||(Rt={}));var Ni;(function(e){e.Partial="partial",e.Full="full"})(Ni||(Ni={}));const Lr={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var vn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(vn||(vn={}));var Ti;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ti||(Ti={}));var fe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(fe||(fe={}));const hs={[fe.Left]:fe.Right,[fe.Right]:fe.Left,[fe.Top]:fe.Bottom,[fe.Bottom]:fe.Top};function Lh(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function gs(e,t,n){if(!n)return;const i=[];e.forEach((r,o)=>{t!=null&&t.has(o)||i.push(r)}),i.length&&n(i)}function Hh(e){return e===null?null:e?"valid":"invalid"}const Rh=e=>"id"in e&&"source"in e&&"target"in e,Fh=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),fo=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Jn=(e,t=[0,0])=>{const{width:n,height:i}=Bt(e),r=e.origin??t,o=n*r[0],s=i*r[1];return{x:e.position.x-o,y:e.position.y-s}},Yh=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,r)=>{const o=typeof r=="string";let s=!t.nodeLookup&&!o?r:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(r):fo(r)?r:t.nodeLookup.get(r.id));const a=s?Mi(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return qi(i,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return $i(n)},Qn=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(i=>{if(t.filter===void 0||t.filter(i)){const r=Mi(i);n=qi(n,r)}}),$i(n)},Va=(e,t,[n,i,r]=[0,0,1],o=!1,s=!1)=>{const a={...ei(t,[n,i,r]),width:t.width/r,height:t.height/r},c=[];for(const u of e.values()){const{measured:l,selectable:h=!0,hidden:f=!1}=u;if(s&&!h||f)continue;const g=l.width??u.width??u.initialWidth??null,m=l.height??u.height??u.initialHeight??null,x=Xn(a,_n(u)),v=(g??0)*(m??0),_=o&&x>0;(!u.internals.handleBounds||_||x>=v||u.dragging)&&c.push(u)}return c},Hr=(e,t)=>{const n=new Set;return e.forEach(i=>{n.add(i.id)}),t.filter(i=>n.has(i.source)||n.has(i.target))};function ps(e,t){const n=new Map,i=t!=null&&t.nodes?new Set(t.nodes.map(r=>r.id)):null;return e.forEach(r=>{r.measured.width&&r.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!r.hidden)&&(!i||i.has(r.id))&&n.set(r.id,r)}),n}async function ms({nodes:e,width:t,height:n,panZoom:i,minZoom:r,maxZoom:o},s){if(e.size===0)return Promise.resolve(!1);const a=Qn(e),c=go(a,t,n,(s==null?void 0:s.minZoom)??r,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await i.setViewport(c,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function Bh({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:r,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:c,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},l=s.origin??i;let h=r;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",jn.error005());else{const g=a.measured.width,m=a.measured.height;g&&m&&(h=[[c,u],[c+g,u+m]])}else a&&kn(s.extent)&&(h=[[s.extent[0][0]+c,s.extent[0][1]+u],[s.extent[1][0]+c,s.extent[1][1]+u]]);const f=kn(h)?en(t,h,s.measured):t;return{position:{x:f.x-c+s.measured.width*l[0],y:f.y-u+s.measured.height*l[1]},positionAbsolute:f}}async function Xa({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:i,onBeforeDelete:r}){const o=new Set(e.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const g=o.has(f.id),m=!g&&f.parentId&&s.find(x=>x.id===f.parentId);(g||m)&&s.push(f)}const a=new Set(t.map(f=>f.id)),c=i.filter(f=>f.deletable!==!1),l=Hr(s,c);for(const f of c)a.has(f.id)&&!l.find(m=>m.id===f.id)&&l.push(f);if(!r)return{edges:l,nodes:s};const h=await r({nodes:s,edges:l});return typeof h=="boolean"?h?{edges:l,nodes:s}:{edges:[],nodes:[]}:h}const bn=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),en=(e={x:0,y:0},t,n)=>({x:bn(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:bn(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Wa(e,t,n){const{width:i,height:r}=Bt(n),{x:o,y:s}=n.internals.positionAbsolute;return en(e,[[o,s],[o+i,s+r]],t)}const vs=(e,t,n)=>e<t?bn(Math.abs(e-t),1,t)/t:e>n?-bn(Math.abs(e-n),1,t)/t:0,Ka=(e,t,n=15,i=40)=>{const r=vs(e.x,i,t.width-i)*n,o=vs(e.y,i,t.height-i)*n;return[r,o]},qi=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Rr=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),$i=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),_n=(e,t=[0,0])=>{var r,o;const{x:n,y:i}=fo(e)?e.internals.positionAbsolute:Jn(e,t);return{x:n,y:i,width:((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Mi=(e,t=[0,0])=>{var r,o;const{x:n,y:i}=fo(e)?e.internals.positionAbsolute:Jn(e,t);return{x:n,y:i,x2:n+(((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0),y2:i+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},Ua=(e,t)=>$i(qi(Rr(e),Rr(t))),Xn=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},ys=e=>Mt(e.width)&&Mt(e.height)&&Mt(e.x)&&Mt(e.y),Mt=e=>!isNaN(e)&&isFinite(e),Vh=(e,t)=>{},ho=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ei=({x:e,y:t},[n,i,r],o=!1,s=[1,1])=>{const a={x:(e-n)/r,y:(t-i)/r};return o?ho(a,s):a},Ga=({x:e,y:t},[n,i,r])=>({x:e*r+n,y:t*r+i}),go=(e,t,n,i,r,o)=>{const s=t/(e.width*(1+o)),a=n/(e.height*(1+o)),c=Math.min(s,a),u=bn(c,i,r),l=e.x+e.width/2,h=e.y+e.height/2,f=t/2-l*u,g=n/2-h*u;return{x:f,y:g,zoom:u}},Pi=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function kn(e){return e!==void 0&&e!=="parent"}function Bt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Za(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Xh(e,t={width:0,height:0},n,i,r){const o={...e},s=i.get(n);if(s){const a=s.origin||r;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function gr(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:i,containerBounds:r}){const{x:o,y:s}=Pt(e),a=ei({x:o-((r==null?void 0:r.left)??0),y:s-((r==null?void 0:r.top)??0)},i),{x:c,y:u}=n?ho(a,t):a;return{xSnapped:c,ySnapped:u,...a}}const po=e=>({width:e.offsetWidth,height:e.offsetHeight}),Wh=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Kh=["INPUT","SELECT","TEXTAREA"];function Uh(e){var i,r;const t=((r=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:r[0])||e.target;return Kh.includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable"))||!!(t!=null&&t.closest(".nokey"))}const qa=e=>"clientX"in e,Pt=(e,t)=>{var o,s;const n=qa(e),i=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,r=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},xs=(e,t,n,i,r)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:r,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/i,y:(a.top-n.top)/i,...po(s)}})};function Gh({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:r,sourceControlY:o,targetControlX:s,targetControlY:a}){const c=e*.125+r*.375+s*.375+n*.125,u=t*.125+o*.375+a*.375+i*.125,l=Math.abs(c-e),h=Math.abs(u-t);return[c,u,l,h]}function ci(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ws({pos:e,x1:t,y1:n,x2:i,y2:r,c:o}){switch(e){case fe.Left:return[t-ci(t-i,o),n];case fe.Right:return[t+ci(i-t,o),n];case fe.Top:return[t,n-ci(n-r,o)];case fe.Bottom:return[t,n+ci(r-n,o)]}}function $a({sourceX:e,sourceY:t,sourcePosition:n=fe.Bottom,targetX:i,targetY:r,targetPosition:o=fe.Top,curvature:s=.25}){const[a,c]=ws({pos:n,x1:e,y1:t,x2:i,y2:r,c:s}),[u,l]=ws({pos:o,x1:i,y1:r,x2:e,y2:t,c:s}),[h,f,g,m]=Gh({sourceX:e,sourceY:t,targetX:i,targetY:r,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:l});return[`M${e},${t} C${a},${c} ${u},${l} ${i},${r}`,h,f,g,m]}function ja({sourceX:e,sourceY:t,targetX:n,targetY:i}){const r=Math.abs(n-e)/2,o=n<e?n+r:n-r,s=Math.abs(i-t)/2,a=i<t?i+s:i-s;return[o,a,r,s]}function Zh({sourceNode:e,targetNode:t,selected:n=!1,zIndex:i=0,elevateOnSelect:r=!1}){if(!r)return i;const o=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return i+(o?s:0)}function qh({sourceNode:e,targetNode:t,width:n,height:i,transform:r}){const o=qi(Mi(e),Mi(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-r[0]/r[2],y:-r[1]/r[2],width:n/r[2],height:i/r[2]};return Xn(s,$i(o))>0}const $h=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`xy-edge__${e}${t||""}-${n}${i||""}`,jh=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Jh=(e,t)=>{if(!e.source||!e.target)return t;let n;return Rh(e)?n={...e}:n={...e,id:$h(e)},jh(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Fr({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[r,o,s,a]=ja({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,r,o,s,a]}const bs={[fe.Left]:{x:-1,y:0},[fe.Right]:{x:1,y:0},[fe.Top]:{x:0,y:-1},[fe.Bottom]:{x:0,y:1}},Qh=({source:e,sourcePosition:t=fe.Bottom,target:n})=>t===fe.Left||t===fe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},_s=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function eg({source:e,sourcePosition:t=fe.Bottom,target:n,targetPosition:i=fe.Top,center:r,offset:o}){const s=bs[t],a=bs[i],c={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},l=Qh({source:c,sourcePosition:t,target:u}),h=l.x!==0?"x":"y",f=l[h];let g=[],m,x;const v={x:0,y:0},_={x:0,y:0},[y,E,k,S]=ja({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[h]*a[h]===-1){m=r.x??y,x=r.y??E;const T=[{x:m,y:c.y},{x:m,y:u.y}],P=[{x:c.x,y:x},{x:u.x,y:x}];s[h]===f?g=h==="x"?T:P:g=h==="x"?P:T}else{const T=[{x:c.x,y:u.y}],P=[{x:u.x,y:c.y}];if(h==="x"?g=s.x===f?P:T:g=s.y===f?T:P,t===i){const I=Math.abs(e[h]-n[h]);if(I<=o){const w=Math.min(o-1,o-I);s[h]===f?v[h]=(c[h]>e[h]?-1:1)*w:_[h]=(u[h]>n[h]?-1:1)*w}}if(t!==i){const I=h==="x"?"y":"x",w=s[h]===a[I],O=c[I]>u[I],b=c[I]<u[I];(s[h]===1&&(!w&&O||w&&b)||s[h]!==1&&(!w&&b||w&&O))&&(g=h==="x"?T:P)}const z={x:c.x+v.x,y:c.y+v.y},D={x:u.x+_.x,y:u.y+_.y},Y=Math.max(Math.abs(z.x-g[0].x),Math.abs(D.x-g[0].x)),H=Math.max(Math.abs(z.y-g[0].y),Math.abs(D.y-g[0].y));Y>=H?(m=(z.x+D.x)/2,x=g[0].y):(m=g[0].x,x=(z.y+D.y)/2)}return[[e,{x:c.x+v.x,y:c.y+v.y},...g,{x:u.x+_.x,y:u.y+_.y},n],m,x,k,S]}function tg(e,t,n,i){const r=Math.min(_s(e,t)/2,_s(t,n)/2,i),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,l=e.y<n.y?1:-1;return`L ${o+r*u},${s}Q ${o},${s} ${o},${s+r*l}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${s+r*c}Q ${o},${s} ${o+r*a},${s}`}function Ii({sourceX:e,sourceY:t,sourcePosition:n=fe.Bottom,targetX:i,targetY:r,targetPosition:o=fe.Top,borderRadius:s=5,centerX:a,centerY:c,offset:u=20}){const[l,h,f,g,m]=eg({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:r},targetPosition:o,center:{x:a,y:c},offset:u});return[l.reduce((v,_,y)=>{let E="";return y>0&&y<l.length-1?E=tg(l[y-1],_,l[y+1],s):E=`${y===0?"M":"L"}${_.x} ${_.y}`,v+=E,v},""),h,f,g,m]}function ks(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function ng(e){var h;const{sourceNode:t,targetNode:n}=e;if(!ks(t)||!ks(n))return null;const i=t.internals.handleBounds||Ss(t.handles),r=n.internals.handleBounds||Ss(n.handles),o=Es((i==null?void 0:i.source)??[],e.sourceHandle),s=Es(e.connectionMode===Qt.Strict?(r==null?void 0:r.target)??[]:((r==null?void 0:r.target)??[]).concat((r==null?void 0:r.source)??[]),e.targetHandle);if(!o||!s)return(h=e.onError)==null||h.call(e,"008",jn.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||fe.Bottom,c=(s==null?void 0:s.position)||fe.Top,u=Wn(t,o,a),l=Wn(n,s,c);return{sourceX:u.x,sourceY:u.y,targetX:l.x,targetY:l.y,sourcePosition:a,targetPosition:c}}function Ss(e){if(!e)return null;const t=[],n=[];for(const i of e)i.width=i.width??1,i.height=i.height??1,i.type==="source"?t.push(i):i.type==="target"&&n.push(i);return{source:t,target:n}}function Wn(e,t,n=fe.Left,i=!1){const r=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??Bt(e);if(i)return{x:r+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case fe.Top:return{x:r+s/2,y:o};case fe.Right:return{x:r+s,y:o+a/2};case fe.Bottom:return{x:r+s/2,y:o+a};case fe.Left:return{x:r,y:o+a/2}}}function Es(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Yr(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function ig(e,{id:t,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:r}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||i,a.markerEnd||r].forEach(c=>{if(c&&typeof c=="object"){const u=Yr(c,t);o.has(u)||(s.push({id:u,color:c.color||n,...c}),o.add(u))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}function rg(e,t,n,i,r){let o=.5;r==="start"?o=0:r==="end"&&(o=1);let s=[(e.x+e.width*o)*t.zoom+t.x,e.y*t.zoom+t.y-i],a=[-100*o,-100];switch(n){case fe.Right:s=[(e.x+e.width)*t.zoom+t.x+i,(e.y+e.height*o)*t.zoom+t.y],a=[0,-100*o];break;case fe.Bottom:s[1]=(e.y+e.height)*t.zoom+t.y+i,a[1]=0;break;case fe.Left:s=[e.x*t.zoom+t.x-i,(e.y+e.height*o)*t.zoom+t.y],a=[-100,-100*o];break}return`translate(${s[0]}px, ${s[1]}px) translate(${a[0]}%, ${a[1]}%)`}const mo={nodeOrigin:[0,0],nodeExtent:Ci,elevateNodesOnSelect:!0,defaults:{}},og={...mo,checkEquality:!0};function vo(e,t){const n={...e};for(const i in t)t[i]!==void 0&&(n[i]=t[i]);return n}function sg(e,t,n){const i=vo(mo,n);for(const r of e.values())if(r.parentId)yo(r,e,t,i);else{const o=Jn(r,i.nodeOrigin),s=kn(r.extent)?r.extent:i.nodeExtent,a=en(o,s,Bt(r));r.internals.positionAbsolute=a}}function Ja(e,t,n,i){var a,c;const r=vo(og,i),o=new Map(t),s=r!=null&&r.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const u of e){let l=o.get(u.id);if(r.checkEquality&&u===(l==null?void 0:l.internals.userNode))t.set(u.id,l);else{const h=Jn(u,r.nodeOrigin),f=kn(u.extent)?u.extent:r.nodeExtent,g=en(h,f,Bt(u));l={...r.defaults,...u,measured:{width:(a=u.measured)==null?void 0:a.width,height:(c=u.measured)==null?void 0:c.height},internals:{positionAbsolute:g,handleBounds:u.measured?l==null?void 0:l.internals.handleBounds:void 0,z:Qa(u,s),userNode:u}},t.set(u.id,l)}u.parentId&&yo(l,t,n,i)}}function ag(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function yo(e,t,n,i){const{elevateNodesOnSelect:r,nodeOrigin:o,nodeExtent:s}=vo(mo,i),a=e.parentId,c=t.get(a);if(!c){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}ag(e,n);const u=r?1e3:0,{x:l,y:h,z:f}=lg(e,c,o,s,u),{positionAbsolute:g}=e.internals,m=l!==g.x||h!==g.y;(m||f!==e.internals.z)&&(e.internals={...e.internals,positionAbsolute:m?{x:l,y:h}:g,z:f})}function Qa(e,t){return(Mt(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function lg(e,t,n,i,r){const{x:o,y:s}=t.internals.positionAbsolute,a=Bt(e),c=Jn(e,n),u=kn(e.extent)?en(c,e.extent,a):c;let l=en({x:o+u.x,y:s+u.y},i,a);e.extent==="parent"&&(l=Wa(l,a,t));const h=Qa(e,r),f=t.internals.z??0;return{x:l.x,y:l.y,z:f>h?f:h}}function cg(e,t,n,i=[0,0]){var s;const r=[],o=new Map;for(const a of e){const c=t.get(a.parentId);if(!c)continue;const u=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??_n(c),l=Ua(u,a.rect);o.set(a.parentId,{expandedRect:l,parent:c})}return o.size>0&&o.forEach(({expandedRect:a,parent:c},u)=>{var E;const l=c.internals.positionAbsolute,h=Bt(c),f=c.origin??i,g=a.x<l.x?Math.round(Math.abs(l.x-a.x)):0,m=a.y<l.y?Math.round(Math.abs(l.y-a.y)):0,x=Math.max(h.width,Math.round(a.width)),v=Math.max(h.height,Math.round(a.height)),_=(x-h.width)*f[0],y=(v-h.height)*f[1];(g>0||m>0||_||y)&&(r.push({id:u,type:"position",position:{x:c.position.x-g+_,y:c.position.y-m+y}}),(E=n.get(u))==null||E.forEach(k=>{e.some(S=>S.id===k.id)||r.push({id:k.id,type:"position",position:{x:k.position.x+g,y:k.position.y+m}})})),(h.width<a.width||h.height<a.height||g||m)&&r.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(g?f[0]*g-_:0),height:v+(m?f[1]*m-y:0)}})}),r}function ug(e,t,n,i,r,o){const s=i==null?void 0:i.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const c=[],u=window.getComputedStyle(s),{m22:l}=new window.DOMMatrixReadOnly(u.transform),h=[];for(const f of e.values()){const g=t.get(f.id);if(g)if(g.hidden)g.internals={...g.internals,handleBounds:void 0},a=!0;else{const m=po(f.nodeElement),x=g.measured.width!==m.width||g.measured.height!==m.height;if(!!(m.width&&m.height&&(x||!g.internals.handleBounds||f.force))){const _=f.nodeElement.getBoundingClientRect(),y=kn(g.extent)?g.extent:o;let{positionAbsolute:E}=g.internals;g.parentId&&g.extent==="parent"?E=Wa(E,m,t.get(g.parentId)):y&&(E=en(E,y,m)),g.measured=m,g.internals={...g.internals,positionAbsolute:E,handleBounds:{source:xs("source",f.nodeElement,_,l,g.id),target:xs("target",f.nodeElement,_,l,g.id)}},g.parentId&&yo(g,t,n,{nodeOrigin:r}),a=!0,x&&(c.push({id:g.id,type:"dimensions",dimensions:m}),g.expandParent&&g.parentId&&h.push({id:g.id,parentId:g.parentId,rect:_n(g,r)}))}}}if(h.length>0){const f=cg(h,t,n,r);c.push(...f)}return{changes:c,updatedInternals:a}}async function dg({delta:e,panZoom:t,transform:n,translateExtent:i,width:r,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[r,o]],i),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function el(e,t,n){e.clear(),t.clear();for(const i of n){const{source:r,target:o,sourceHandle:s=null,targetHandle:a=null}=i,c=`${r}-source-${s}`,u=`${o}-target-${a}`,l=e.get(c)||new Map,h=e.get(u)||new Map,f={edgeId:i.id,source:r,target:o,sourceHandle:s,targetHandle:a};t.set(i.id,i),e.set(c,l.set(`${o}-${a}`,f)),e.set(u,h.set(`${r}-${s}`,f))}}function tl(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:tl(n,t):!1}function As(e,t,n){let i=e;do{if(i!=null&&i.matches(t))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function fg(e,t,n,i){const r=new Map;for(const[o,s]of e)if((s.selected||s.id===i)&&(!s.parentId||!tl(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&r.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return r}function pr({nodeId:e,dragItems:t,nodeLookup:n,dragging:i=!0}){var s,a,c;const r=[];for(const[u,l]of t){const h=(s=n.get(u))==null?void 0:s.internals.userNode;h&&r.push({...h,position:l.position,dragging:i})}if(!e)return[r[0],r];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((c=t.get(e))==null?void 0:c.position)||o.position,dragging:i}:r[0],r]}function hg({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:i,onDragStop:r}){let o={x:null,y:null},s=0,a=new Map,c=!1,u={x:0,y:0},l=null,h=!1,f=null,g=!1;function m({noDragClassName:v,handleSelector:_,domNode:y,isSelectable:E,nodeId:k,nodeClickDistance:S=0}){f=ft(y);function A({x:D,y:Y},H){const{nodeLookup:I,nodeExtent:w,snapGrid:O,snapToGrid:b,nodeOrigin:C,onNodeDrag:N,onSelectionDrag:M,onError:L,updateNodePositions:B}=t();o={x:D,y:Y};let $=!1,ie={x:0,y:0,x2:0,y2:0};if(a.size>1&&w){const Z=Qn(a);ie=Rr(Z)}for(const[Z,te]of a){if(!I.has(Z))continue;let U={x:D-te.distance.x,y:Y-te.distance.y};b&&(U=ho(U,O));let J=[[w[0][0],w[0][1]],[w[1][0],w[1][1]]];if(a.size>1&&w&&!te.extent){const{positionAbsolute:G}=te.internals,oe=G.x-ie.x+w[0][0],ue=G.x+te.measured.width-ie.x2+w[1][0],be=G.y-ie.y+w[0][1],de=G.y+te.measured.height-ie.y2+w[1][1];J=[[oe,be],[ue,de]]}const{position:j,positionAbsolute:V}=Bh({nodeId:Z,nextPosition:U,nodeLookup:I,nodeExtent:J,nodeOrigin:C,onError:L});$=$||te.position.x!==j.x||te.position.y!==j.y,te.position=j,te.internals.positionAbsolute=V}if($&&(B(a,!0),H&&(i||N||!k&&M))){const[Z,te]=pr({nodeId:k,dragItems:a,nodeLookup:I});i==null||i(H,a,Z,te),N==null||N(H,Z,te),k||M==null||M(H,te)}}async function T(){if(!l)return;const{transform:D,panBy:Y,autoPanSpeed:H}=t(),[I,w]=Ka(u,l,H);(I!==0||w!==0)&&(o.x=(o.x??0)-I/D[2],o.y=(o.y??0)-w/D[2],await Y({x:I,y:w})&&A(o,null)),s=requestAnimationFrame(T)}function P(D){var $;const{nodeLookup:Y,multiSelectionActive:H,nodesDraggable:I,transform:w,snapGrid:O,snapToGrid:b,selectNodesOnDrag:C,onNodeDragStart:N,onSelectionDragStart:M,unselectNodesAndEdges:L}=t();h=!0,(!C||!E)&&!H&&k&&(($=Y.get(k))!=null&&$.selected||L()),E&&C&&k&&(e==null||e(k));const B=gr(D.sourceEvent,{transform:w,snapGrid:O,snapToGrid:b,containerBounds:l});if(o=B,a=fg(Y,I,B,k),a.size>0&&(n||N||!k&&M)){const[ie,Z]=pr({nodeId:k,dragItems:a,nodeLookup:Y});n==null||n(D.sourceEvent,a,ie,Z),N==null||N(D.sourceEvent,ie,Z),k||M==null||M(D.sourceEvent,Z)}}const z=Kd().clickDistance(S).on("start",D=>{const{domNode:Y,nodeDragThreshold:H,transform:I,snapGrid:w,snapToGrid:O}=t();l=(Y==null?void 0:Y.getBoundingClientRect())||null,g=!1,H===0&&P(D),o=gr(D.sourceEvent,{transform:I,snapGrid:w,snapToGrid:O,containerBounds:l}),u=Pt(D.sourceEvent,l)}).on("drag",D=>{const{autoPanOnNodeDrag:Y,transform:H,snapGrid:I,snapToGrid:w,nodeDragThreshold:O,nodeLookup:b}=t(),C=gr(D.sourceEvent,{transform:H,snapGrid:I,snapToGrid:w,containerBounds:l});if((D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1||k&&!b.has(k))&&(g=!0),!g){if(!c&&Y&&h&&(c=!0,T()),!h){const N=C.xSnapped-(o.x??0),M=C.ySnapped-(o.y??0);Math.sqrt(N*N+M*M)>O&&P(D)}(o.x!==C.xSnapped||o.y!==C.ySnapped)&&a&&h&&(u=Pt(D.sourceEvent,l),A(C,D.sourceEvent))}}).on("end",D=>{if(!(!h||g)&&(c=!1,h=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:Y,updateNodePositions:H,onNodeDragStop:I,onSelectionDragStop:w}=t();if(H(a,!1),r||I||!k&&w){const[O,b]=pr({nodeId:k,dragItems:a,nodeLookup:Y,dragging:!1});r==null||r(D.sourceEvent,a,O,b),I==null||I(D.sourceEvent,O,b),k||w==null||w(D.sourceEvent,b)}}}).filter(D=>{const Y=D.target;return!D.button&&(!v||!As(Y,`.${v}`,y))&&(!_||As(Y,_,y))});f.call(z)}function x(){f==null||f.on(".drag",null)}return{update:m,destroy:x}}function gg(e,t,n){const i=[],r={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Xn(r,_n(o))>0&&i.push(o);return i}const pg=250;function mg(e,t,n,i){var a,c;let r=[],o=1/0;const s=gg(e,n,t+pg);for(const u of s){const l=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const h of l){if(i.nodeId===h.nodeId&&i.type===h.type&&i.id===h.id)continue;const{x:f,y:g}=Wn(u,h,h.position,!0),m=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(g-e.y,2));m>t||(m<o?(r=[{...h,x:f,y:g}],o=m):m===o&&r.push({...h,x:f,y:g}))}}if(!r.length)return null;if(r.length>1){const u=i.type==="source"?"target":"source";return r.find(l=>l.type===u)??r[0]}return r[0]}function nl(e,t,n,i,r,o=!1){var u,l,h;const s=i.get(e);if(!s)return null;const a=r==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((l=s.internals.handleBounds)==null?void 0:l.source)??[],...((h=s.internals.handleBounds)==null?void 0:h.target)??[]],c=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return c&&o?{...c,...Wn(s,c,c.position,!0)}:c}function il(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function vg(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const rl=()=>!0;function yg(e,{connectionMode:t,connectionRadius:n,handleId:i,nodeId:r,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:c,lib:u,autoPanOnConnect:l,flowId:h,panBy:f,cancelConnection:g,onConnectStart:m,onConnect:x,onConnectEnd:v,isValidConnection:_=rl,onReconnectEnd:y,updateConnection:E,getTransform:k,getFromHandle:S,autoPanSpeed:A}){const T=Wh(e.target);let P=0,z;const{x:D,y:Y}=Pt(e),H=T==null?void 0:T.elementFromPoint(D,Y),I=il(o,H),w=a==null?void 0:a.getBoundingClientRect();if(!w||!I)return;const O=nl(r,I,i,c,t);if(!O)return;let b=Pt(e,w),C=!1,N=null,M=!1,L=null;function B(){if(!l||!w)return;const[V,G]=Ka(b,w,A);f({x:V,y:G}),P=requestAnimationFrame(B)}const $={...O,nodeId:r,type:I,position:O.position},ie=c.get(r),te={inProgress:!0,isValid:null,from:Wn(ie,$,fe.Left,!0),fromHandle:$,fromPosition:$.position,fromNode:ie,to:b,toHandle:null,toPosition:hs[$.position],toNode:null};E(te);let U=te;m==null||m(e,{nodeId:r,handleId:i,handleType:I});function J(V){if(!S()||!$){j(V);return}const G=k();b=Pt(V,w),z=mg(ei(b,G,!1,[1,1]),n,c,$),C||(B(),C=!0);const oe=ol(V,{handle:z,connectionMode:t,fromNodeId:r,fromHandleId:i,fromType:s?"target":"source",isValidConnection:_,doc:T,lib:u,flowId:h,nodeLookup:c});L=oe.handleDomNode,N=oe.connection,M=vg(!!z,oe.isValid);const ue={...U,isValid:M,to:z&&M?Ga({x:z.x,y:z.y},G):b,toHandle:oe.toHandle,toPosition:M&&oe.toHandle?oe.toHandle.position:hs[$.position],toNode:oe.toHandle?c.get(oe.toHandle.nodeId):null};M&&z&&U.toHandle&&ue.toHandle&&U.toHandle.type===ue.toHandle.type&&U.toHandle.nodeId===ue.toHandle.nodeId&&U.toHandle.id===ue.toHandle.id&&U.to.x===ue.to.x&&U.to.y===ue.to.y||(E(ue),U=ue)}function j(V){(z||L)&&N&&M&&(x==null||x(N));const{inProgress:G,...oe}=U,ue={...oe,toPosition:U.toHandle?U.toPosition:null};v==null||v(V,ue),o&&(y==null||y(V,ue)),g(),cancelAnimationFrame(P),C=!1,M=!1,N=null,L=null,T.removeEventListener("mousemove",J),T.removeEventListener("mouseup",j),T.removeEventListener("touchmove",J),T.removeEventListener("touchend",j)}T.addEventListener("mousemove",J),T.addEventListener("mouseup",j),T.addEventListener("touchmove",J),T.addEventListener("touchend",j)}function ol(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:r,fromType:o,doc:s,lib:a,flowId:c,isValidConnection:u=rl,nodeLookup:l}){const h=o==="target",f=t?s.querySelector(`.${a}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:m}=Pt(e),x=s.elementFromPoint(g,m),v=x!=null&&x.classList.contains(`${a}-flow__handle`)?x:f,_={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const y=il(void 0,v),E=v.getAttribute("data-nodeid"),k=v.getAttribute("data-handleid"),S=v.classList.contains("connectable"),A=v.classList.contains("connectableend");if(!E||!y)return _;const T={source:h?E:i,sourceHandle:h?k:r,target:h?i:E,targetHandle:h?r:k};_.connection=T;const z=S&&A&&(n===Qt.Strict?h&&y==="source"||!h&&y==="target":E!==i||k!==r);_.isValid=z&&u(T),_.toHandle=nl(E,y,k,l,n,!1)}return _}const xg={onPointerDown:yg,isValid:ol};function wg({domNode:e,panZoom:t,getTransform:n,getViewScale:i}){const r=ft(e);function o({translateExtent:a,width:c,height:u,zoomStep:l=10,pannable:h=!0,zoomable:f=!0,inversePan:g=!1}){const m=E=>{const k=n();if(E.sourceEvent.type!=="wheel"||!t)return;const S=-E.sourceEvent.deltaY*(E.sourceEvent.deltaMode===1?.05:E.sourceEvent.deltaMode?1:.002)*l,A=k[2]*Math.pow(2,S);t.scaleTo(A)};let x=[0,0];const v=E=>{(E.sourceEvent.type==="mousedown"||E.sourceEvent.type==="touchstart")&&(x=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY])},_=E=>{const k=n();if(E.sourceEvent.type!=="mousemove"&&E.sourceEvent.type!=="touchmove"||!t)return;const S=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY],A=[S[0]-x[0],S[1]-x[1]];x=S;const T=i()*Math.max(k[2],Math.log(k[2]))*(g?-1:1),P={x:k[0]-A[0]*T,y:k[1]-A[1]*T},z=[[0,0],[c,u]];t.setViewportConstrained({x:P.x,y:P.y,zoom:k[2]},z,a)},y=Ba().on("start",v).on("zoom",h?_:null).on("zoom.wheel",f?m:null);r.call(y,{})}function s(){r.on("zoom",null)}return{update:o,destroy:s,pointer:pt}}const bg=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ji=e=>({x:e.x,y:e.y,zoom:e.k}),mr=({x:e,y:t,zoom:n})=>Zi.translate(e,t).scale(n),cn=(e,t)=>e.target.closest(`.${t}`),sl=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),vr=(e,t=0,n=()=>{})=>{const i=typeof t=="number"&&t>0;return i||n(),i?e.transition().duration(t).on("end",n):e},al=e=>{const t=e.ctrlKey&&Pi()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function _g({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:i,panOnScrollMode:r,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:c,onPanZoomEnd:u}){return l=>{if(cn(l,t))return!1;l.preventDefault(),l.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(l.ctrlKey&&s){const v=pt(l),_=al(l),y=h*Math.pow(2,_);i.scaleTo(n,y,v,l);return}const f=l.deltaMode===1?20:1;let g=r===Rt.Vertical?0:l.deltaX*f,m=r===Rt.Horizontal?0:l.deltaY*f;!Pi()&&l.shiftKey&&r!==Rt.Vertical&&(g=l.deltaY*f,m=0),i.translateBy(n,-(g/h)*o,-(m/h)*o,{internal:!0});const x=ji(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a==null||a(l,x)),e.isPanScrolling&&(c==null||c(l,x),e.panScrollTimeout=setTimeout(()=>{u==null||u(l,x),e.isPanScrolling=!1},150))}}function kg({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(i,r){if(!t&&i.type==="wheel"&&!i.ctrlKey||cn(i,e))return null;i.preventDefault(),n.call(this,i,r)}}function Sg({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return i=>{var o,s,a;if((o=i.sourceEvent)!=null&&o.internal)return;const r=ji(i.transform);e.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=r,((a=i.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(i.sourceEvent,r))}}function Eg({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:i,onPanZoom:r}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&sl(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||i([o.transform.x,o.transform.y,o.transform.k]),r&&!((a=o.sourceEvent)!=null&&a.internal)&&(r==null||r(o.sourceEvent,ji(o.transform)))}}function Ag({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:r,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&sl(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,i(!1),r&&bg(e.prevViewport,s.transform))){const c=ji(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{r==null||r(s.sourceEvent,c)},n?150:0)}}}function Cg({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:i,panOnScroll:r,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:c,lib:u}){return l=>{var m;const h=e||t,f=n&&l.ctrlKey;if(l.button===1&&l.type==="mousedown"&&(cn(l,`${u}-flow__node`)||cn(l,`${u}-flow__edge`)))return!0;if(!i&&!h&&!r&&!o&&!n||s||cn(l,a)&&l.type==="wheel"||cn(l,c)&&(l.type!=="wheel"||r&&l.type==="wheel"&&!e)||!n&&l.ctrlKey&&l.type==="wheel")return!1;if(!n&&l.type==="touchstart"&&((m=l.touches)==null?void 0:m.length)>1)return l.preventDefault(),!1;if(!h&&!r&&!f&&l.type==="wheel"||!i&&(l.type==="mousedown"||l.type==="touchstart")||Array.isArray(i)&&!i.includes(l.button)&&l.type==="mousedown")return!1;const g=Array.isArray(i)&&i.includes(l.button)||!l.button||l.button<=1;return(!l.ctrlKey||l.type==="wheel")&&g}}function Ng({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:i,translateExtent:r,viewport:o,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:c,onDraggingChange:u}){const l={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),f=Ba().clickDistance(!Mt(i)||i<0?0:i).scaleExtent([t,n]).translateExtent(r),g=ft(e).call(f);E({x:o.x,y:o.y,zoom:bn(o.zoom,t,n)},[[0,0],[h.width,h.height]],r);const m=g.on("wheel.zoom"),x=g.on("dblclick.zoom");f.wheelDelta(al);function v(H,I){return g?new Promise(w=>{f==null||f.transform(vr(g,I==null?void 0:I.duration,()=>w(!0)),H)}):Promise.resolve(!1)}function _({noWheelClassName:H,noPanClassName:I,onPaneContextMenu:w,userSelectionActive:O,panOnScroll:b,panOnDrag:C,panOnScrollMode:N,panOnScrollSpeed:M,preventScrolling:L,zoomOnPinch:B,zoomOnScroll:$,zoomOnDoubleClick:ie,zoomActivationKeyPressed:Z,lib:te,onTransformChange:U}){O&&!l.isZoomingOrPanning&&y();const j=b&&!Z&&!O?_g({zoomPanValues:l,noWheelClassName:H,d3Selection:g,d3Zoom:f,panOnScrollMode:N,panOnScrollSpeed:M,zoomOnPinch:B,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:c}):kg({noWheelClassName:H,preventScrolling:L,d3ZoomHandler:m});if(g.on("wheel.zoom",j,{passive:!1}),!O){const G=Sg({zoomPanValues:l,onDraggingChange:u,onPanZoomStart:a});f.on("start",G);const oe=Eg({zoomPanValues:l,panOnDrag:C,onPaneContextMenu:!!w,onPanZoom:s,onTransformChange:U});f.on("zoom",oe);const ue=Ag({zoomPanValues:l,panOnDrag:C,panOnScroll:b,onPaneContextMenu:w,onPanZoomEnd:c,onDraggingChange:u});f.on("end",ue)}const V=Cg({zoomActivationKeyPressed:Z,panOnDrag:C,zoomOnScroll:$,panOnScroll:b,zoomOnDoubleClick:ie,zoomOnPinch:B,userSelectionActive:O,noPanClassName:I,noWheelClassName:H,lib:te});f.filter(V),ie?g.on("dblclick.zoom",x):g.on("dblclick.zoom",null)}function y(){f.on("zoom",null)}async function E(H,I,w){const O=mr(H),b=f==null?void 0:f.constrain()(O,I,w);return b&&await v(b),new Promise(C=>C(b))}async function k(H,I){const w=mr(H);return await v(w,I),new Promise(O=>O(w))}function S(H){if(g){const I=mr(H),w=g.property("__zoom");(w.k!==H.zoom||w.x!==H.x||w.y!==H.y)&&(f==null||f.transform(g,I,null,{sync:!0}))}}function A(){const H=g?Ya(g.node()):{x:0,y:0,k:1};return{x:H.x,y:H.y,zoom:H.k}}function T(H,I){return g?new Promise(w=>{f==null||f.scaleTo(vr(g,I==null?void 0:I.duration,()=>w(!0)),H)}):Promise.resolve(!1)}function P(H,I){return g?new Promise(w=>{f==null||f.scaleBy(vr(g,I==null?void 0:I.duration,()=>w(!0)),H)}):Promise.resolve(!1)}function z(H){f==null||f.scaleExtent(H)}function D(H){f==null||f.translateExtent(H)}function Y(H){const I=!Mt(H)||H<0?0:H;f==null||f.clickDistance(I)}return{update:_,destroy:y,setViewport:k,setViewportConstrained:E,getViewport:A,scaleTo:T,scaleBy:P,setScaleExtent:z,setTranslateExtent:D,syncViewport:S,setClickDistance:Y}}var Cs;(function(e){e.Line="line",e.Handle="handle"})(Cs||(Cs={}));var Tg=ge('<div role="button" tabindex="-1"><!></div>');function Sn(e,t){pe(t,!1);const n=Re(),i=()=>K($,"$connectable",n),r=()=>K(J,"$connectionRadius",n),o=()=>K(te,"$domNode",n),s=()=>K(U,"$nodeLookup",n),a=()=>K(Z,"$connectionMode",n),c=()=>K(G,"$lib",n),u=()=>K(Se,"$autoPanOnConnect",n),l=()=>K(Ve,"$flowId",n),h=()=>K(V,"$isValidConnectionStore",n),f=()=>K(ue,"$onedgecreate",n),g=()=>K(Ce,"$onConnectAction",n),m=()=>K(xe,"$onConnectStartAction",n),x=()=>K(tt,"$onConnectEndAction",n),v=()=>K(j,"$viewport",n),_=()=>K(Me,"$connection",n),y=()=>K(Pe,"$edges",n),E=()=>K(Ae,"$connectionLookup",n),k=W(),S=W(),A=W(),T=W(),P=W(),z=W(),D=W(),Y=W();let H=p(t,"id",8,void 0),I=p(t,"type",8,"source"),w=p(t,"position",24,()=>fe.Top),O=p(t,"style",8,void 0),b=p(t,"isValidConnection",8,void 0),C=p(t,"onconnect",8,void 0),N=p(t,"ondisconnect",8,void 0),M=p(t,"isConnectable",8,void 0),L=p(t,"class",8,void 0);const B=Hn("svelteflow__node_id"),$=Hn("svelteflow__node_connectable"),ie=He(),{connectionMode:Z,domNode:te,nodeLookup:U,connectionRadius:J,viewport:j,isValidConnection:V,lib:G,addEdge:oe,onedgecreate:ue,panBy:be,cancelConnection:de,updateConnection:ye,autoPanOnConnect:Se,edges:Pe,connectionLookup:Ae,onconnect:Ce,onconnectstart:xe,onconnectend:tt,flowId:Ve,connection:Me}=ie;function ot(Fe){const Te=qa(Fe);(Te&&Fe.button===0||!Te)&&xg.onPointerDown(Fe,{handleId:d(A),nodeId:B,isTarget:d(k),connectionRadius:r(),domNode:o(),nodeLookup:s(),connectionMode:a(),lib:c(),autoPanOnConnect:u(),flowId:l(),isValidConnection:b()??h(),updateConnection:ye,cancelConnection:de,panBy:be,onConnect:Oe=>{var ct;const Xe=f()?f()(Oe):Oe;Xe&&(oe(Xe),(ct=g())==null||ct(Oe))},onConnectStart:(Oe,Xe)=>{var ct;(ct=m())==null||ct(Oe,{nodeId:Xe.nodeId,handleId:Xe.handleId,handleType:Xe.handleType})},onConnectEnd:(Oe,Xe)=>{var ct;(ct=x())==null||ct(Oe,Xe)},getTransform:()=>[v().x,v().y,v().zoom],getFromHandle:()=>_().fromHandle})}let Ue=W(null),Ge=W();ee(()=>X(I()),()=>{F(k,I()==="target")}),ee(()=>(X(M()),i()),()=>{F(S,M()!==void 0?M():i())}),ee(()=>X(H()),()=>{F(A,H()||null)}),ee(()=>(X(C()),X(N()),y(),E(),X(I()),X(H())),()=>{(C()||N())&&(y(),F(Ge,E().get(`${B}-${I()}-${H()||null}`)))}),ee(()=>(d(Ue),d(Ge),X(N()),X(C())),()=>{if(d(Ue)&&!Lh(d(Ge),d(Ue))){const Fe=d(Ge)??new Map;gs(d(Ue),Fe,N()),gs(Fe,d(Ue),C())}F(Ue,d(Ge)??new Map)}),ee(()=>_(),()=>{F(T,!!_().fromHandle)}),ee(()=>(_(),X(I()),d(A)),()=>{var Fe,Te,Oe;F(P,((Fe=_().fromHandle)==null?void 0:Fe.nodeId)===B&&((Te=_().fromHandle)==null?void 0:Te.type)===I()&&((Oe=_().fromHandle)==null?void 0:Oe.id)===d(A))}),ee(()=>(_(),X(I()),d(A)),()=>{var Fe,Te,Oe;F(z,((Fe=_().toHandle)==null?void 0:Fe.nodeId)===B&&((Te=_().toHandle)==null?void 0:Te.type)===I()&&((Oe=_().toHandle)==null?void 0:Oe.id)===d(A))}),ee(()=>(a(),_(),X(I()),d(A)),()=>{var Fe,Te,Oe;F(D,a()===Qt.Strict?((Fe=_().fromHandle)==null?void 0:Fe.type)!==I():B!==((Te=_().fromHandle)==null?void 0:Te.nodeId)||d(A)!==((Oe=_().fromHandle)==null?void 0:Oe.id))}),ee(()=>(d(z),_()),()=>{F(Y,d(z)&&_().isValid)}),Ke(),ve();var Ie=Tg();ne(Ie,"data-nodeid",B);const Vt=le(()=>et(["svelte-flow__handle",`svelte-flow__handle-${w()}`,"nodrag","nopan",w(),L()]));var rn=ce(Ie);$e(rn,t,"default",{}),ae(Ie),we(()=>{ne(Ie,"data-handleid",d(A)),ne(Ie,"data-handlepos",w()),ne(Ie,"data-id",`${l()??""}-${B??""}-${(H()||null)??""}-${I()??""}`),aa(Ie,d(Vt)),ne(Ie,"style",O()),ze(Ie,"valid",d(Y)),ze(Ie,"connectingto",d(z)),ze(Ie,"connectingfrom",d(P)),ze(Ie,"source",!d(k)),ze(Ie,"target",d(k)),ze(Ie,"connectablestart",d(S)),ze(Ie,"connectableend",d(S)),ze(Ie,"connectable",d(S)),ze(Ie,"connectionindicator",d(S)&&(!d(T)||d(D)))}),he("mousedown",Ie,ot),he("touchstart",Ie,ot),q(e,Ie),me()}var Mg=ge("<!> <!>",1);function Br(e,t){const n=Le(t,["children","$$slots","$$events","$$legacy"]);Le(n,["data","targetPosition","sourcePosition"]),pe(t,!1);let i=p(t,"data",24,()=>({label:"Node"})),r=p(t,"targetPosition",8,void 0),o=p(t,"sourcePosition",8,void 0);ve();var s=Mg(),a=Ne(s),c=le(()=>r()??fe.Top);Sn(a,{type:"target",get position(){return d(c)}});var u=re(a),l=re(u),h=le(()=>o()??fe.Bottom);Sn(l,{type:"source",get position(){return d(h)}}),we(()=>{var f;return ht(u,` ${((f=i())==null?void 0:f.label)??""} `)}),q(e,s),me()}var Pg=ge(" <!>",1);function Ig(e,t){const n=Le(t,["children","$$slots","$$events","$$legacy"]);Le(n,["data","sourcePosition"]),pe(t,!1);let i=p(t,"data",24,()=>({label:"Node"})),r=p(t,"sourcePosition",8,void 0);ve(),dt();var o=Pg(),s=Ne(o),a=re(s),c=le(()=>r()??fe.Bottom);Sn(a,{type:"source",get position(){return d(c)}}),we(()=>{var u;return ht(s,`${((u=i())==null?void 0:u.label)??""} `)}),q(e,o),me()}var Og=ge(" <!>",1);function zg(e,t){const n=Le(t,["children","$$slots","$$events","$$legacy"]);Le(n,["data","targetPosition"]),pe(t,!1);let i=p(t,"data",24,()=>({label:"Node"})),r=p(t,"targetPosition",8,void 0);ve(),dt();var o=Og(),s=Ne(o),a=re(s),c=le(()=>r()??fe.Top);Sn(a,{type:"target",get position(){return d(c)}}),we(()=>{var u;return ht(s,`${((u=i())==null?void 0:u.label)??""} `)}),q(e,o),me()}function Dg(e,t){const n=Le(t,["children","$$slots","$$events","$$legacy"]);Le(n,[])}function Ns(e,t,n){if(!t)return;const i=n?t.querySelector(n):t;i&&i.appendChild(e)}function ll(e,{target:t,domNode:n}){return Ns(e,n,t),{async update({target:i,domNode:r}){Ns(e,r,i)},destroy(){e.parentNode&&e.parentNode.removeChild(e)}}}var Lg=ge("<div><!></div>");function Hg(e,t){pe(t,!1);const n=Re(),i=()=>K(r,"$domNode",n),{domNode:r}=He();ve();var o=Lg(),s=ce(o);$e(s,t,"default",{}),ae(o),qe(o,(a,c)=>ll(a,c),()=>({target:".svelte-flow__edgelabel-renderer",domNode:i()})),q(e,o),me()}function cl(){const{edgeLookup:e,selectionRect:t,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:r,unselectNodesAndEdges:o,elementsSelectable:s}=He();return a=>{const c=R(e).get(a);if(!c){console.warn("012",jn.error012(a));return}(c.selectable||R(s)&&typeof c.selectable>"u")&&(t.set(null),n.set(null),c.selected?c.selected&&R(i)&&o({nodes:[],edges:[c]}):r([a]))}}var Rg=ge('<div class="svelte-flow__edge-label" role="button" tabindex="-1"><!></div>');function Fg(e,t){pe(t,!1);let n=p(t,"style",8,void 0),i=p(t,"x",8,void 0),r=p(t,"y",8,void 0);const o=cl(),s=Hn("svelteflow__edge_id");ve(),Hg(e,{children:(a,c)=>{var u=Rg(),l=ce(u);$e(l,t,"default",{}),ae(u),we(()=>{ne(u,"style","pointer-events: all;"+n()),De(u,"transform",`translate(-50%, -50%) translate(${i()??""}px,${r()??""}px)`)}),he("keyup",u,()=>{}),he("click",u,()=>{s&&o(s)}),q(a,u)},$$slots:{default:!0}}),me()}var Yg=Be('<path fill="none" class="svelte-flow__edge-interaction"></path>'),Bg=Be('<path fill="none"></path><!><!>',1);function Ji(e,t){pe(t,!1);let n=p(t,"id",8,void 0),i=p(t,"path",8),r=p(t,"label",8,void 0),o=p(t,"labelX",8,void 0),s=p(t,"labelY",8,void 0),a=p(t,"labelStyle",8,void 0),c=p(t,"markerStart",8,void 0),u=p(t,"markerEnd",8,void 0),l=p(t,"style",8,void 0),h=p(t,"interactionWidth",8,20),f=p(t,"class",8,void 0),g=h()===void 0?20:h();ve();var m=Bg(),x=Ne(m);const v=le(()=>et(["svelte-flow__edge-path",f()]));var _=re(x);Ee(_,()=>g,E=>{var k=Yg();ne(k,"stroke-opacity",0),ne(k,"stroke-width",g),we(()=>ne(k,"d",i())),q(E,k)});var y=re(_);Ee(y,r,E=>{Fg(E,{get x(){return o()},get y(){return s()},get style(){return a()},children:(k,S)=>{dt();var A=Kt();we(()=>ht(A,r())),q(k,A)},$$slots:{default:!0}})}),we(()=>{ne(x,"id",n()),ne(x,"d",i()),nn(x,d(v)),ne(x,"marker-start",c()),ne(x,"marker-end",u()),ne(x,"style",l())}),q(e,m),me()}function Vr(e,t){const n=Le(t,["children","$$slots","$$events","$$legacy"]);Le(n,["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"]),pe(t,!1);const i=W(),r=W(),o=W();let s=p(t,"label",8,void 0),a=p(t,"labelStyle",8,void 0),c=p(t,"style",8,void 0),u=p(t,"markerStart",8,void 0),l=p(t,"markerEnd",8,void 0),h=p(t,"interactionWidth",8,void 0),f=p(t,"sourceX",8),g=p(t,"sourceY",8),m=p(t,"sourcePosition",8),x=p(t,"targetX",8),v=p(t,"targetY",8),_=p(t,"targetPosition",8);ee(()=>(d(i),d(r),d(o),X(f()),X(g()),X(x()),X(v()),X(m()),X(_())),()=>{(y=>(F(i,y[0]),F(r,y[1]),F(o,y[2])))($a({sourceX:f(),sourceY:g(),targetX:x(),targetY:v(),sourcePosition:m(),targetPosition:_()}))}),Ke(),ve(),Ji(e,{get path(){return d(i)},get labelX(){return d(r)},get labelY(){return d(o)},get label(){return s()},get labelStyle(){return a()},get markerStart(){return u()},get markerEnd(){return l()},get interactionWidth(){return h()},get style(){return c()}}),me()}function Vg(e,t){const n=Le(t,["children","$$slots","$$events","$$legacy"]);Le(n,["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"]),pe(t,!1);const i=W(),r=W(),o=W();let s=p(t,"label",8,void 0),a=p(t,"labelStyle",8,void 0),c=p(t,"style",8,void 0),u=p(t,"markerStart",8,void 0),l=p(t,"markerEnd",8,void 0),h=p(t,"interactionWidth",8,void 0),f=p(t,"sourceX",8),g=p(t,"sourceY",8),m=p(t,"sourcePosition",8),x=p(t,"targetX",8),v=p(t,"targetY",8),_=p(t,"targetPosition",8);ee(()=>(d(i),d(r),d(o),X(f()),X(g()),X(x()),X(v()),X(m()),X(_())),()=>{(y=>(F(i,y[0]),F(r,y[1]),F(o,y[2])))(Ii({sourceX:f(),sourceY:g(),targetX:x(),targetY:v(),sourcePosition:m(),targetPosition:_()}))}),Ke(),ve(),Ji(e,{get path(){return d(i)},get labelX(){return d(r)},get labelY(){return d(o)},get label(){return s()},get labelStyle(){return a()},get markerStart(){return u()},get markerEnd(){return l()},get interactionWidth(){return h()},get style(){return c()}}),me()}function Xg(e,t){const n=Le(t,["children","$$slots","$$events","$$legacy"]);Le(n,["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"]),pe(t,!1);const i=W(),r=W(),o=W();let s=p(t,"label",8,void 0),a=p(t,"labelStyle",8,void 0),c=p(t,"style",8,void 0),u=p(t,"markerStart",8,void 0),l=p(t,"markerEnd",8,void 0),h=p(t,"interactionWidth",8,void 0),f=p(t,"sourceX",8),g=p(t,"sourceY",8),m=p(t,"targetX",8),x=p(t,"targetY",8);ee(()=>(d(i),d(r),d(o),X(f()),X(g()),X(m()),X(x())),()=>{(v=>(F(i,v[0]),F(r,v[1]),F(o,v[2])))(Fr({sourceX:f(),sourceY:g(),targetX:m(),targetY:x()}))}),Ke(),ve(),Ji(e,{get path(){return d(i)},get labelX(){return d(r)},get labelY(){return d(o)},get label(){return s()},get labelStyle(){return a()},get markerStart(){return u()},get markerEnd(){return l()},get interactionWidth(){return h()},get style(){return c()}}),me()}function Wg(e,t){const n=Le(t,["children","$$slots","$$events","$$legacy"]);Le(n,["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"]),pe(t,!1);const i=W(),r=W(),o=W();let s=p(t,"label",8,void 0),a=p(t,"labelStyle",8,void 0),c=p(t,"style",8,void 0),u=p(t,"markerStart",8,void 0),l=p(t,"markerEnd",8,void 0),h=p(t,"interactionWidth",8,void 0),f=p(t,"sourceX",8),g=p(t,"sourceY",8),m=p(t,"sourcePosition",8),x=p(t,"targetX",8),v=p(t,"targetY",8),_=p(t,"targetPosition",8);ee(()=>(d(i),d(r),d(o),X(f()),X(g()),X(x()),X(v()),X(m()),X(_())),()=>{(y=>(F(i,y[0]),F(r,y[1]),F(o,y[2])))(Ii({sourceX:f(),sourceY:g(),targetX:x(),targetY:v(),sourcePosition:m(),targetPosition:_(),borderRadius:0}))}),Ke(),ve(),Ji(e,{get path(){return d(i)},get labelX(){return d(r)},get labelY(){return d(o)},get label(){return s()},get labelStyle(){return a()},get markerStart(){return u()},get markerEnd(){return l()},get interactionWidth(){return h()},get style(){return c()}}),me()}function Kg(e,t){const n=e.set,i=t.set,r=R(e),o=R(t);let a=r.length===0&&o.length>0?o:r;e.set(a);const c=u=>{const l=n(u);return a=l,i(a),l};e.set=t.set=c,e.update=t.update=u=>c(u(a))}function Ug(e,t){const n=e.set,i=t.set;let r=R(t);e.set(r);const o=s=>{n(s),i(s),r=s};e.set=t.set=o,e.update=t.update=s=>o(s(r))}const Gg=(e,t,n)=>{if(!n)return;const i=R(e),r=t.set,o=n.set;let s=n?R(n):{x:0,y:0,zoom:1};t.set(s),t.set=a=>(r(a),o(a),s=a,a),n.set=a=>(i==null||i.syncViewport(a),r(a),o(a),s=a,a),t.update=a=>{t.set(a(s))},n.update=a=>{n.set(a(s))}},Zg=(e,t,n,i=[0,0],r=Ci)=>{const{subscribe:o,set:s,update:a}=Q([]);let c=e,u={},l=!0;const h=x=>(Ja(x,t,n,{elevateNodesOnSelect:l,nodeOrigin:i,nodeExtent:r,defaults:u,checkEquality:!1}),c=x,s(c),c),f=x=>h(x(c)),g=x=>{u=x},m=x=>{l=x.elevateNodesOnSelect??l};return h(c),{subscribe:o,set:h,update:f,setDefaultOptions:g,setOptions:m}},qg=(e,t,n,i)=>{const{subscribe:r,set:o,update:s}=Q([]);let a=e,c={};const u=f=>{const g=c?f.map(m=>({...c,...m})):f;el(t,n,g),a=g,o(a)},l=f=>u(f(a)),h=f=>{c=f};return u(a),{subscribe:r,set:u,update:l,setDefaultOptions:h}},ul={input:Ig,output:zg,default:Br,group:Dg},dl={straight:Xg,smoothstep:Vg,default:Vr,step:Wg},$g=({nodes:e=[],edges:t=[],width:n,height:i,fitView:r,nodeOrigin:o,nodeExtent:s})=>{const a=new Map,c=new Map,u=new Map,l=new Map,h=o??[0,0],f=s??Ci;Ja(e,a,c,{nodeExtent:f,nodeOrigin:h,elevateNodesOnSelect:!1,checkEquality:!1}),el(u,l,t);let g={x:0,y:0,zoom:1};if(r&&n&&i){const m=Qn(a,{filter:x=>!!((x.width||x.initialWidth)&&(x.height||x.initialHeight))});g=go(m,n,i,.5,2,.1)}return{flowId:Q(null),nodes:Zg(e,a,c,h,f),nodeLookup:gt(a),parentLookup:gt(c),edgeLookup:gt(l),visibleNodes:gt([]),edges:qg(t,u,l),visibleEdges:gt([]),connectionLookup:gt(u),height:Q(500),width:Q(500),minZoom:Q(.5),maxZoom:Q(2),nodeOrigin:Q(h),nodeDragThreshold:Q(1),nodeExtent:Q(f),translateExtent:Q(Ci),autoPanOnNodeDrag:Q(!0),autoPanOnConnect:Q(!0),fitViewOnInit:Q(!1),fitViewOnInitDone:Q(!1),fitViewOptions:Q(void 0),panZoom:Q(null),snapGrid:Q(null),dragging:Q(!1),selectionRect:Q(null),selectionKeyPressed:Q(!1),multiselectionKeyPressed:Q(!1),deleteKeyPressed:Q(!1),panActivationKeyPressed:Q(!1),zoomActivationKeyPressed:Q(!1),selectionRectMode:Q(null),selectionMode:Q(Ni.Partial),nodeTypes:Q(ul),edgeTypes:Q(dl),viewport:Q(g),connectionMode:Q(Qt.Strict),domNode:Q(null),connection:gt(Lr),connectionLineType:Q(vn.Bezier),connectionRadius:Q(20),isValidConnection:Q(()=>!0),nodesDraggable:Q(!0),nodesConnectable:Q(!0),elementsSelectable:Q(!0),selectNodesOnDrag:Q(!0),markers:gt([]),defaultMarkerColor:Q("#b1b1b7"),lib:gt("svelte"),onlyRenderVisibleElements:Q(!1),onerror:Q(Vh),ondelete:Q(void 0),onedgecreate:Q(void 0),onconnect:Q(void 0),onconnectstart:Q(void 0),onconnectend:Q(void 0),onbeforedelete:Q(void 0),nodesInitialized:Q(!1),edgesInitialized:Q(!1),viewportInitialized:Q(!1),initialized:gt(!1)}};function jg(e){const t=gn([e.edges,e.nodes,e.nodeLookup,e.onlyRenderVisibleElements,e.viewport,e.width,e.height],([n,,i,r,o,s,a])=>r&&s&&a?n.filter(u=>{const l=i.get(u.source),h=i.get(u.target);return l&&h&&qh({sourceNode:l,targetNode:h,width:s,height:a,transform:[o.x,o.y,o.zoom]})}):n);return gn([t,e.nodes,e.nodeLookup,e.connectionMode,e.onerror],([n,,i,r,o])=>n.reduce((a,c)=>{const u=i.get(c.source),l=i.get(c.target);if(!u||!l)return a;const h=ng({id:c.id,sourceNode:u,targetNode:l,sourceHandle:c.sourceHandle||null,targetHandle:c.targetHandle||null,connectionMode:r,onError:o});return h&&a.push({...c,zIndex:Zh({selected:c.selected,zIndex:c.zIndex,sourceNode:u,targetNode:l,elevateOnSelect:!1}),...h}),a},[]))}function Jg(e){return gn([e.nodeLookup,e.onlyRenderVisibleElements,e.width,e.height,e.viewport,e.nodes],([t,n,i,r,o])=>{const s=[o.x,o.y,o.zoom];return n?Va(t,{x:0,y:0,width:i,height:r},s,!0):Array.from(t.values())})}const xo=Symbol();function Qg({nodes:e,edges:t,width:n,height:i,fitView:r,nodeOrigin:o,nodeExtent:s}){const a=$g({nodes:e,edges:t,width:n,height:i,fitView:r,nodeOrigin:o,nodeExtent:s});function c(b){a.nodeTypes.set({...ul,...b})}function u(b){a.edgeTypes.set({...dl,...b})}function l(b){const C=R(a.edges);a.edges.set(Jh(b,C))}const h=(b,C=!1)=>{var M;const N=R(a.nodeLookup);for(const[L,B]of b){const $=(M=N.get(L))==null?void 0:M.internals.userNode;$&&($.position=B.position,$.dragging=C)}a.nodes.update(L=>L)};function f(b){var B,$,ie;const C=R(a.nodeLookup),N=R(a.parentLookup),{changes:M,updatedInternals:L}=ug(b,C,R(a.parentLookup),R(a.domNode),R(a.nodeOrigin));if(L){if(sg(C,N,{nodeOrigin:o,nodeExtent:s}),!R(a.fitViewOnInitDone)&&R(a.fitViewOnInit)){const Z=R(a.fitViewOptions),te=m({...Z,nodes:Z==null?void 0:Z.nodes});a.fitViewOnInitDone.set(te)}for(const Z of M){const te=(B=C.get(Z.id))==null?void 0:B.internals.userNode;if(te)switch(Z.type){case"dimensions":{const U={...te.measured,...Z.dimensions};Z.setAttributes&&(te.width=(($=Z.dimensions)==null?void 0:$.width)??te.width,te.height=((ie=Z.dimensions)==null?void 0:ie.height)??te.height),te.measured=U;break}case"position":te.position=Z.position??te.position;break}}a.nodes.update(Z=>Z),R(a.nodesInitialized)||a.nodesInitialized.set(!0)}}function g(b){const C=R(a.panZoom),N=R(a.domNode);if(!C||!N)return Promise.resolve(!1);const{width:M,height:L}=po(N),B=ps(R(a.nodeLookup),b);return ms({nodes:B,width:M,height:L,minZoom:R(a.minZoom),maxZoom:R(a.maxZoom),panZoom:C},b)}function m(b){const C=R(a.panZoom);if(!C)return!1;const N=ps(R(a.nodeLookup),b);return ms({nodes:N,width:R(a.width),height:R(a.height),minZoom:R(a.minZoom),maxZoom:R(a.maxZoom),panZoom:C},b),N.size>0}function x(b,C){const N=R(a.panZoom);return N?N.scaleBy(b,C):Promise.resolve(!1)}function v(b){return x(1.2,b)}function _(b){return x(1/1.2,b)}function y(b){const C=R(a.panZoom);C&&(C.setScaleExtent([b,R(a.maxZoom)]),a.minZoom.set(b))}function E(b){const C=R(a.panZoom);C&&(C.setScaleExtent([R(a.minZoom),b]),a.maxZoom.set(b))}function k(b){const C=R(a.panZoom);C&&(C.setTranslateExtent(b),a.translateExtent.set(b))}function S(b){let C=!1;return b.forEach(N=>{N.selected&&(N.selected=!1,C=!0)}),C}function A(b){var C;(C=R(a.panZoom))==null||C.setClickDistance(b)}function T(b){S((b==null?void 0:b.nodes)||R(a.nodes))&&a.nodes.set(R(a.nodes)),S((b==null?void 0:b.edges)||R(a.edges))&&a.edges.set(R(a.edges))}a.deleteKeyPressed.subscribe(async b=>{var C;if(b){const N=R(a.nodes),M=R(a.edges),L=N.filter(Z=>Z.selected),B=M.filter(Z=>Z.selected),{nodes:$,edges:ie}=await Xa({nodesToRemove:L,edgesToRemove:B,nodes:N,edges:M,onBeforeDelete:R(a.onbeforedelete)});($.length||ie.length)&&(a.nodes.update(Z=>Z.filter(te=>!$.some(U=>U.id===te.id))),a.edges.update(Z=>Z.filter(te=>!ie.some(U=>U.id===te.id))),(C=R(a.ondelete))==null||C({nodes:$,edges:ie}))}});function P(b){const C=R(a.multiselectionKeyPressed);a.nodes.update(N=>N.map(M=>{const L=b.includes(M.id),B=C&&M.selected||L;return M.selected=B,M})),C||a.edges.update(N=>N.map(M=>(M.selected=!1,M)))}function z(b){const C=R(a.multiselectionKeyPressed);a.edges.update(N=>N.map(M=>{const L=b.includes(M.id),B=C&&M.selected||L;return M.selected=B,M})),C||a.nodes.update(N=>N.map(M=>(M.selected=!1,M)))}function D(b){var N;const C=(N=R(a.nodes))==null?void 0:N.find(M=>M.id===b);if(!C){console.warn("012",jn.error012(b));return}a.selectionRect.set(null),a.selectionRectMode.set(null),C.selected?C.selected&&R(a.multiselectionKeyPressed)&&T({nodes:[C],edges:[]}):P([b])}function Y(b){const C=R(a.viewport);return dg({delta:b,panZoom:R(a.panZoom),transform:[C.x,C.y,C.zoom],translateExtent:R(a.translateExtent),width:R(a.width),height:R(a.height)})}const H=Q(Lr),I=b=>{H.set({...b})};function w(){H.set(Lr)}function O(){a.fitViewOnInitDone.set(!1),a.selectionRect.set(null),a.selectionRectMode.set(null),a.snapGrid.set(null),a.isValidConnection.set(()=>!0),T(),w()}return{...a,visibleEdges:jg(a),visibleNodes:Jg(a),connection:gn([H,a.viewport],([b,C])=>b.inProgress?{...b,to:ei(b.to,[C.x,C.y,C.zoom])}:{...b}),markers:gn([a.edges,a.defaultMarkerColor,a.flowId],([b,C,N])=>ig(b,{defaultColor:C,id:N})),initialized:(()=>{let b=!1;const C=R(a.nodes).length,N=R(a.edges).length;return gn([a.nodesInitialized,a.edgesInitialized,a.viewportInitialized],([M,L,B])=>b||(C===0?b=B:N===0?b=B&&M:b=B&&M&&L,b))})(),syncNodeStores:b=>Kg(a.nodes,b),syncEdgeStores:b=>Ug(a.edges,b),syncViewport:b=>Gg(a.panZoom,a.viewport,b),setNodeTypes:c,setEdgeTypes:u,addEdge:l,updateNodePositions:h,updateNodeInternals:f,zoomIn:v,zoomOut:_,fitView:b=>g(b),setMinZoom:y,setMaxZoom:E,setTranslateExtent:k,setPaneClickDistance:A,unselectNodesAndEdges:T,addSelectedNodes:P,addSelectedEdges:z,handleNodeSelection:D,panBy:Y,updateConnection:I,cancelConnection:w,reset:O}}function He(){const e=Hn(xo);if(!e)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}function e0({nodes:e,edges:t,width:n,height:i,fitView:r,nodeOrigin:o,nodeExtent:s}){const a=Qg({nodes:e,edges:t,width:n,height:i,fitView:r,nodeOrigin:o,nodeExtent:s});return xi(xo,{getStore:()=>a}),a}function t0(e,t){const{panZoom:n,minZoom:i,maxZoom:r,initialViewport:o,viewport:s,dragging:a,translateExtent:c,paneClickDistance:u}=t,l=Ng({domNode:e,minZoom:i,maxZoom:r,translateExtent:c,viewport:o,paneClickDistance:u,onDraggingChange:a.set}),h=l.getViewport();return s.set(h),n.set(l),l.update(t),{update(f){l.update(f)}}}var n0=ge('<div class="svelte-flow__zoom svelte-4xkw84"><!></div>');function i0(e,t){pe(t,!1);const n=Re(),i=()=>K(C,"$panActivationKeyPressed",n),r=()=>K(H,"$minZoom",n),o=()=>K(I,"$maxZoom",n),s=()=>K(N,"$zoomActivationKeyPressed",n),a=()=>K(Y,"$selectionRect",n),c=()=>K(O,"$translateExtent",n),u=()=>K(b,"$lib",n),l=W(),h=W(),f=W();let g=p(t,"initialViewport",8,void 0),m=p(t,"onMoveStart",8,void 0),x=p(t,"onMove",8,void 0),v=p(t,"onMoveEnd",8,void 0),_=p(t,"panOnScrollMode",8),y=p(t,"preventScrolling",8),E=p(t,"zoomOnScroll",8),k=p(t,"zoomOnDoubleClick",8),S=p(t,"zoomOnPinch",8),A=p(t,"panOnDrag",8),T=p(t,"panOnScroll",8),P=p(t,"paneClickDistance",8);const{viewport:z,panZoom:D,selectionRect:Y,minZoom:H,maxZoom:I,dragging:w,translateExtent:O,lib:b,panActivationKeyPressed:C,zoomActivationKeyPressed:N,viewportInitialized:M}=He(),L=ie=>z.set({x:ie[0],y:ie[1],zoom:ie[2]});tn(()=>{wi(M,!0)}),ee(()=>X(g()),()=>{F(l,g()||{x:0,y:0,zoom:1})}),ee(()=>(i(),X(A())),()=>{F(h,i()||A())}),ee(()=>(i(),X(T())),()=>{F(f,i()||T())}),Ke(),ve();var B=n0(),$=ce(B);$e($,t,"default",{}),ae(B),qe(B,(ie,Z)=>t0(ie,Z),()=>({viewport:z,minZoom:r(),maxZoom:o(),initialViewport:d(l),dragging:w,panZoom:D,onPanZoomStart:m(),onPanZoom:x(),onPanZoomEnd:v(),zoomOnScroll:E(),zoomOnDoubleClick:k(),zoomOnPinch:S(),panOnScroll:d(f),panOnDrag:d(h),panOnScrollSpeed:.5,panOnScrollMode:_()||Rt.Free,zoomActivationKeyPressed:s(),preventScrolling:typeof y()=="boolean"?y():!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!a(),translateExtent:c(),lib:u(),paneClickDistance:P(),onTransformChange:L})),q(e,B),me()}function Ts(e,t){return n=>{n.target===t&&(e==null||e(n))}}function Ms(e){return t=>{const n=e.includes(t.id);return t.selected!==n&&(t.selected=n),t}}var r0=ge('<div class="svelte-flow__pane svelte-1esy7hx"><!></div>');function o0(e,t){pe(t,!1);const n=Re(),i=()=>K(I,"$panActivationKeyPressed",n),r=()=>K(Y,"$selectionKeyPressed",n),o=()=>K(z,"$selectionRect",n),s=()=>K(P,"$elementsSelectable",n),a=()=>K(D,"$selectionRectMode",n),c=()=>K(S,"$edges",n),u=()=>K(k,"$nodeLookup",n),l=()=>K(A,"$viewport",n),h=()=>K(H,"$selectionMode",n),f=()=>K(T,"$dragging",n),g=W(),m=W(),x=W();let v=p(t,"panOnDrag",8,void 0),_=p(t,"selectionOnDrag",8,void 0);const y=Xi(),{nodes:E,nodeLookup:k,edges:S,viewport:A,dragging:T,elementsSelectable:P,selectionRect:z,selectionRectMode:D,selectionKeyPressed:Y,selectionMode:H,panActivationKeyPressed:I,unselectNodesAndEdges:w}=He();let O=W(),b=null,C=[],N=!1;function M(V){if(N){N=!1;return}y("paneclick",{event:V}),w(),D.set(null)}function L(V){var ue,be;if(b=d(O).getBoundingClientRect(),!P||!d(m)||V.button!==0||V.target!==d(O)||!b)return;(be=(ue=V.target)==null?void 0:ue.setPointerCapture)==null||be.call(ue,V.pointerId);const{x:G,y:oe}=Pt(V,b);w(),z.set({width:0,height:0,startX:G,startY:oe,x:G,y:oe})}function B(V){if(!d(m)||!b||!o())return;N=!0;const G=Pt(V,b),oe=o().startX??0,ue=o().startY??0,be={...o(),x:G.x<oe?G.x:oe,y:G.y<ue?G.y:ue,width:Math.abs(G.x-oe),height:Math.abs(G.y-ue)},de=C.map(Ae=>Ae.id),ye=Hr(C,c()).map(Ae=>Ae.id);C=Va(u(),be,[l().x,l().y,l().zoom],h()===Ni.Partial,!0);const Se=Hr(C,c()).map(Ae=>Ae.id),Pe=C.map(Ae=>Ae.id);(de.length!==Pe.length||Pe.some(Ae=>!de.includes(Ae)))&&E.update(Ae=>Ae.map(Ms(Pe))),(ye.length!==Se.length||Se.some(Ae=>!ye.includes(Ae)))&&S.update(Ae=>Ae.map(Ms(Se))),D.set("user"),z.set(be)}function $(V){var G,oe;V.button===0&&((oe=(G=V.target)==null?void 0:G.releasePointerCapture)==null||oe.call(G,V.pointerId),!d(m)&&a()==="user"&&V.target===d(O)&&(M==null||M(V)),z.set(null),C.length>0&&wi(D,"nodes"),r()&&(N=!1))}const ie=V=>{var G;if(Array.isArray(d(g))&&((G=d(g))!=null&&G.includes(2))){V.preventDefault();return}y("panecontextmenu",{event:V})};ee(()=>(i(),X(v())),()=>{F(g,i()||v())}),ee(()=>(r(),o(),X(_()),d(g)),()=>{F(m,r()||o()||_()&&d(g)!==!0)}),ee(()=>(s(),d(m),a()),()=>{F(x,s()&&(d(m)||a()==="user"))}),Ke(),ve();var Z=r0(),te=Wo(()=>d(x)?void 0:Ts(M,d(O))),U=Wo(()=>Ts(ie,d(O)));const J=le(()=>v()===!0||Array.isArray(v())&&v().includes(0));we(()=>ze(Z,"draggable",d(J)));var j=ce(Z);$e(j,t,"default",{}),ae(Z),no(Z,V=>F(O,V),()=>d(O)),we(()=>{ze(Z,"dragging",f()),ze(Z,"selection",d(m))}),he("click",Z,function(...V){var G;(G=d(te))==null||G.apply(this,V)}),he("pointerdown",Z,function(...V){var G;(G=d(x)?L:void 0)==null||G.apply(this,V)}),he("pointermove",Z,function(...V){var G;(G=d(x)?B:void 0)==null||G.apply(this,V)}),he("pointerup",Z,function(...V){var G;(G=d(x)?$:void 0)==null||G.apply(this,V)}),he("contextmenu",Z,function(...V){var G;(G=d(U))==null||G.apply(this,V)}),q(e,Z),me()}var s0=ge('<div class="svelte-flow__viewport xyflow__viewport svelte-1floaup"><!></div>');function a0(e,t){pe(t,!1);const n=Re(),i=()=>K(r,"$viewport",n),{viewport:r}=He();ve();var o=s0(),s=ce(o);$e(s,t,"default",{}),ae(o),we(()=>ne(o,"style",`transform: translate(${i().x??""}px, ${i().y??""}px) scale(${i().zoom??""})`)),q(e,o),me()}function fl(e,t){const{store:n,onDrag:i,onDragStart:r,onDragStop:o,onNodeMouseDown:s}=t,a=hg({onDrag:i,onDragStart:r,onDragStop:o,onNodeMouseDown:s,getStoreItems:()=>{const u=R(n.snapGrid),l=R(n.viewport);return{nodes:R(n.nodes),nodeLookup:R(n.nodeLookup),edges:R(n.edges),nodeExtent:R(n.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:R(n.nodeOrigin),multiSelectionActive:R(n.multiselectionKeyPressed),domNode:R(n.domNode),transform:[l.x,l.y,l.zoom],autoPanOnNodeDrag:R(n.autoPanOnNodeDrag),nodesDraggable:R(n.nodesDraggable),selectNodesOnDrag:R(n.selectNodesOnDrag),nodeDragThreshold:R(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function c(u,l){if(l.disabled){a.destroy();return}a.update({domNode:u,noDragClassName:l.noDragClass,handleSelector:l.handleSelector,nodeId:l.nodeId,isSelectable:l.isSelectable,nodeClickDistance:l.nodeClickDistance})}return c(e,t),{update(u){c(e,u)},destroy(){a.destroy()}}}function l0({width:e,height:t,initialWidth:n,initialHeight:i,measuredWidth:r,measuredHeight:o}){if(r===void 0&&o===void 0){const s=e??n,a=t??i;return{width:s?`width:${s}px;`:"",height:a?`height:${a}px;`:""}}return{width:e?`width:${e}px;`:"",height:t?`height:${t}px;`:""}}var c0=ge("<div><!></div>");function u0(e,t){pe(t,!1);const n=Re(),i=()=>K(Z,"$nodeTypes",n),r=()=>K(ue,"$connectableStore",n),o=W(void 0,!0),s=W(void 0,!0),a=W(void 0,!0),c=W(void 0,!0);let u=p(t,"node",9),l=p(t,"id",9),h=p(t,"data",25,()=>({})),f=p(t,"selected",9,!1),g=p(t,"draggable",9,void 0),m=p(t,"selectable",9,void 0),x=p(t,"connectable",9,!0),v=p(t,"deletable",9,!0),_=p(t,"hidden",9,!1),y=p(t,"dragging",9,!1),E=p(t,"resizeObserver",9,null),k=p(t,"style",9,void 0),S=p(t,"type",9,"default"),A=p(t,"isParent",9,!1),T=p(t,"positionX",9),P=p(t,"positionY",9),z=p(t,"sourcePosition",9,void 0),D=p(t,"targetPosition",9,void 0),Y=p(t,"zIndex",9),H=p(t,"measuredWidth",9,void 0),I=p(t,"measuredHeight",9,void 0),w=p(t,"initialWidth",9,void 0),O=p(t,"initialHeight",9,void 0),b=p(t,"width",9,void 0),C=p(t,"height",9,void 0),N=p(t,"dragHandle",9,void 0),M=p(t,"initialized",9,!1),L=p(t,"parentId",9,void 0),B=p(t,"nodeClickDistance",9,void 0),$=p(t,"class",9,"");const ie=He(),{nodeTypes:Z,nodeDragThreshold:te,selectNodesOnDrag:U,handleNodeSelection:J,updateNodeInternals:j}=ie;let V=W(void 0,!0),G=W(null,!0);const oe=Xi(),ue=Q(x());let be=W(void 0,!0),de=W(void 0,!0),ye=W(void 0,!0);xi("svelteflow__node_id",l()),xi("svelteflow__node_connectable",ue),na(()=>{var Ce;d(G)&&((Ce=E())==null||Ce.unobserve(d(G)))});function Se(Ce){m()&&(!R(U)||!g()||R(te)>0)&&J(l()),oe("nodeclick",{node:u().internals.userNode,event:Ce})}ee(()=>X(S()),()=>{F(o,S()||"default")}),ee(()=>(i(),d(o)),()=>{F(s,!!i()[d(o)])}),ee(()=>(i(),d(o),Br),()=>{F(a,i()[d(o)]||Br)}),ee(()=>(d(s),X(S())),()=>{d(s)||console.warn("003",jn.error003(S()))}),ee(()=>(X(b()),X(C()),X(w()),X(O()),X(H()),X(I())),()=>{F(c,l0({width:b(),height:C(),initialWidth:w(),initialHeight:O(),measuredWidth:H(),measuredHeight:I()}))}),ee(()=>X(x()),()=>{ue.set(!!x())}),ee(()=>(d(be),d(o),d(de),X(z()),d(ye),X(D()),X(l()),d(V)),()=>{(d(be)&&d(o)!==d(be)||d(de)&&z()!==d(de)||d(ye)&&D()!==d(ye))&&requestAnimationFrame(()=>j(new Map([[l(),{id:l(),nodeElement:d(V),force:!0}]]))),F(be,d(o)),F(de,z()),F(ye,D())}),ee(()=>(X(E()),d(V),d(G),X(M())),()=>{E()&&(d(V)!==d(G)||!M())&&(d(G)&&E().unobserve(d(G)),d(V)&&E().observe(d(V)),F(G,d(V)))}),Ke(),ve(!0);var Pe=rt(),Ae=Ne(Pe);Ee(Ae,()=>!_(),Ce=>{var xe=c0();const tt=le(()=>et(["svelte-flow__node",`svelte-flow__node-${d(o)}`,$()]));var Ve=ce(xe);ia(Ve,()=>d(a),(Me,ot)=>{ot(Me,{get data(){return h()},get id(){return l()},get selected(){return f()},get selectable(){return m()},get deletable(){return v()},get sourcePosition(){return z()},get targetPosition(){return D()},get zIndex(){return Y()},get dragging(){return y()},get draggable(){return g()},get dragHandle(){return N()},get parentId(){return L()},get type(){return d(o)},get isConnectable(){return r()},get positionAbsoluteX(){return T()},get positionAbsoluteY(){return P()},get width(){return b()},get height(){return C()}})}),ae(xe),qe(xe,(Me,ot)=>fl(Me,ot),()=>({nodeId:l(),isSelectable:m(),disabled:!1,handleSelector:N(),noDragClass:"nodrag",nodeClickDistance:B(),onNodeMouseDown:J,onDrag:(Me,ot,Ue,Ge)=>{oe("nodedrag",{event:Me,targetNode:Ue,nodes:Ge})},onDragStart:(Me,ot,Ue,Ge)=>{oe("nodedragstart",{event:Me,targetNode:Ue,nodes:Ge})},onDragStop:(Me,ot,Ue,Ge)=>{oe("nodedragstop",{event:Me,targetNode:Ue,nodes:Ge})},store:ie})),no(xe,Me=>F(V,Me),()=>d(V)),at(()=>he("click",xe,Se)),at(()=>he("mouseenter",xe,Me=>oe("nodemouseenter",{node:u(),event:Me}))),at(()=>he("mouseleave",xe,Me=>oe("nodemouseleave",{node:u(),event:Me}))),at(()=>he("mousemove",xe,Me=>oe("nodemousemove",{node:u(),event:Me}))),at(()=>he("contextmenu",xe,Me=>oe("nodecontextmenu",{node:u(),event:Me}))),we(()=>{ne(xe,"data-id",l()),aa(xe,d(tt)),ne(xe,"style",`${k()??""??""};${d(c).width??""}${d(c).height??""}`),ze(xe,"dragging",y()),ze(xe,"selected",f()),ze(xe,"draggable",g()),ze(xe,"connectable",x()),ze(xe,"selectable",m()),ze(xe,"nopan",g()),ze(xe,"parent",A()),De(xe,"z-index",Y()),De(xe,"transform",`translate(${T()??""}px, ${P()??""}px)`),De(xe,"visibility",M()?"visible":"hidden")}),q(Ce,xe)}),q(e,Pe),me()}var d0=ge('<div class="svelte-flow__nodes svelte-tf4uy4"></div>');function f0(e,t){pe(t,!1);const n=Re(),i=()=>K(u,"$visibleNodes",n),r=()=>K(l,"$nodesDraggable",n),o=()=>K(f,"$elementsSelectable",n),s=()=>K(h,"$nodesConnectable",n),a=()=>K(m,"$parentLookup",n);let c=p(t,"nodeClickDistance",8,0);const{visibleNodes:u,nodesDraggable:l,nodesConnectable:h,elementsSelectable:f,updateNodeInternals:g,parentLookup:m}=He(),x=typeof ResizeObserver>"u"?null:new ResizeObserver(_=>{const y=new Map;_.forEach(E=>{const k=E.target.getAttribute("data-id");y.set(k,{id:k,nodeElement:E.target,force:!0})}),g(y)});na(()=>{x==null||x.disconnect()}),ve();var v=d0();jt(v,5,i,_=>_.id,(_,y)=>{var E=le(()=>!!d(y).selected),k=le(()=>!!d(y).hidden),S=le(()=>!!(d(y).draggable||r()&&typeof d(y).draggable>"u")),A=le(()=>!!(d(y).selectable||o()&&typeof d(y).selectable>"u")),T=le(()=>!!(d(y).connectable||s()&&typeof d(y).connectable>"u")),P=le(()=>d(y).deletable??!0),z=le(()=>a().has(d(y).id)),D=le(()=>d(y).type??"default"),Y=le(()=>d(y).internals.z??0),H=le(()=>Za(d(y)));u0(_,{get node(){return d(y)},get id(){return d(y).id},get data(){return d(y).data},get selected(){return d(E)},get hidden(){return d(k)},get draggable(){return d(S)},get selectable(){return d(A)},get connectable(){return d(T)},get deletable(){return d(P)},get positionX(){return d(y).internals.positionAbsolute.x},get positionY(){return d(y).internals.positionAbsolute.y},get isParent(){return d(z)},get style(){return d(y).style},get class(){return d(y).class},get type(){return d(D)},get sourcePosition(){return d(y).sourcePosition},get targetPosition(){return d(y).targetPosition},get dragging(){return d(y).dragging},get zIndex(){return d(Y)},get dragHandle(){return d(y).dragHandle},get initialized(){return d(H)},get width(){return d(y).width},get height(){return d(y).height},get initialWidth(){return d(y).initialWidth},get initialHeight(){return d(y).initialHeight},get measuredWidth(){return d(y).measured.width},get measuredHeight(){return d(y).measured.height},get parentId(){return d(y).parentId},resizeObserver:x,get nodeClickDistance(){return c()},$$events:{nodeclick(I){ke.call(this,t,I)},nodemouseenter(I){ke.call(this,t,I)},nodemousemove(I){ke.call(this,t,I)},nodemouseleave(I){ke.call(this,t,I)},nodedrag(I){ke.call(this,t,I)},nodedragstart(I){ke.call(this,t,I)},nodedragstop(I){ke.call(this,t,I)},nodecontextmenu(I){ke.call(this,t,I)}}})}),ae(v),q(e,v),me()}var h0=Be('<svg><g role="img"><!></g></svg>');function g0(e,t){pe(t,!1);const n=Re(),i=()=>K(Z,"$edgeTypes",n),r=()=>K(te,"$flowId",n),o=()=>K(U,"$elementsSelectable",n),s=()=>K(ie,"$edgeLookup",n),a=W(void 0,!0),c=W(void 0,!0),u=W(void 0,!0),l=W(void 0,!0),h=W(void 0,!0);let f=p(t,"id",9),g=p(t,"type",9,"default"),m=p(t,"source",9,""),x=p(t,"target",9,""),v=p(t,"data",25,()=>({})),_=p(t,"style",9,void 0),y=p(t,"zIndex",9,void 0),E=p(t,"animated",9,!1),k=p(t,"selected",9,!1),S=p(t,"selectable",9,void 0),A=p(t,"deletable",9,void 0),T=p(t,"hidden",9,!1),P=p(t,"label",9,void 0),z=p(t,"labelStyle",9,void 0),D=p(t,"markerStart",9,void 0),Y=p(t,"markerEnd",9,void 0),H=p(t,"sourceHandle",9,void 0),I=p(t,"targetHandle",9,void 0),w=p(t,"sourceX",9),O=p(t,"sourceY",9),b=p(t,"targetX",9),C=p(t,"targetY",9),N=p(t,"sourcePosition",9),M=p(t,"targetPosition",9),L=p(t,"ariaLabel",9,void 0),B=p(t,"interactionWidth",9,void 0),$=p(t,"class",9,"");xi("svelteflow__edge_id",f());const{edgeLookup:ie,edgeTypes:Z,flowId:te,elementsSelectable:U}=He(),J=Xi(),j=cl();function V(be){const de=s().get(f());de&&(j(f()),J("edgeclick",{event:be,edge:de}))}function G(be,de){const ye=s().get(f());ye&&J(de,{event:be,edge:ye})}ee(()=>X(g()),()=>{F(a,g()||"default")}),ee(()=>(i(),d(a),Vr),()=>{F(c,i()[d(a)]||Vr)}),ee(()=>(X(D()),r()),()=>{F(u,D()?`url('#${Yr(D(),r())}')`:void 0)}),ee(()=>(X(Y()),r()),()=>{F(l,Y()?`url('#${Yr(Y(),r())}')`:void 0)}),ee(()=>(X(S()),o()),()=>{F(h,S()??o())}),Ke(),ve(!0);var oe=rt(),ue=Ne(oe);Ee(ue,()=>!T(),be=>{var de=h0(),ye=ce(de);const Se=le(()=>et(["svelte-flow__edge",$()]));var Pe=ce(ye),Ae=le(()=>A()??!0);ia(Pe,()=>d(c),(Ce,xe)=>{xe(Ce,{get id(){return f()},get source(){return m()},get target(){return x()},get sourceX(){return w()},get sourceY(){return O()},get targetX(){return b()},get targetY(){return C()},get sourcePosition(){return N()},get targetPosition(){return M()},get animated(){return E()},get selected(){return k()},get label(){return P()},get labelStyle(){return z()},get data(){return v()},get style(){return _()},get interactionWidth(){return B()},get selectable(){return d(h)},get deletable(){return d(Ae)},get type(){return d(a)},get sourceHandleId(){return H()},get targetHandleId(){return I()},get markerStart(){return d(u)},get markerEnd(){return d(l)}})}),ae(ye),ae(de),we(()=>{De(de,"z-index",y()),nn(ye,d(Se)),ne(ye,"data-id",f()),ne(ye,"aria-label",L()===null?void 0:L()?L():`Edge from ${m()} to ${x()}`),ze(ye,"animated",E()),ze(ye,"selected",k()),ze(ye,"selectable",d(h))}),he("click",ye,V),he("contextmenu",ye,Ce=>{G(Ce,"edgecontextmenu")}),he("mouseenter",ye,Ce=>{G(Ce,"edgemouseenter")}),he("mouseleave",ye,Ce=>{G(Ce,"edgemouseleave")}),q(be,de)}),q(e,oe),me()}function p0(e,t){pe(t,!1);let n=p(t,"onMount",8,void 0),i=p(t,"onDestroy",8,void 0);tn(()=>{var r;return(r=n())==null||r(),i()}),ve(),me()}var m0=Be("<defs></defs>");function v0(e,t){pe(t,!1);const n=Re(),i=()=>K(r,"$markers",n),{markers:r}=He();ve();var o=m0();jt(o,5,i,s=>s.id,(s,a)=>{b0(s,ln(()=>d(a)))}),ae(o),q(e,o),me()}var y0=Be('<polyline stroke-linecap="round" stroke-linejoin="round" fill="none" points="-5,-4 0,0 -5,4"></polyline>'),x0=Be('<polyline stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4 -5,-4"></polyline>'),w0=Be('<marker class="svelte-flow__arrowhead" viewBox="-10 -10 20 20" refX="0" refY="0"><!></marker>');function b0(e,t){pe(t,!1);let n=p(t,"id",8),i=p(t,"type",8),r=p(t,"width",8,12.5),o=p(t,"height",8,12.5),s=p(t,"markerUnits",8,"strokeWidth"),a=p(t,"orient",8,"auto-start-reverse"),c=p(t,"color",8,void 0),u=p(t,"strokeWidth",8,void 0);ve();var l=w0(),h=ce(l);Ee(h,()=>i()===Ti.Arrow,f=>{var g=y0();we(()=>{ne(g,"stroke",c()),ne(g,"stroke-width",u())}),q(f,g)},f=>{var g=rt(),m=Ne(g);Ee(m,()=>i()===Ti.ArrowClosed,x=>{var v=x0();we(()=>{ne(v,"stroke",c()),ne(v,"stroke-width",u()),ne(v,"fill",c())}),q(x,v)},null,!0),q(f,g)}),ae(l),we(()=>{ne(l,"id",n()),ne(l,"markerWidth",`${r()}`),ne(l,"markerHeight",`${o()}`),ne(l,"markerUnits",s()),ne(l,"orient",a())}),q(e,l),me()}var _0=ge('<div class="svelte-flow__edges"><svg class="svelte-flow__marker"><!></svg> <!> <!></div>');function k0(e,t){pe(t,!1);const n=Re(),i=()=>K(s,"$visibleEdges",n),r=()=>K(u,"$elementsSelectable",n);let o=p(t,"defaultEdgeOptions",8);const{visibleEdges:s,edgesInitialized:a,edges:{setDefaultOptions:c},elementsSelectable:u}=He();tn(()=>{o()&&c(o())}),ve();var l=_0(),h=ce(l),f=ce(h);v0(f,{}),ae(h);var g=re(h,2);jt(g,1,i,x=>x.id,(x,v)=>{var _=le(()=>d(v).selectable??r()),y=le(()=>d(v).type||"default");g0(x,{get id(){return d(v).id},get source(){return d(v).source},get target(){return d(v).target},get data(){return d(v).data},get style(){return d(v).style},get animated(){return d(v).animated},get selected(){return d(v).selected},get selectable(){return d(_)},get deletable(){return d(v).deletable},get hidden(){return d(v).hidden},get label(){return d(v).label},get labelStyle(){return d(v).labelStyle},get markerStart(){return d(v).markerStart},get markerEnd(){return d(v).markerEnd},get sourceHandle(){return d(v).sourceHandle},get targetHandle(){return d(v).targetHandle},get sourceX(){return d(v).sourceX},get sourceY(){return d(v).sourceY},get targetX(){return d(v).targetX},get targetY(){return d(v).targetY},get sourcePosition(){return d(v).sourcePosition},get targetPosition(){return d(v).targetPosition},get ariaLabel(){return d(v).ariaLabel},get interactionWidth(){return d(v).interactionWidth},get class(){return d(v).class},get type(){return d(y)},get zIndex(){return d(v).zIndex},$$events:{edgeclick(E){ke.call(this,t,E)},edgecontextmenu(E){ke.call(this,t,E)},edgemouseenter(E){ke.call(this,t,E)},edgemouseleave(E){ke.call(this,t,E)}}})});var m=re(g,2);Ee(m,()=>i().length>0,x=>{p0(x,{onMount:()=>{wi(a,!0)},onDestroy:()=>{wi(a,!1)}})}),ae(l),q(e,l),me()}var S0=ge('<div class="svelte-flow__selection svelte-1iugwpu"></div>');function hl(e,t){let n=p(t,"x",8,0),i=p(t,"y",8,0),r=p(t,"width",8,0),o=p(t,"height",8,0),s=p(t,"isVisible",8,!0);var a=rt(),c=Ne(a);Ee(c,s,u=>{var l=S0();we(()=>{De(l,"width",typeof r()=="string"?r():`${r()}px`),De(l,"height",typeof o()=="string"?o():`${o()}px`),De(l,"transform",`translate(${n()}px, ${i()}px)`)}),q(u,l)}),q(e,a)}function E0(e,t){pe(t,!1);const n=Re(),i=()=>K(o,"$selectionRect",n),r=()=>K(s,"$selectionRectMode",n),{selectionRect:o,selectionRectMode:s}=He();ve();var a=le(()=>!!(i()&&r()==="user")),c=le(()=>{var f;return(f=i())==null?void 0:f.width}),u=le(()=>{var f;return(f=i())==null?void 0:f.height}),l=le(()=>{var f;return(f=i())==null?void 0:f.x}),h=le(()=>{var f;return(f=i())==null?void 0:f.y});hl(e,{get isVisible(){return d(a)},get width(){return d(c)},get height(){return d(u)},get x(){return d(l)},get y(){return d(h)}}),me()}var A0=ge('<div class="selection-wrapper nopan svelte-5pxri" role="button" tabindex="-1"><!></div>');function C0(e,t){pe(t,!1);const n=Re(),i=()=>K(a,"$selectionRectMode",n),r=()=>K(u,"$nodeLookup",n),o=()=>K(c,"$nodes",n),s=He(),{selectionRectMode:a,nodes:c,nodeLookup:u}=s,l=Xi();let h=W(null);function f(v){const _=o().filter(y=>y.selected);l("selectioncontextmenu",{nodes:_,event:v})}function g(v){const _=o().filter(y=>y.selected);l("selectionclick",{nodes:_,event:v})}ee(()=>(i(),r(),o()),()=>{i()==="nodes"&&(F(h,Qn(r(),{filter:v=>!!v.selected})),o())}),Ke(),ve();var m=rt(),x=Ne(m);Ee(x,()=>i()==="nodes"&&d(h)&&Mt(d(h).x)&&Mt(d(h).y),v=>{var _=A0(),y=ce(_);hl(y,{width:"100%",height:"100%",x:0,y:0}),ae(_),qe(_,(E,k)=>fl(E,k),()=>({disabled:!1,store:s,onDrag:(E,k,S,A)=>{l("nodedrag",{event:E,targetNode:null,nodes:A})},onDragStart:(E,k,S,A)=>{l("nodedragstart",{event:E,targetNode:null,nodes:A})},onDragStop:(E,k,S,A)=>{l("nodedragstop",{event:E,targetNode:null,nodes:A})}})),at(()=>he("contextmenu",_,f)),at(()=>he("click",_,g)),at(()=>he("keyup",_,()=>{})),we(()=>ne(_,"style",`width: ${d(h).width??""}px; height: ${d(h).height??""}px; transform: translate(${d(h).x??""}px, ${d(h).y??""}px)`)),q(v,_)}),q(e,m),me()}function wt(e,t){let{enabled:n=!0,trigger:i,type:r="keydown"}=t;function o(s){const a=Array.isArray(i)?i:[i],c={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const u of a){const l={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:h,key:f,callback:g,preventDefault:m,enabled:x}=l;if(x){if(h.length&&!(Array.isArray(h)?h:[h]).map(y=>typeof y=="string"?[y]:y).some(y=>y.every(E=>c[E])))continue;if(s.key===f){m&&s.preventDefault();const v={node:e,trigger:l,originalEvent:s};e.dispatchEvent(new CustomEvent("shortcut",{detail:v})),g==null||g(v)}}}}return n&&e.addEventListener(r,o),{update:s=>{const{enabled:a=!0,type:c="keydown"}=s;n&&(!a||r!==c)?e.removeEventListener(r,o):!n&&a&&e.addEventListener(c,o),n=a,r=c,i=s.trigger},destroy:()=>{e.removeEventListener(r,o)}}}function N0(e,t){pe(t,!1);let n=p(t,"selectionKey",8,"Shift"),i=p(t,"multiSelectionKey",24,()=>Pi()?"Meta":"Control"),r=p(t,"deleteKey",8,"Backspace"),o=p(t,"panActivationKey",8," "),s=p(t,"zoomActivationKey",24,()=>Pi()?"Meta":"Control");const{selectionKeyPressed:a,multiselectionKeyPressed:c,deleteKeyPressed:u,panActivationKeyPressed:l,zoomActivationKeyPressed:h,selectionRect:f}=He();function g(y){return y!==null&&typeof y=="object"}function m(y){return g(y)?y.modifier||[]:[]}function x(y){return y==null?"":g(y)?y.key:y}function v(y,E){return(Array.isArray(y)?y:[y]).map(S=>{const A=x(S);return{key:A,modifier:m(S),enabled:A!==null,callback:E}})}function _(){f.set(null),a.set(!1),c.set(!1),u.set(!1),l.set(!1),h.set(!1)}ve(),he("blur",ut,_),he("contextmenu",ut,_),qe(ut,(y,E)=>wt(y,E),()=>({trigger:v(n(),()=>a.set(!0)),type:"keydown"})),qe(ut,(y,E)=>wt(y,E),()=>({trigger:v(n(),()=>a.set(!1)),type:"keyup"})),qe(ut,(y,E)=>wt(y,E),()=>({trigger:v(i(),()=>c.set(!0)),type:"keydown"})),qe(ut,(y,E)=>wt(y,E),()=>({trigger:v(i(),()=>c.set(!1)),type:"keyup"})),qe(ut,(y,E)=>wt(y,E),()=>({trigger:v(r(),y=>{!(y.originalEvent.ctrlKey||y.originalEvent.metaKey||y.originalEvent.shiftKey)&&!Uh(y.originalEvent)&&u.set(!0)}),type:"keydown"})),qe(ut,(y,E)=>wt(y,E),()=>({trigger:v(r(),()=>u.set(!1)),type:"keyup"})),qe(ut,(y,E)=>wt(y,E),()=>({trigger:v(o(),()=>l.set(!0)),type:"keydown"})),qe(ut,(y,E)=>wt(y,E),()=>({trigger:v(o(),()=>l.set(!1)),type:"keyup"})),qe(ut,(y,E)=>wt(y,E),()=>({trigger:v(s(),()=>h.set(!0)),type:"keydown"})),qe(ut,(y,E)=>wt(y,E),()=>({trigger:v(s(),()=>h.set(!1)),type:"keyup"})),me()}var T0=Be('<path fill="none" class="svelte-flow__connection-path"></path>'),M0=Be('<svg class="svelte-flow__connectionline"><g><!><!></g></svg>');function P0(e,t){pe(t,!1);const n=Re(),i=()=>K(f,"$connection",n),r=()=>K(g,"$connectionLineType",n),o=()=>K(l,"$width",n),s=()=>K(h,"$height",n);let a=p(t,"containerStyle",8,""),c=p(t,"style",8,""),u=p(t,"isCustomComponent",8,!1);const{width:l,height:h,connection:f,connectionLineType:g}=He();let m=W(null);ee(()=>(i(),X(u()),r(),d(m),Fr),()=>{if(i().inProgress&&!u()){const{from:_,to:y,fromPosition:E,toPosition:k}=i(),S={sourceX:_.x,sourceY:_.y,sourcePosition:E,targetX:y.x,targetY:y.y,targetPosition:k};switch(r()){case vn.Bezier:(A=>F(m,A[0]))($a(S));break;case vn.Step:(A=>F(m,A[0]))(Ii({...S,borderRadius:0}));break;case vn.SmoothStep:(A=>F(m,A[0]))(Ii(S));break;default:(A=>F(m,A[0]))(Fr(S))}}}),Ke(),ve();var x=rt(),v=Ne(x);Ee(v,()=>i().inProgress,_=>{var y=M0(),E=ce(y);const k=le(()=>et(["svelte-flow__connection",Hh(i().isValid)]));var S=ce(E);$e(S,t,"connectionLine",{});var A=re(S);Ee(A,()=>!u(),T=>{var P=T0();we(()=>{ne(P,"d",d(m)),ne(P,"style",c())}),q(T,P)}),ae(E),ae(y),we(()=>{ne(y,"width",o()),ne(y,"height",s()),ne(y,"style",a()),nn(E,d(k))}),q(_,y)}),q(e,x),me()}var I0=ge("<div><!></div>");function wo(e,t){const n=Le(t,["children","$$slots","$$events","$$legacy"]),i=Le(n,["position","style","class"]);pe(t,!1);const r=Re(),o=()=>K(l,"$selectionRectMode",r),s=W();let a=p(t,"position",8,"top-right"),c=p(t,"style",8,void 0),u=p(t,"class",8,void 0);const{selectionRectMode:l}=He();ee(()=>X(a()),()=>{F(s,`${a()}`.split("-"))}),Ke(),ve();var h=I0();let f;var g=ce(h);$e(g,t,"default",{}),ae(h),we(()=>{f=ro(h,f,{class:et(["svelte-flow__panel",u(),...d(s)]),style:c(),...i}),De(h,"pointer-events",o()?"none":"")}),q(e,h),me()}var O0=ge('<a href="https://svelteflow.dev" target="_blank" rel="noopener noreferrer" aria-label="Svelte Flow attribution">Svelte Flow</a>');function z0(e,t){pe(t,!1);let n=p(t,"proOptions",8,void 0),i=p(t,"position",8,"bottom-right");ve();var r=rt(),o=Ne(r);Ee(o,()=>{var s;return!((s=n())!=null&&s.hideAttribution)},s=>{wo(s,{get position(){return i()},class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",children:(a,c)=>{var u=O0();q(a,u)},$$slots:{default:!0}})}),q(e,r),me()}function Ps(e,{nodeTypes:t,edgeTypes:n,minZoom:i,maxZoom:r,translateExtent:o,paneClickDistance:s}){t!==void 0&&e.setNodeTypes(t),n!==void 0&&e.setEdgeTypes(n),i!==void 0&&e.setMinZoom(i),r!==void 0&&e.setMaxZoom(r),o!==void 0&&e.setTranslateExtent(o),s!==void 0&&e.setPaneClickDistance(s)}const D0=e=>Object.keys(e);function Is(e,t){D0(t).forEach(n=>{const i=t[n];i!==void 0&&e[n].set(i)})}function L0(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function H0(e="light"){return gt("light",n=>{if(e!=="system"){n(e);return}const i=L0(),r=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",r),()=>{i==null||i.removeEventListener("change",r)}})}var R0=ge('<!> <!> <div class="svelte-flow__edgelabel-renderer"></div> <div class="svelte-flow__viewport-portal"></div> <!> <!>',1),F0=ge("<!> <!>",1),Y0=ge("<div><!> <!> <!> <!></div>");function B0(e,t){const n=zc(t),i=Le(t,["children","$$slots","$$events","$$legacy"]),r=Le(i,["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"]);pe(t,!1);const o=Re(),s=()=>K(y(),"$viewport",o),a=()=>K(tr,"$initialized",o),c=()=>K(d(u),"$colorModeClass",o),u=W();let l=p(t,"id",8,"1"),h=p(t,"nodes",8),f=p(t,"edges",8),g=p(t,"fitView",8,void 0),m=p(t,"fitViewOptions",8,void 0),x=p(t,"minZoom",8,void 0),v=p(t,"maxZoom",8,void 0),_=p(t,"initialViewport",8,void 0),y=p(t,"viewport",8,void 0),E=p(t,"nodeTypes",8,void 0),k=p(t,"edgeTypes",8,void 0),S=p(t,"selectionKey",8,void 0),A=p(t,"selectionMode",8,void 0),T=p(t,"panActivationKey",8,void 0),P=p(t,"multiSelectionKey",8,void 0),z=p(t,"zoomActivationKey",8,void 0),D=p(t,"nodesDraggable",8,void 0),Y=p(t,"nodesConnectable",8,void 0),H=p(t,"nodeDragThreshold",8,void 0),I=p(t,"elementsSelectable",8,void 0),w=p(t,"snapGrid",8,void 0),O=p(t,"deleteKey",8,void 0),b=p(t,"connectionRadius",8,void 0),C=p(t,"connectionLineType",8,void 0),N=p(t,"connectionMode",24,()=>Qt.Strict),M=p(t,"connectionLineStyle",8,""),L=p(t,"connectionLineContainerStyle",8,""),B=p(t,"onMoveStart",8,void 0),$=p(t,"onMove",8,void 0),ie=p(t,"onMoveEnd",8,void 0),Z=p(t,"isValidConnection",8,void 0),te=p(t,"translateExtent",8,void 0),U=p(t,"nodeExtent",8,void 0),J=p(t,"onlyRenderVisibleElements",8,void 0),j=p(t,"panOnScrollMode",24,()=>Rt.Free),V=p(t,"preventScrolling",8,!0),G=p(t,"zoomOnScroll",8,!0),oe=p(t,"zoomOnDoubleClick",8,!0),ue=p(t,"zoomOnPinch",8,!0),be=p(t,"panOnScroll",8,!1),de=p(t,"panOnDrag",8,!0),ye=p(t,"selectionOnDrag",8,void 0),Se=p(t,"autoPanOnConnect",8,!0),Pe=p(t,"autoPanOnNodeDrag",8,!0),Ae=p(t,"onerror",8,void 0),Ce=p(t,"ondelete",8,void 0),xe=p(t,"onedgecreate",8,void 0),tt=p(t,"attributionPosition",8,void 0),Ve=p(t,"proOptions",8,void 0),Me=p(t,"defaultEdgeOptions",8,void 0),ot=p(t,"width",8,void 0),Ue=p(t,"height",8,void 0),Ge=p(t,"colorMode",8,"light"),Ie=p(t,"onconnect",8,void 0),Vt=p(t,"onconnectstart",8,void 0),rn=p(t,"onconnectend",8,void 0),Fe=p(t,"onbeforedelete",8,void 0),Te=p(t,"oninit",8,void 0),Oe=p(t,"nodeOrigin",8,void 0),Xe=p(t,"paneClickDistance",8,0),ct=p(t,"nodeClickDistance",8,0),yt=p(t,"defaultMarkerColor",8,"#b1b1b7"),xt=p(t,"style",8,void 0),on=p(t,"class",8,void 0),st=W(),Xt=W(),Wt=W();const er=s()||_(),We=Mc(xo)?He():e0({nodes:R(h()),edges:R(f()),width:ot(),height:Ue(),fitView:g(),nodeOrigin:Oe(),nodeExtent:U()});tn(()=>(We.width.set(d(Xt)),We.height.set(d(Wt)),We.domNode.set(d(st)),We.syncNodeStores(h()),We.syncEdgeStores(f()),We.syncViewport(y()),g()!==void 0&&We.fitViewOnInit.set(g()),m()&&We.fitViewOptions.set(m()),Ps(We,{nodeTypes:E(),edgeTypes:k(),minZoom:x(),maxZoom:v(),translateExtent:te(),paneClickDistance:Xe()}),()=>{We.reset()}));const{initialized:tr}=We;let An=W(!1);ee(()=>(d(Xt),d(Wt)),()=>{d(Xt)!==void 0&&d(Wt)!==void 0&&(We.width.set(d(Xt)),We.height.set(d(Wt)))}),ee(()=>(d(An),a(),X(Te())),()=>{var Ze;!d(An)&&a()&&((Ze=Te())==null||Ze(),F(An,!0))}),ee(()=>(X(l()),X(C()),X(b()),X(A()),X(w()),X(yt()),X(D()),X(Y()),X(I()),X(J()),X(Z()),X(Se()),X(Pe()),X(Ae()),X(Ce()),X(xe()),X(N()),X(H()),X(Ie()),X(Vt()),X(rn()),X(Fe()),X(Oe()),Is),()=>{const Ze={flowId:l(),connectionLineType:C(),connectionRadius:b(),selectionMode:A(),snapGrid:w(),defaultMarkerColor:yt(),nodesDraggable:D(),nodesConnectable:Y(),elementsSelectable:I(),onlyRenderVisibleElements:J(),isValidConnection:Z(),autoPanOnConnect:Se(),autoPanOnNodeDrag:Pe(),onerror:Ae(),ondelete:Ce(),onedgecreate:xe(),connectionMode:N(),nodeDragThreshold:H(),onconnect:Ie(),onconnectstart:Vt(),onconnectend:rn(),onbeforedelete:Fe(),nodeOrigin:Oe()};Is(We,Ze)}),ee(()=>(X(E()),X(k()),X(x()),X(v()),X(te()),X(Xe())),()=>{Ps(We,{nodeTypes:E(),edgeTypes:k(),minZoom:x(),maxZoom:v(),translateExtent:te(),paneClickDistance:Xe()})}),ee(()=>X(Ge()),()=>{Xc(F(u,H0(Ge())),"$colorModeClass",o)}),Ke(),ve();var Et=Y0();let So;var Eo=ce(Et);N0(Eo,{get selectionKey(){return S()},get deleteKey(){return O()},get panActivationKey(){return T()},get multiSelectionKey(){return P()},get zoomActivationKey(){return z()}});var Ao=re(Eo,2),Xl=le(()=>j()===void 0?Rt.Free:j()),Wl=le(()=>V()===void 0?!0:V()),Kl=le(()=>G()===void 0?!0:G()),Ul=le(()=>oe()===void 0?!0:oe()),Gl=le(()=>ue()===void 0?!0:ue()),Zl=le(()=>be()===void 0?!1:be()),ql=le(()=>de()===void 0?!0:de()),$l=le(()=>Xe()===void 0?0:Xe());i0(Ao,{initialViewport:er,get onMoveStart(){return B()},get onMove(){return $()},get onMoveEnd(){return ie()},get panOnScrollMode(){return d(Xl)},get preventScrolling(){return d(Wl)},get zoomOnScroll(){return d(Kl)},get zoomOnDoubleClick(){return d(Ul)},get zoomOnPinch(){return d(Gl)},get panOnScroll(){return d(Zl)},get panOnDrag(){return d(ql)},get paneClickDistance(){return d($l)},children:(Ze,Jv)=>{var Jl=le(()=>de()===void 0?!0:de());o0(Ze,{get panOnDrag(){return d(Jl)},get selectionOnDrag(){return ye()},$$events:{paneclick(Cn){ke.call(this,t,Cn)},panecontextmenu(Cn){ke.call(this,t,Cn)}},children:(Cn,Qv)=>{var No=F0(),To=Ne(No);a0(To,{children:(ec,ey)=>{var Mo=R0(),Po=Ne(Mo);k0(Po,{get defaultEdgeOptions(){return Me()},$$events:{edgeclick(_e){ke.call(this,t,_e)},edgecontextmenu(_e){ke.call(this,t,_e)},edgemouseenter(_e){ke.call(this,t,_e)},edgemouseleave(_e){ke.call(this,t,_e)}}});var Io=re(Po,2);P0(Io,{get containerStyle(){return L()},get style(){return M()},isCustomComponent:n.connectionLine,$$slots:{connectionLine:(_e,ty)=>{var zo=rt(),nc=Ne(zo);$e(nc,t,"connectionLine",{}),q(_e,zo)}}});var Oo=re(Io,6);f0(Oo,{get nodeClickDistance(){return ct()},$$events:{nodeclick(_e){ke.call(this,t,_e)},nodemouseenter(_e){ke.call(this,t,_e)},nodemousemove(_e){ke.call(this,t,_e)},nodemouseleave(_e){ke.call(this,t,_e)},nodedragstart(_e){ke.call(this,t,_e)},nodedrag(_e){ke.call(this,t,_e)},nodedragstop(_e){ke.call(this,t,_e)},nodecontextmenu(_e){ke.call(this,t,_e)}}});var tc=re(Oo,2);C0(tc,{$$events:{selectionclick(_e){ke.call(this,t,_e)},selectioncontextmenu(_e){ke.call(this,t,_e)},nodedragstart(_e){ke.call(this,t,_e)},nodedrag(_e){ke.call(this,t,_e)},nodedragstop(_e){ke.call(this,t,_e)}}}),q(ec,Mo)},$$slots:{default:!0}});var Ql=re(To,2);E0(Ql,{}),q(Cn,No)},$$slots:{default:!0}})},$$slots:{default:!0}});var Co=re(Ao,2);z0(Co,{get proOptions(){return Ve()},get position(){return tt()}});var jl=re(Co,2);$e(jl,t,"default",{}),ae(Et),no(Et,Ze=>F(st,Ze),()=>d(st)),we(()=>So=ro(Et,So,{style:xt(),class:et(["svelte-flow",on(),c()]),"data-testid":"svelte-flow__wrapper",...r,role:"application"},"svelte-12wlba6")),Zo(Et,"clientWidth",Ze=>F(Xt,Ze)),Zo(Et,"clientHeight",Ze=>F(Wt,Ze)),he("dragover",Et,function(Ze){ke.call(this,t,Ze)}),he("drop",Et,function(Ze){ke.call(this,t,Ze)}),q(e,Et),me()}var V0=ge("<button><!></button>");function bt(e,t){const n=Le(t,["children","$$slots","$$events","$$legacy"]),i=Le(n,["class"]);pe(t,!1);let r=p(t,"class",8,void 0),o,s,a,c,u;ve();var l=V0();let h;var f=ce(l);$e(f,t,"default",{class:"button-svg"}),ae(l),we(()=>{h=ro(l,h,{type:"button",class:et(["svelte-flow__controls-button",r()]),...i}),De(l,"--xy-controls-button-background-color-props",o),De(l,"--xy-controls-button-background-color-hover-props",s),De(l,"--xy-controls-button-color-props",a),De(l,"--xy-controls-button-color-hover-props",c),De(l,"--xy-controls-button-border-color-props",u)}),he("click",l,function(g){ke.call(this,t,g)}),q(e,l),me()}var X0=Be('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"></path></svg>');function W0(e){var t=X0();q(e,t)}var K0=Be('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 5"><path d="M0 0h32v4.2H0z"></path></svg>');function U0(e){var t=K0();q(e,t)}var G0=Be('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 30"><path d="M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"></path></svg>');function Z0(e){var t=G0();q(e,t)}var q0=Be('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 32"><path d="M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"></path></svg>');function $0(e){var t=q0();q(e,t)}var j0=Be('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 32"><path d="M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"></path></svg>');function J0(e){var t=j0();q(e,t)}var Q0=ge("<!> <!>",1),ep=ge("<!> <!> <!> <!> <!> <!>",1);function tp(e,t){pe(t,!1);const n=Re(),i=()=>K(C,"$nodesDraggable",n),r=()=>K(N,"$nodesConnectable",n),o=()=>K(M,"$elementsSelectable",n),s=()=>K(w,"$viewport",n),a=()=>K(O,"$minZoom",n),c=()=>K(b,"$maxZoom",n),u=W(),l=W(),h=W(),f=W();let g=p(t,"position",8,"bottom-left"),m=p(t,"showZoom",8,!0),x=p(t,"showFitView",8,!0),v=p(t,"showLock",8,!0),_=p(t,"buttonBgColor",8,void 0),y=p(t,"buttonBgColorHover",8,void 0),E=p(t,"buttonColor",8,void 0),k=p(t,"buttonColorHover",8,void 0),S=p(t,"buttonBorderColor",8,void 0),A=p(t,"ariaLabel",8,void 0),T=p(t,"style",8,void 0),P=p(t,"orientation",8,"vertical"),z=p(t,"fitViewOptions",8,void 0),D=p(t,"class",8,"");const{zoomIn:Y,zoomOut:H,fitView:I,viewport:w,minZoom:O,maxZoom:b,nodesDraggable:C,nodesConnectable:N,elementsSelectable:M}=He(),L={bgColor:_(),bgColorHover:y(),color:E(),colorHover:k(),borderColor:S()},B=()=>{Y()},$=()=>{H()},ie=()=>{I(z())},Z=()=>{F(u,!d(u)),C.set(d(u)),N.set(d(u)),M.set(d(u))};ee(()=>(i(),r(),o()),()=>{F(u,i()||r()||o())}),ee(()=>(s(),a()),()=>{F(l,s().zoom<=a())}),ee(()=>(s(),c()),()=>{F(h,s().zoom>=c())}),ee(()=>X(P()),()=>{F(f,P()==="horizontal"?"horizontal":"vertical")}),Ke(),ve();var te=le(()=>et(["svelte-flow__controls",d(f),D()])),U=le(()=>A()??"Svelte Flow controls");wo(e,{get class(){return d(te)},get position(){return g()},"data-testid":"svelte-flow__controls",get"aria-label"(){return d(U)},get style(){return T()},children:(J,j)=>{var V=ep(),G=Ne(V);$e(G,t,"before",{});var oe=re(G,2);Ee(oe,m,Se=>{var Pe=Q0(),Ae=Ne(Pe);bt(Ae,ln({class:"svelte-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",get disabled(){return d(h)}},L,{$$events:{click:B},children:(xe,tt)=>{W0(xe)},$$slots:{default:!0}}));var Ce=re(Ae,2);bt(Ce,ln({class:"svelte-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",get disabled(){return d(l)}},L,{$$events:{click:$},children:(xe,tt)=>{U0(xe)},$$slots:{default:!0}})),q(Se,Pe)});var ue=re(oe,2);Ee(ue,x,Se=>{bt(Se,ln({class:"svelte-flow__controls-fitview",title:"fit view","aria-label":"fit view"},L,{$$events:{click:ie},children:(Pe,Ae)=>{Z0(Pe)},$$slots:{default:!0}}))});var be=re(ue,2);Ee(be,v,Se=>{bt(Se,ln({class:"svelte-flow__controls-interactive",title:"toggle interactivity","aria-label":"toggle interactivity"},L,{$$events:{click:Z},children:(Pe,Ae)=>{var Ce=rt(),xe=Ne(Ce);Ee(xe,()=>d(u),tt=>{J0(tt)},tt=>{$0(tt)}),q(Pe,Ce)},$$slots:{default:!0}}))});var de=re(be,2);$e(de,t,"default",{});var ye=re(de,2);$e(ye,t,"after",{}),q(J,V)},$$slots:{default:!0}}),me()}var It;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(It||(It={}));var np=Be("<circle></circle>");function ip(e,t){pe(t,!1);let n=p(t,"radius",8,5),i=p(t,"class",8,"");ve();var r=np();const o=le(()=>et(["svelte-flow__background-pattern","dots",i()]));we(()=>{ne(r,"cx",n()),ne(r,"cy",n()),ne(r,"r",n()),nn(r,d(o))}),q(e,r),me()}var rp=Be("<path></path>");function op(e,t){pe(t,!1);let n=p(t,"lineWidth",8,1),i=p(t,"dimensions",8),r=p(t,"variant",8,void 0),o=p(t,"class",8,"");ve();var s=rp();const a=le(()=>et(["svelte-flow__background-pattern",r(),o()]));we(()=>{ne(s,"stroke-width",n()),ne(s,"d",`M${i()[0]/2} 0 V${i()[1]} M0 ${i()[1]/2} H${i()[0]}`),nn(s,d(a))}),q(e,s),me()}const sp={[It.Dots]:1,[It.Lines]:1,[It.Cross]:6};var ap=Be('<svg data-testid="svelte-flow__background"><pattern patternUnits="userSpaceOnUse"><!></pattern><rect x="0" y="0" width="100%" height="100%"></rect></svg>');function lp(e,t){pe(t,!1);const n=Re(),i=()=>K(k,"$flowId",n),r=()=>K(E,"$viewport",n),o=W(),s=W(),a=W(),c=W(),u=W();let l=p(t,"id",8,void 0),h=p(t,"variant",24,()=>It.Dots),f=p(t,"gap",8,20),g=p(t,"size",8,1),m=p(t,"lineWidth",8,1),x=p(t,"bgColor",8,void 0),v=p(t,"patternColor",8,void 0),_=p(t,"patternClass",8,void 0),y=p(t,"class",8,"");const{viewport:E,flowId:k}=He(),S=g()||sp[h()],A=h()===It.Dots,T=h()===It.Cross,P=Array.isArray(f())?f():[f(),f()];ee(()=>(i(),X(l())),()=>{F(o,`background-pattern-${i()}-${l()?l():""}`)}),ee(()=>r(),()=>{F(s,[P[0]*r().zoom||1,P[1]*r().zoom||1])}),ee(()=>r(),()=>{F(a,S*r().zoom)}),ee(()=>(d(a),d(s)),()=>{F(c,T?[d(a),d(a)]:d(s))}),ee(()=>(d(a),d(c)),()=>{F(u,A?[d(a)/2,d(a)/2]:[d(c)[0]/2,d(c)[1]/2])}),Ke(),ve();var z=ap();const D=le(()=>`${et(["svelte-flow__background",y()])??""} svelte-1r7pe8d`);var Y=ce(z),H=ce(Y);Ee(H,()=>A,w=>{var O=le(()=>d(a)/2);ip(w,{get radius(){return d(O)},get class(){return _()}})},w=>{op(w,{get dimensions(){return d(c)},get variant(){return h()},get lineWidth(){return m()},get class(){return _()}})}),ae(Y);var I=re(Y);ae(z),we(()=>{nn(z,d(D)),De(z,"--xy-background-color-props",x()),De(z,"--xy-background-pattern-color-props",v()),ne(Y,"id",d(o)),ne(Y,"x",r().x%d(s)[0]),ne(Y,"y",r().y%d(s)[1]),ne(Y,"width",d(s)[0]),ne(Y,"height",d(s)[1]),ne(Y,"patternTransform",`translate(-${d(u)[0]},-${d(u)[1]})`),ne(I,"fill",`url(#${d(o)})`)}),q(e,z),me()}var cp=Be("<rect></rect>");function up(e,t){pe(t,!1);let n=p(t,"x",8),i=p(t,"y",8),r=p(t,"width",8,0),o=p(t,"height",8,0),s=p(t,"borderRadius",8,5),a=p(t,"color",8,void 0),c=p(t,"shapeRendering",8),u=p(t,"strokeColor",8,void 0),l=p(t,"strokeWidth",8,2),h=p(t,"selected",8,!1),f=p(t,"class",8,"");ve();var g=cp();const m=le(()=>et(["svelte-flow__minimap-node",f()]));we(()=>{nn(g,d(m)),ne(g,"x",n()),ne(g,"y",i()),ne(g,"rx",s()),ne(g,"ry",s()),ne(g,"width",r()),ne(g,"height",o()),ne(g,"style",`${a()?`fill: ${a()};`:""}${u()?`stroke: ${u()};`:""}${l()?`stroke-width: ${l()};`:""}`),ne(g,"shape-rendering",c()),ze(g,"selected",h())}),q(e,g),me()}function dp(e,t){const n=wg({domNode:e,panZoom:t.panZoom,getTransform:()=>{const r=R(t.viewport);return[r.x,r.y,r.zoom]},getViewScale:t.getViewScale});function i(r){n.update({translateExtent:r.translateExtent,width:r.width,height:r.height,inversePan:r.inversePan,zoomStep:r.zoomStep,pannable:r.pannable,zoomable:r.zoomable})}return{update:i,destroy(){n.destroy()}}}const yr=e=>e instanceof Function?e:()=>e;var fp=Be("<title> </title>"),hp=Be('<svg class="svelte-flow__minimap-svg" role="img"><!><!><path class="svelte-flow__minimap-mask" fill-rule="evenodd" pointer-events="none"></path></svg>');function gp(e,t){pe(t,!1);const n=Re(),i=()=>K(de,"$flowId",n),r=()=>K(oe,"$viewport",n),o=()=>K(ue,"$containerWidth",n),s=()=>K(be,"$containerHeight",n),a=()=>K(G,"$nodeLookup",n),c=()=>K(V,"$nodes",n),u=()=>K(ye,"$panZoom",n),l=()=>K(Se,"$translateExtent",n),h=W(),f=W(),g=W(),m=W(),x=W(),v=W(),_=W(),y=W(),E=W(),k=W(),S=W(),A=W(),T=W();let P=p(t,"position",8,"bottom-right"),z=p(t,"ariaLabel",8,"Mini map"),D=p(t,"nodeStrokeColor",8,"transparent"),Y=p(t,"nodeColor",8,void 0),H=p(t,"nodeClass",8,""),I=p(t,"nodeBorderRadius",8,5),w=p(t,"nodeStrokeWidth",8,2),O=p(t,"bgColor",8,void 0),b=p(t,"maskColor",8,void 0),C=p(t,"maskStrokeColor",8,void 0),N=p(t,"maskStrokeWidth",8,void 0),M=p(t,"width",8,void 0),L=p(t,"height",8,void 0),B=p(t,"pannable",8,!0),$=p(t,"zoomable",8,!0),ie=p(t,"inversePan",8,void 0),Z=p(t,"zoomStep",8,void 0),te=p(t,"style",8,""),U=p(t,"class",8,"");const J=200,j=150,{nodes:V,nodeLookup:G,viewport:oe,width:ue,height:be,flowId:de,panZoom:ye,translateExtent:Se}=He(),Pe=Y()===void 0?void 0:yr(Y()),Ae=yr(D()),Ce=yr(H()),xe=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",tt=`svelte-flow__minimap-desc-${i()}`;let Ve=W(d(h));const Me=()=>d(v);ee(()=>(r(),o(),s()),()=>{F(h,{x:-r().x/r().zoom,y:-r().y/r().zoom,width:o()/r().zoom,height:s()/r().zoom})}),ee(()=>(a(),d(h),c()),()=>{F(Ve,a().size>0?Ua(Qn(a()),d(h)):d(h)),c()}),ee(()=>X(M()),()=>{F(f,M()??J)}),ee(()=>X(L()),()=>{F(g,L()??j)}),ee(()=>(d(Ve),d(f)),()=>{F(m,d(Ve).width/d(f))}),ee(()=>(d(Ve),d(g)),()=>{F(x,d(Ve).height/d(g))}),ee(()=>(d(m),d(x)),()=>{F(v,Math.max(d(m),d(x)))}),ee(()=>(d(v),d(f)),()=>{F(_,d(v)*d(f))}),ee(()=>(d(v),d(g)),()=>{F(y,d(v)*d(g))}),ee(()=>d(v),()=>{F(E,5*d(v))}),ee(()=>(d(Ve),d(_),d(E)),()=>{F(k,d(Ve).x-(d(_)-d(Ve).width)/2-d(E))}),ee(()=>(d(Ve),d(y),d(E)),()=>{F(S,d(Ve).y-(d(y)-d(Ve).height)/2-d(E))}),ee(()=>(d(_),d(E)),()=>{F(A,d(_)+d(E)*2)}),ee(()=>(d(y),d(E)),()=>{F(T,d(y)+d(E)*2)}),Ke(),ve();var ot=le(()=>te()+(O()?`;--xy-minimap-background-color-props:${O()}`:"")),Ue=le(()=>et(["svelte-flow__minimap",U()]));wo(e,{get position(){return P()},get style(){return d(ot)},get class(){return d(Ue)},"data-testid":"svelte-flow__minimap",children:(Ge,Ie)=>{var Vt=rt(),rn=Ne(Vt);Ee(rn,u,Fe=>{var Te=hp();ne(Te,"aria-labelledby",tt);var Oe=ce(Te);Ee(Oe,z,yt=>{var xt=fp();ne(xt,"id",tt);var on=ce(xt,!0);ae(xt),we(()=>ht(on,z())),q(yt,xt)});var Xe=re(Oe);jt(Xe,1,c,yt=>yt.id,(yt,xt)=>{var on=rt();const st=le(()=>a().get(d(xt).id));var Xt=Ne(on);Ee(Xt,()=>d(st)&&Za(d(st)),Wt=>{const er=le(()=>Bt(d(st)));var We=le(()=>Pe==null?void 0:Pe(d(st))),tr=le(()=>Ae(d(st))),An=le(()=>Ce(d(st)));up(Wt,ln({get x(){return d(st).internals.positionAbsolute.x},get y(){return d(st).internals.positionAbsolute.y}},()=>d(er),{get selected(){return d(st).selected},get color(){return d(We)},get borderRadius(){return I()},get strokeColor(){return d(tr)},get strokeWidth(){return w()},shapeRendering:xe,get class(){return d(An)}}))}),q(yt,on)});var ct=re(Xe);ae(Te),qe(Te,(yt,xt)=>dp(yt,xt),()=>({panZoom:u(),viewport:oe,getViewScale:Me,translateExtent:l(),width:o(),height:s(),inversePan:ie(),zoomStep:Z(),pannable:B(),zoomable:$()})),we(()=>{ne(Te,"width",d(f)),ne(Te,"height",d(g)),ne(Te,"viewBox",`${d(k)??""} ${d(S)??""} ${d(A)??""} ${d(T)??""}`),De(Te,"--xy-minimap-mask-background-color-props",b()),De(Te,"--xy-minimap-mask-stroke-color-props",C()),De(Te,"--xy-minimap-mask-stroke-width-props",N()?N()*d(v):void 0),ne(ct,"d",`M${d(k)-d(E)},${d(S)-d(E)}h${d(A)+d(E)*2}v${d(T)+d(E)*2}h${-d(A)-d(E)*2}z
      M${d(h).x??""},${d(h).y??""}h${d(h).width??""}v${d(h).height??""}h${-d(h).width}z`)}),q(Fe,Te)}),q(Ge,Vt)},$$slots:{default:!0}}),me()}const Os=e=>Fh(e);function pp(){const{zoomIn:e,zoomOut:t,fitView:n,onbeforedelete:i,snapGrid:r,viewport:o,width:s,height:a,minZoom:c,maxZoom:u,panZoom:l,nodes:h,edges:f,domNode:g,nodeLookup:m,nodeOrigin:x,edgeLookup:v,connectionLookup:_}=He(),y=S=>{var D,Y;const A=R(m),T=Os(S)?S:A.get(S.id),P=T.parentId?Xh(T.position,T.measured,T.parentId,A,R(x)):T.position,z={id:T.id,position:P,width:((D=T.measured)==null?void 0:D.width)??T.width,height:((Y=T.measured)==null?void 0:Y.height)??T.height,data:T.data};return _n(z)},E=(S,A,T={replace:!1})=>{var D;const P=(D=R(m).get(S))==null?void 0:D.internals.userNode;if(!P)return;const z=typeof A=="function"?A(P):A;T.replace?h.update(Y=>Y.map(H=>H.id===S?Os(z)?z:{...H,...z}:H)):(Object.assign(P,z),h.update(Y=>Y))},k=S=>R(m).get(S);return{zoomIn:e,zoomOut:t,getInternalNode:k,getNode:S=>{var A;return(A=k(S))==null?void 0:A.internals.userNode},getNodes:S=>S===void 0?R(h):zs(R(m),S),getEdge:S=>R(v).get(S),getEdges:S=>S===void 0?R(f):zs(R(v),S),setZoom:(S,A)=>{const T=R(l);return T?T.scaleTo(S,{duration:A==null?void 0:A.duration}):Promise.resolve(!1)},getZoom:()=>R(o).zoom,setViewport:async(S,A)=>{const T=R(o),P=R(l);return P?(await P.setViewport({x:S.x??T.x,y:S.y??T.y,zoom:S.zoom??T.zoom},{duration:A==null?void 0:A.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>R(o),setCenter:async(S,A,T)=>{const P=typeof(T==null?void 0:T.zoom)<"u"?T.zoom:R(u),z=R(l);return z?(await z.setViewport({x:R(s)/2-S*P,y:R(a)/2-A*P,zoom:P},{duration:T==null?void 0:T.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:n,fitBounds:async(S,A)=>{const T=R(l);if(!T)return Promise.resolve(!1);const P=go(S,R(s),R(a),R(c),R(u),(A==null?void 0:A.padding)??.1);return await T.setViewport(P,{duration:A==null?void 0:A.duration}),Promise.resolve(!0)},getIntersectingNodes:(S,A=!0,T)=>{const P=ys(S),z=P?S:y(S);return z?(T||R(h)).filter(D=>{const Y=R(m).get(D.id);if(!Y||!P&&D.id===S.id)return!1;const H=_n(Y),I=Xn(H,z);return A&&I>0||I>=z.width*z.height}):[]},isNodeIntersecting:(S,A,T=!0)=>{const z=ys(S)?S:y(S);if(!z)return!1;const D=Xn(z,A);return T&&D>0||D>=z.width*z.height},deleteElements:async({nodes:S=[],edges:A=[]})=>{const{nodes:T,edges:P}=await Xa({nodesToRemove:S,edgesToRemove:A,nodes:R(h),edges:R(f),onBeforeDelete:R(i)});return T&&h.update(z=>z.filter(D=>!T.some(({id:Y})=>Y===D.id))),P&&f.update(z=>z.filter(D=>!P.some(({id:Y})=>Y===D.id))),{deletedNodes:T,deletedEdges:P}},screenToFlowPosition:(S,A={snapToGrid:!0})=>{const T=R(g);if(!T)return S;const P=A.snapToGrid?R(r):!1,{x:z,y:D,zoom:Y}=R(o),{x:H,y:I}=T.getBoundingClientRect(),w={x:S.x-H,y:S.y-I};return ei(w,[z,D,Y],P!==null,P||[1,1])},flowToScreenPosition:S=>{const A=R(g);if(!A)return S;const{x:T,y:P,zoom:z}=R(o),{x:D,y:Y}=A.getBoundingClientRect(),H=Ga(S,[T,P,z]);return{x:H.x+D,y:H.y+Y}},toObject:()=>({nodes:R(h).map(S=>({...S,position:{...S.position},data:{...S.data}})),edges:R(f).map(S=>({...S})),viewport:{...R(o)}}),updateNode:E,updateNodeData:(S,A,T)=>{var D;const P=(D=R(m).get(S))==null?void 0:D.internals.userNode;if(!P)return;const z=typeof A=="function"?A(P):A;P.data=T!=null&&T.replace?z:{...P.data,...z},h.update(Y=>Y)},getNodesBounds:S=>{const A=R(m),T=R(x);return Yh(S,{nodeLookup:A,nodeOrigin:T})},getHandleConnections:({type:S,id:A,nodeId:T})=>{var P;return Array.from(((P=R(_).get(`${T}-${S}-${A??null}`))==null?void 0:P.values())??[])},viewport:o}}function zs(e,t){var i;const n=[];for(const r of t){const o=e.get(r);if(o){const s="internals"in o?(i=o.internals)==null?void 0:i.userNode:o;n.push(s)}}return n}var mp=ge('<div class="svelte-flow__node-toolbar"><!></div>');function vp(e,t){pe(t,!1);const n=Re(),i=()=>K(y,"$nodes",n),r=()=>K(_,"$nodeLookup",n),o=()=>K(v,"$viewport",n),s=()=>K(x,"$domNode",n),a=W(),c=W(),u=W();let l=p(t,"nodeId",8,void 0),h=p(t,"position",8,void 0),f=p(t,"align",8,void 0),g=p(t,"offset",8,void 0),m=p(t,"isVisible",8,void 0);const{domNode:x,viewport:v,nodeLookup:_,nodes:y}=He(),{getNodesBounds:E}=pp(),k=Hn("svelteflow__node_id");let S=W(),A=W([]),T=g()!==void 0?g():10,P=h()!==void 0?h():fe.Top,z=f()!==void 0?f():"center";ee(()=>(i(),X(l()),r()),()=>{i();const H=Array.isArray(l())?l():[l()||k];F(A,H.reduce((I,w)=>{const O=r().get(w);return O&&I.push(O),I},[]))}),ee(()=>(d(A),o()),()=>{const H=E(d(A));H&&F(S,rg(H,o(),P,T,z))}),ee(()=>d(A),()=>{F(a,d(A).length===0?1:Math.max(...d(A).map(H=>(H.internals.z||5)+1)))}),ee(()=>i(),()=>{F(c,i().filter(H=>H.selected).length)}),ee(()=>(X(m()),d(A),d(c)),()=>{F(u,typeof m()=="boolean"?m():d(A).length===1&&d(A)[0].selected&&d(c)===1)}),Ke(),ve();var D=rt(),Y=Ne(D);Ee(Y,()=>s()&&d(u)&&d(A),H=>{var I=mp();we(()=>ne(I,"data-id",d(A).reduce((O,b)=>`${O}${b.id} `,"").trim()));var w=ce(I);$e(w,t,"default",{}),ae(I),qe(I,(O,b)=>ll(O,b),()=>({domNode:s()})),we(()=>{De(I,"position","absolute"),De(I,"transform",d(S)),De(I,"z-index",d(a))}),q(H,I)}),q(e,D),me()}const gl=Q(""),Kn=Q({}),Xr=Q(!0),Ln=Q(!1),Wr=Q(!1),Kr=Q(!1);{console.log("Running in browser environment.");const e=sessionStorage.getItem("screenSize");if(e)console.log("screenSize taken from sessionStorage"),Kn.set(JSON.parse(e));else{const t={width:window.innerWidth,height:window.innerHeight};console.log("screenSize initialized from window dimensions:",t),Kn.set(t),sessionStorage.setItem("screenSize",JSON.stringify(t))}gl.set(window.location.href),console.log("Base URL:",window.location.href)}Kn.subscribe(e=>e);function Ds(e,t){console.log(`[${e}] data taken from ${t}`)}function ti(e,t){{const n=localStorage.getItem(e);if(n)return Ds(e,"localStorage"),JSON.parse(n)}return Ds(e,"fallback"),t}function ni(e,t){localStorage.setItem(e,JSON.stringify(t))}const Un=Q(ti("nodes",{}));Un.subscribe(e=>ni("nodes",e));const Oi=Q(ti("edges",{}));Oi.subscribe(e=>ni("edges",e));const Ur=Q(ti("nodeTypes",{}));Ur.subscribe(e=>ni("nodeTypes",e));const zi=Q(ti("graphData",{}));zi.subscribe(e=>ni("graphData",e));const Zt=Q(ti("nodeTypesData",{}));Zt.subscribe(e=>ni("nodeTypesData",e));const pl=Q(new Set),un=Q([{sender:"Agent1",content:"Hello, how are you?"}]);function ui(e,t,n){for(let i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))}function Gr(e,t){const r=t*1*4,o=1*(32/8),s=new ArrayBuffer(44+e.byteLength),a=new DataView(s);return ui(a,0,"RIFF"),a.setUint32(4,36+e.byteLength,!0),ui(a,8,"WAVE"),ui(a,12,"fmt "),a.setUint32(16,16,!0),a.setUint16(20,3,!0),a.setUint16(22,1,!0),a.setUint32(24,t,!0),a.setUint32(28,r,!0),a.setUint16(32,o,!0),a.setUint16(34,32,!0),ui(a,36,"data"),a.setUint32(40,e.byteLength,!0),new Float32Array(s,44).set(e),new Blob([s],{type:"audio/wav"})}var yp=ge('<button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">Play</button> <button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">Download</button>',1);function xp(e,t){pe(t,!1);let n=p(t,"audioData",8),i=p(t,"samplingRate",8),r;tn(()=>{r=new(window.AudioContext||window.webkitAudioContext)});function o(){const l=r.createBuffer(1,n().length,i());l.getChannelData(0).set(n());const f=r.createBufferSource();f.buffer=l,f.connect(r.destination),f.start()}function s(){if(!n()||!i())return;const l=Gr(n(),i()),h=URL.createObjectURL(l),f=document.createElement("a");f.href=h,f.download="audio.wav",f.click(),URL.revokeObjectURL(h)}ve();var a=yp(),c=Ne(a),u=re(c,2);he("click",c,o),he("click",u,s),q(e,a),me()}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ml=Symbol("Comlink.proxy"),wp=Symbol("Comlink.endpoint"),bp=Symbol("Comlink.releaseProxy"),xr=Symbol("Comlink.finalizer"),vi=Symbol("Comlink.thrown"),vl=e=>typeof e=="object"&&e!==null||typeof e=="function",_p={canHandle:e=>vl(e)&&e[ml],serialize(e){const{port1:t,port2:n}=new MessageChannel;return xl(e,t),[n,[n]]},deserialize(e){return e.start(),bl(e)}},kp={canHandle:e=>vl(e)&&vi in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},yl=new Map([["proxy",_p],["throw",kp]]);function Sp(e,t){for(const n of e)if(t===n||n==="*"||n instanceof RegExp&&n.test(t))return!0;return!1}function xl(e,t=globalThis,n=["*"]){t.addEventListener("message",function i(r){if(!r||!r.data)return;if(!Sp(n,r.origin)){console.warn(`Invalid origin '${r.origin}' for comlink proxy`);return}const{id:o,type:s,path:a}=Object.assign({path:[]},r.data),c=(r.data.argumentList||[]).map(Ut);let u;try{const l=a.slice(0,-1).reduce((f,g)=>f[g],e),h=a.reduce((f,g)=>f[g],e);switch(s){case"GET":u=h;break;case"SET":l[a.slice(-1)[0]]=Ut(r.data.value),u=!0;break;case"APPLY":u=h.apply(l,c);break;case"CONSTRUCT":{const f=new h(...c);u=Mp(f)}break;case"ENDPOINT":{const{port1:f,port2:g}=new MessageChannel;xl(e,g),u=Tp(f,[f])}break;case"RELEASE":u=void 0;break;default:return}}catch(l){u={value:l,[vi]:0}}Promise.resolve(u).catch(l=>({value:l,[vi]:0})).then(l=>{const[h,f]=Hi(l);t.postMessage(Object.assign(Object.assign({},h),{id:o}),f),s==="RELEASE"&&(t.removeEventListener("message",i),wl(t),xr in e&&typeof e[xr]=="function"&&e[xr]())}).catch(l=>{const[h,f]=Hi({value:new TypeError("Unserializable return value"),[vi]:0});t.postMessage(Object.assign(Object.assign({},h),{id:o}),f)})}),t.start&&t.start()}function Ep(e){return e.constructor.name==="MessagePort"}function wl(e){Ep(e)&&e.close()}function bl(e,t){const n=new Map;return e.addEventListener("message",function(r){const{data:o}=r;if(!o||!o.id)return;const s=n.get(o.id);if(s)try{s(o)}finally{n.delete(o.id)}}),Zr(e,n,[],t)}function di(e){if(e)throw new Error("Proxy has been released and is not useable")}function _l(e){return an(e,new Map,{type:"RELEASE"}).then(()=>{wl(e)})}const Di=new WeakMap,Li="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(Di.get(e)||0)-1;Di.set(e,t),t===0&&_l(e)});function Ap(e,t){const n=(Di.get(t)||0)+1;Di.set(t,n),Li&&Li.register(e,t,e)}function Cp(e){Li&&Li.unregister(e)}function Zr(e,t,n=[],i=function(){}){let r=!1;const o=new Proxy(i,{get(s,a){if(di(r),a===bp)return()=>{Cp(o),_l(e),t.clear(),r=!0};if(a==="then"){if(n.length===0)return{then:()=>o};const c=an(e,t,{type:"GET",path:n.map(u=>u.toString())}).then(Ut);return c.then.bind(c)}return Zr(e,t,[...n,a])},set(s,a,c){di(r);const[u,l]=Hi(c);return an(e,t,{type:"SET",path:[...n,a].map(h=>h.toString()),value:u},l).then(Ut)},apply(s,a,c){di(r);const u=n[n.length-1];if(u===wp)return an(e,t,{type:"ENDPOINT"}).then(Ut);if(u==="bind")return Zr(e,t,n.slice(0,-1));const[l,h]=Ls(c);return an(e,t,{type:"APPLY",path:n.map(f=>f.toString()),argumentList:l},h).then(Ut)},construct(s,a){di(r);const[c,u]=Ls(a);return an(e,t,{type:"CONSTRUCT",path:n.map(l=>l.toString()),argumentList:c},u).then(Ut)}});return Ap(o,e),o}function Np(e){return Array.prototype.concat.apply([],e)}function Ls(e){const t=e.map(Hi);return[t.map(n=>n[0]),Np(t.map(n=>n[1]))]}const kl=new WeakMap;function Tp(e,t){return kl.set(e,t),e}function Mp(e){return Object.assign(e,{[ml]:!0})}function Hi(e){for(const[t,n]of yl)if(n.canHandle(e)){const[i,r]=n.serialize(e);return[{type:"HANDLER",name:t,value:i},r]}return[{type:"RAW",value:e},kl.get(e)||[]]}function Ut(e){switch(e.type){case"HANDLER":return yl.get(e.name).deserialize(e.value);case"RAW":return e.value}}function an(e,t,n,i){return new Promise(r=>{const o=Pp();t.set(o,r),e.start&&e.start(),e.postMessage(Object.assign({id:o},n),i)})}function Pp(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}let wr=null,Hs=null;function Sl(){return wr||(wr=new Worker(new URL(""+new URL("../workers/hfworker-Bh7VPUfc.js",import.meta.url).href,import.meta.url),{type:"module"}),Hs=bl(wr)),Hs}/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function El(e){return typeof e>"u"||e===null}function Ip(e){return typeof e=="object"&&e!==null}function Op(e){return Array.isArray(e)?e:El(e)?[]:[e]}function zp(e,t){var n,i,r,o;if(t)for(o=Object.keys(t),n=0,i=o.length;n<i;n+=1)r=o[n],e[r]=t[r];return e}function Dp(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}function Lp(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Hp=El,Rp=Ip,Fp=Op,Yp=Dp,Bp=Lp,Vp=zp,Qe={isNothing:Hp,isObject:Rp,toArray:Fp,repeat:Yp,isNegativeZero:Bp,extend:Vp};function Al(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}function Gn(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Al(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Gn.prototype=Object.create(Error.prototype);Gn.prototype.constructor=Gn;Gn.prototype.toString=function(t){return this.name+": "+Al(this,t)};var Nt=Gn;function br(e,t,n,i,r){var o="",s="",a=Math.floor(r/2)-1;return i-t>a&&(o=" ... ",t=i-a+o.length),n-i>a&&(s=" ...",n=i+a-s.length),{str:o+e.slice(t,n).replace(/\t/g,"")+s,pos:i-t+o.length}}function _r(e,t){return Qe.repeat(" ",t-e.length)+e}function Xp(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],o,s=-1;o=n.exec(e.buffer);)r.push(o.index),i.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var a="",c,u,l=Math.min(e.line+t.linesAfter,r.length).toString().length,h=t.maxLength-(t.indent+l+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)u=br(e.buffer,i[s-c],r[s-c],e.position-(i[s]-i[s-c]),h),a=Qe.repeat(" ",t.indent)+_r((e.line-c+1).toString(),l)+" | "+u.str+`
`+a;for(u=br(e.buffer,i[s],r[s],e.position,h),a+=Qe.repeat(" ",t.indent)+_r((e.line+1).toString(),l)+" | "+u.str+`
`,a+=Qe.repeat("-",t.indent+l+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=r.length);c++)u=br(e.buffer,i[s+c],r[s+c],e.position-(i[s]-i[s+c]),h),a+=Qe.repeat(" ",t.indent)+_r((e.line+c+1).toString(),l)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var Wp=Xp,Kp=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Up=["scalar","sequence","mapping"];function Gp(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}function Zp(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(Kp.indexOf(n)===-1)throw new Nt('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Gp(t.styleAliases||null),Up.indexOf(this.kind)===-1)throw new Nt('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var je=Zp;function Rs(e,t){var n=[];return e[t].forEach(function(i){var r=n.length;n.forEach(function(o,s){o.tag===i.tag&&o.kind===i.kind&&o.multi===i.multi&&(r=s)}),n[r]=i}),n}function qp(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}function qr(e){return this.extend(e)}qr.prototype.extend=function(t){var n=[],i=[];if(t instanceof je)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Nt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof je))throw new Nt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Nt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Nt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(o){if(!(o instanceof je))throw new Nt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(qr.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=Rs(r,"implicit"),r.compiledExplicit=Rs(r,"explicit"),r.compiledTypeMap=qp(r.compiledImplicit,r.compiledExplicit),r};var $p=qr,jp=new je("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Jp=new je("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Qp=new je("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),em=new $p({explicit:[jp,Jp,Qp]});function tm(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function nm(){return null}function im(e){return e===null}var rm=new je("tag:yaml.org,2002:null",{kind:"scalar",resolve:tm,construct:nm,predicate:im,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function om(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function sm(e){return e==="true"||e==="True"||e==="TRUE"}function am(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var lm=new je("tag:yaml.org,2002:bool",{kind:"scalar",resolve:om,construct:sm,predicate:am,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function cm(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function um(e){return 48<=e&&e<=55}function dm(e){return 48<=e&&e<=57}function fm(e){if(e===null)return!1;var t=e.length,n=0,i=!1,r;if(!t)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===t)return!0;if(r=e[++n],r==="b"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!cm(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!um(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<t;n++)if(r=e[n],r!=="_"){if(!dm(e.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function hm(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function gm(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Qe.isNegativeZero(e)}var pm=new je("tag:yaml.org,2002:int",{kind:"scalar",resolve:fm,construct:hm,predicate:gm,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),mm=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function vm(e){return!(e===null||!mm.test(e)||e[e.length-1]==="_")}function ym(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var xm=/^[-+]?[0-9]+e/;function wm(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Qe.isNegativeZero(e))return"-0.0";return n=e.toString(10),xm.test(n)?n.replace("e",".e"):n}function bm(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Qe.isNegativeZero(e))}var _m=new je("tag:yaml.org,2002:float",{kind:"scalar",resolve:vm,construct:ym,predicate:bm,represent:wm,defaultStyle:"lowercase"}),km=em.extend({implicit:[rm,lm,pm,_m]}),Sm=km,Cl=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Nl=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Em(e){return e===null?!1:Cl.exec(e)!==null||Nl.exec(e)!==null}function Am(e){var t,n,i,r,o,s,a,c=0,u=null,l,h,f;if(t=Cl.exec(e),t===null&&(t=Nl.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(l=+t[10],h=+(t[11]||0),u=(l*60+h)*6e4,t[9]==="-"&&(u=-u)),f=new Date(Date.UTC(n,i,r,o,s,a,c)),u&&f.setTime(f.getTime()-u),f}function Cm(e){return e.toISOString()}var Nm=new je("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Em,construct:Am,instanceOf:Date,represent:Cm});function Tm(e){return e==="<<"||e===null}var Mm=new je("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Tm}),bo=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Pm(e){if(e===null)return!1;var t,n,i=0,r=e.length,o=bo;for(n=0;n<r;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function Im(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,o=bo,s=0,a=[];for(t=0;t<r;t++)t%4===0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(i.charAt(t));return n=r%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function Om(e){var t="",n=0,i,r,o=e.length,s=bo;for(i=0;i<o;i++)i%3===0&&i&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[i];return r=o%3,r===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):r===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):r===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function zm(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Dm=new je("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Pm,construct:Im,predicate:zm,represent:Om}),Lm=Object.prototype.hasOwnProperty,Hm=Object.prototype.toString;function Rm(e){if(e===null)return!0;var t=[],n,i,r,o,s,a=e;for(n=0,i=a.length;n<i;n+=1){if(r=a[n],s=!1,Hm.call(r)!=="[object Object]")return!1;for(o in r)if(Lm.call(r,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Fm(e){return e!==null?e:[]}var Ym=new je("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Rm,construct:Fm}),Bm=Object.prototype.toString;function Vm(e){if(e===null)return!0;var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(i=s[t],Bm.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;o[t]=[r[0],i[r[0]]]}return!0}function Xm(e){if(e===null)return[];var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)i=s[t],r=Object.keys(i),o[t]=[r[0],i[r[0]]];return o}var Wm=new je("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Vm,construct:Xm}),Km=Object.prototype.hasOwnProperty;function Um(e){if(e===null)return!0;var t,n=e;for(t in n)if(Km.call(n,t)&&n[t]!==null)return!1;return!0}function Gm(e){return e!==null?e:{}}var Zm=new je("tag:yaml.org,2002:set",{kind:"mapping",resolve:Um,construct:Gm}),qm=Sm.extend({implicit:[Nm,Mm],explicit:[Dm,Ym,Wm,Zm]}),Yt=Object.prototype.hasOwnProperty,Ri=1,Tl=2,Ml=3,Fi=4,kr=1,$m=2,Fs=3,jm=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Jm=/[\x85\u2028\u2029]/,Qm=/[,\[\]\{\}]/,Pl=/^(?:!|!!|![a-z\-]+!)$/i,Il=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ys(e){return Object.prototype.toString.call(e)}function kt(e){return e===10||e===13}function $t(e){return e===9||e===32}function it(e){return e===9||e===32||e===10||e===13}function dn(e){return e===44||e===91||e===93||e===123||e===125}function ev(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function tv(e){return e===120?2:e===117?4:e===85?8:0}function nv(e){return 48<=e&&e<=57?e-48:-1}function Bs(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function iv(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Ol=new Array(256),zl=new Array(256);for(var sn=0;sn<256;sn++)Ol[sn]=Bs(sn)?1:0,zl[sn]=Bs(sn);function rv(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||qm,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Dl(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=Wp(n),new Nt(t,n)}function se(e,t){throw Dl(e,t)}function Yi(e,t){e.onWarning&&e.onWarning.call(null,Dl(e,t))}var Vs={YAML:function(t,n,i){var r,o,s;t.version!==null&&se(t,"duplication of %YAML directive"),i.length!==1&&se(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&se(t,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),s=parseInt(r[2],10),o!==1&&se(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Yi(t,"unsupported YAML version of the document")},TAG:function(t,n,i){var r,o;i.length!==2&&se(t,"TAG directive accepts exactly two arguments"),r=i[0],o=i[1],Pl.test(r)||se(t,"ill-formed tag handle (first argument) of the TAG directive"),Yt.call(t.tagMap,r)&&se(t,'there is a previously declared suffix for "'+r+'" tag handle'),Il.test(o)||se(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{se(t,"tag prefix is malformed: "+o)}t.tagMap[r]=o}};function Ft(e,t,n,i){var r,o,s,a;if(t<n){if(a=e.input.slice(t,n),i)for(r=0,o=a.length;r<o;r+=1)s=a.charCodeAt(r),s===9||32<=s&&s<=1114111||se(e,"expected valid JSON character");else jm.test(a)&&se(e,"the stream contains non-printable characters");e.result+=a}}function Xs(e,t,n,i){var r,o,s,a;for(Qe.isObject(n)||se(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),s=0,a=r.length;s<a;s+=1)o=r[s],Yt.call(t,o)||(t[o]=n[o],i[o]=!0)}function fn(e,t,n,i,r,o,s,a,c){var u,l;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),u=0,l=r.length;u<l;u+=1)Array.isArray(r[u])&&se(e,"nested arrays are not supported inside keys"),typeof r=="object"&&Ys(r[u])==="[object Object]"&&(r[u]="[object Object]");if(typeof r=="object"&&Ys(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,l=o.length;u<l;u+=1)Xs(e,t,o[u],n);else Xs(e,t,o,n);else!e.json&&!Yt.call(n,r)&&Yt.call(t,r)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,se(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[r]=o,delete n[r];return t}function _o(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):se(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Ye(e,t,n){for(var i=0,r=e.input.charCodeAt(e.position);r!==0;){for(;$t(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(kt(r))for(_o(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&Yi(e,"deficient indentation"),i}function Qi(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||it(n)))}function ko(e,t){t===1?e.result+=" ":t>1&&(e.result+=Qe.repeat(`
`,t-1))}function ov(e,t,n){var i,r,o,s,a,c,u,l,h=e.kind,f=e.result,g;if(g=e.input.charCodeAt(e.position),it(g)||dn(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(r=e.input.charCodeAt(e.position+1),it(r)||n&&dn(r)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;g!==0;){if(g===58){if(r=e.input.charCodeAt(e.position+1),it(r)||n&&dn(r))break}else if(g===35){if(i=e.input.charCodeAt(e.position-1),it(i))break}else{if(e.position===e.lineStart&&Qi(e)||n&&dn(g))break;if(kt(g))if(c=e.line,u=e.lineStart,l=e.lineIndent,Ye(e,!1,-1),e.lineIndent>=t){a=!0,g=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=u,e.lineIndent=l;break}}a&&(Ft(e,o,s,!1),ko(e,e.line-c),o=s=e.position,a=!1),$t(g)||(s=e.position+1),g=e.input.charCodeAt(++e.position)}return Ft(e,o,s,!1),e.result?!0:(e.kind=h,e.result=f,!1)}function sv(e,t){var n,i,r;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Ft(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,r=e.position;else return!0;else kt(n)?(Ft(e,i,r,!0),ko(e,Ye(e,!1,t)),i=r=e.position):e.position===e.lineStart&&Qi(e)?se(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);se(e,"unexpected end of the stream within a single quoted scalar")}function av(e,t){var n,i,r,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Ft(e,n,e.position,!0),e.position++,!0;if(a===92){if(Ft(e,n,e.position,!0),a=e.input.charCodeAt(++e.position),kt(a))Ye(e,!1,t);else if(a<256&&Ol[a])e.result+=zl[a],e.position++;else if((s=tv(a))>0){for(r=s,o=0;r>0;r--)a=e.input.charCodeAt(++e.position),(s=ev(a))>=0?o=(o<<4)+s:se(e,"expected hexadecimal character");e.result+=iv(o),e.position++}else se(e,"unknown escape sequence");n=i=e.position}else kt(a)?(Ft(e,n,i,!0),ko(e,Ye(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Qi(e)?se(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}se(e,"unexpected end of the stream within a double quoted scalar")}function lv(e,t){var n=!0,i,r,o,s=e.tag,a,c=e.anchor,u,l,h,f,g,m=Object.create(null),x,v,_,y;if(y=e.input.charCodeAt(e.position),y===91)l=93,g=!1,a=[];else if(y===123)l=125,g=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(Ye(e,!0,t),y=e.input.charCodeAt(e.position),y===l)return e.position++,e.tag=s,e.anchor=c,e.kind=g?"mapping":"sequence",e.result=a,!0;n?y===44&&se(e,"expected the node content, but found ','"):se(e,"missed comma between flow collection entries"),v=x=_=null,h=f=!1,y===63&&(u=e.input.charCodeAt(e.position+1),it(u)&&(h=f=!0,e.position++,Ye(e,!0,t))),i=e.line,r=e.lineStart,o=e.position,En(e,t,Ri,!1,!0),v=e.tag,x=e.result,Ye(e,!0,t),y=e.input.charCodeAt(e.position),(f||e.line===i)&&y===58&&(h=!0,y=e.input.charCodeAt(++e.position),Ye(e,!0,t),En(e,t,Ri,!1,!0),_=e.result),g?fn(e,a,m,v,x,_,i,r,o):h?a.push(fn(e,null,m,v,x,_,i,r,o)):a.push(x),Ye(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(n=!0,y=e.input.charCodeAt(++e.position)):n=!1}se(e,"unexpected end of the stream within a flow collection")}function cv(e,t){var n,i,r=kr,o=!1,s=!1,a=t,c=0,u=!1,l,h;if(h=e.input.charCodeAt(e.position),h===124)i=!1;else if(h===62)i=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)kr===r?r=h===43?Fs:$m:se(e,"repeat of a chomping mode identifier");else if((l=nv(h))>=0)l===0?se(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?se(e,"repeat of an indentation width identifier"):(a=t+l-1,s=!0);else break;if($t(h)){do h=e.input.charCodeAt(++e.position);while($t(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!kt(h)&&h!==0)}for(;h!==0;){for(_o(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),kt(h)){c++;continue}if(e.lineIndent<a){r===Fs?e.result+=Qe.repeat(`
`,o?1+c:c):r===kr&&o&&(e.result+=`
`);break}for(i?$t(h)?(u=!0,e.result+=Qe.repeat(`
`,o?1+c:c)):u?(u=!1,e.result+=Qe.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=Qe.repeat(`
`,c):e.result+=Qe.repeat(`
`,o?1+c:c),o=!0,s=!0,c=0,n=e.position;!kt(h)&&h!==0;)h=e.input.charCodeAt(++e.position);Ft(e,n,e.position,!1)}return!0}function Ws(e,t){var n,i=e.tag,r=e.anchor,o=[],s,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,se(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!it(s))));){if(a=!0,e.position++,Ye(e,!0,-1)&&e.lineIndent<=t){o.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,En(e,t,Ml,!1,!0),o.push(e.result),Ye(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&c!==0)se(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=i,e.anchor=r,e.kind="sequence",e.result=o,!0):!1}function uv(e,t,n){var i,r,o,s,a,c,u=e.tag,l=e.anchor,h={},f=Object.create(null),g=null,m=null,x=null,v=!1,_=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),y=e.input.charCodeAt(e.position);y!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,se(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),o=e.line,(y===63||y===58)&&it(i))y===63?(v&&(fn(e,h,f,g,m,null,s,a,c),g=m=x=null),_=!0,v=!0,r=!0):v?(v=!1,r=!0):se(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=i;else{if(s=e.line,a=e.lineStart,c=e.position,!En(e,n,Tl,!1,!0))break;if(e.line===o){for(y=e.input.charCodeAt(e.position);$t(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),it(y)||se(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(fn(e,h,f,g,m,null,s,a,c),g=m=x=null),_=!0,v=!1,r=!1,g=e.tag,m=e.result;else if(_)se(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=l,!0}else if(_)se(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=l,!0}if((e.line===o||e.lineIndent>t)&&(v&&(s=e.line,a=e.lineStart,c=e.position),En(e,t,Fi,!0,r)&&(v?m=e.result:x=e.result),v||(fn(e,h,f,g,m,x,s,a,c),g=m=x=null),Ye(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&y!==0)se(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&fn(e,h,f,g,m,null,s,a,c),_&&(e.tag=u,e.anchor=l,e.kind="mapping",e.result=h),_}function dv(e){var t,n=!1,i=!1,r,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&se(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(i=!0,r="!!",s=e.input.charCodeAt(++e.position)):r="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):se(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!it(s);)s===33&&(i?se(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),Pl.test(r)||se(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),Qm.test(o)&&se(e,"tag suffix cannot contain flow indicator characters")}o&&!Il.test(o)&&se(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{se(e,"tag name is malformed: "+o)}return n?e.tag=o:Yt.call(e.tagMap,r)?e.tag=e.tagMap[r]+o:r==="!"?e.tag="!"+o:r==="!!"?e.tag="tag:yaml.org,2002:"+o:se(e,'undeclared tag handle "'+r+'"'),!0}function fv(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&se(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!it(n)&&!dn(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&se(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function hv(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!it(i)&&!dn(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&se(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),Yt.call(e.anchorMap,n)||se(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Ye(e,!0,-1),!0}function En(e,t,n,i,r){var o,s,a,c=1,u=!1,l=!1,h,f,g,m,x,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=Fi===n||Ml===n,i&&Ye(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;dv(e)||fv(e);)Ye(e,!0,-1)?(u=!0,a=o,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):a=!1;if(a&&(a=u||r),(c===1||Fi===n)&&(Ri===n||Tl===n?x=t:x=t+1,v=e.position-e.lineStart,c===1?a&&(Ws(e,v)||uv(e,v,x))||lv(e,x)?l=!0:(s&&cv(e,x)||sv(e,x)||av(e,x)?l=!0:hv(e)?(l=!0,(e.tag!==null||e.anchor!==null)&&se(e,"alias node should not have any properties")):ov(e,x,Ri===n)&&(l=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(l=a&&Ws(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&se(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,f=e.implicitTypes.length;h<f;h+=1)if(m=e.implicitTypes[h],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Yt.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,g=e.typeMap.multi[e.kind||"fallback"],h=0,f=g.length;h<f;h+=1)if(e.tag.slice(0,g[h].tag.length)===g[h].tag){m=g[h];break}m||se(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&se(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):se(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||l}function gv(e){var t=e.position,n,i,r,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Ye(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!it(s);)s=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),r=[],i.length<1&&se(e,"directive name must not be less than one character in length");s!==0;){for(;$t(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!kt(s));break}if(kt(s))break;for(n=e.position;s!==0&&!it(s);)s=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}s!==0&&_o(e),Yt.call(Vs,i)?Vs[i](e,i,r):Yi(e,'unknown document directive "'+i+'"')}if(Ye(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ye(e,!0,-1)):o&&se(e,"directives end mark is expected"),En(e,e.lineIndent-1,Fi,!1,!0),Ye(e,!0,-1),e.checkLineBreaks&&Jm.test(e.input.slice(t,e.position))&&Yi(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Qi(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ye(e,!0,-1));return}if(e.position<e.length-1)se(e,"end of the stream or a document separator is expected");else return}function Ll(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new rv(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,se(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)gv(n);return n.documents}function pv(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var i=Ll(e,n);if(typeof t!="function")return i;for(var r=0,o=i.length;r<o;r+=1)t(i[r])}function mv(e,t){var n=Ll(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Nt("expected a single document in the stream, but found more")}}var vv=pv,yv=mv,xv={loadAll:vv,load:yv},wv=xv.load;let $r="";gl.subscribe(e=>$r=e);async function Ks(e){console.log("base",$r,e);const t=new URL(e,$r).toString();try{const n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch YAML from ${t}`);const i=await n.text();return wv(i)}catch(n){throw console.error(`Error fetching or parsing YAML from ${t}:`,n),n}}function bv(e,t={}){if(!e)return;const n=window.innerWidth,i=window.innerHeight,r=t.centerX??n/2,o=t.centerY??i/2,s=t.scale??2.5;return{x:r+e.x*s,y:o-e.y*s}}let Hl=new Set;pl.subscribe(e=>Hl=e);let Rl=!0,jr=!0,Fl=!0,Yl={width:900,height:600};Kn.subscribe(e=>Yl=e);Wr.subscribe(e=>{Rl=e});Xr.subscribe(e=>{jr=e});Ln.subscribe(e=>{Fl=e});let hn;Kr.subscribe(e=>{hn=e});function _v(e,t=1){if(!hn)return"width: 300px; height: 300px;";const n=50,i=Math.max(900,e.width)-n,r=Math.max(600,e.height)-n,o=t>1?i/t:i,s=t>1?r/t:r;return`width: ${o}px; height: ${s}px;`}function kv(e,t,n,i,r,o,s,a){var x,v;if(!i)throw new Error("no concept component",i);Hl.add(e);const{name:c,icon:u,description:l,relationships:h,...f}=t,g=o&&Object.keys(f).length>0,m=g?_v(s):void 0;return{id:e,type:g?"group":Fl&&(((x=i[e])==null?void 0:x.type)||e),position:bv((v=i[e])==null?void 0:v.position)||{x:0,y:0},sourcePosition:"right",targetPosition:"left",data:{label:u?`${u} ${c}`:c,id:e,name:c,icon:u,description:l,relationships:h,children:Object.keys(f)},...g?{style:m}:{},...!g&&a?{parentId:n,extent:"parent"}:{},level:r,draggable:!0}}const Bl=(e,t)=>{console.log("convertDataToGraph",e,t);const n={},i={},{concept_component:r}=t,o=(c,u,l,h=0,f=hn)=>{if(typeof u!="object"||u===null)return;const g=kv(c,u,l,r,h,Rl||hn,Yl,f),m=g.type==="group",{name:x,icon:v,description:_,relationships:y,...E}=u;if(g.data.expandable=E&&Object.keys(E).length>0,n[c]=g,jr){const k=`${l}-${c}`,S={id:k,type:"default",source:l,target:c,label:u.description,animated:!1,markerEnd:{type:"arrowclosed"}};i[k]=S}if(!(hn&&l&&f)&&!(hn&&!g.data.expandable))for(const k in E)o(k,E[k],c,h+1,m)},s=(c,u)=>{if(!(typeof u!="object"||u===null)){!jr&&u.relationships&&u.relationships.forEach(l=>{const h=`${c}-${l.end}`,f={id:h,type:"default",source:c,target:l.end,label:l.description,animated:!0,markerEnd:{type:"arrowclosed"}};i[h]=f});for(const l in u)s(l,u[l])}},a=()=>{const c={},u=(g,m)=>{c[g]===void 0&&(c[g]=m,Object.values(i).filter(x=>x.source===g).forEach(x=>u(x.target,m+1)))},l=Object.values(n);l.filter(g=>!Object.values(i).some(m=>m.target===g.id)).forEach(g=>u(g.id,0));const f={};l.forEach((g,m)=>{if(!g.position){const x=c[g.id]||g.level,v=(f[x]||g.level)*300,_=x*100+m*50;g.position={x:v,y:_},f[x]=(f[x]||0)+1}})};for(const c in e)o(c,e[c]);for(const c in e)s(c,e);return a(),Un.set(n),Oi.set(i),{nodes:Object.values(Un),edges:Object.values(Oi)}};var Sv=ge('<div class="absolute top-0 left-full ml-4 p-2 bg-gray-200 border border-gray-400 rounded shadow-md text-sm z-10" style="min-width: 200px; white-space: pre-wrap;"> </div>'),Ev=ge('<button class="bg-gray-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"></button>'),Av=ge('<div class="flex items-center space-x-4 p-4 bg-gray-100 rounded-lg shadow-md"><textarea placeholder="Enter your prompt here" class="px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" rows="1" style="resize: none; overflow: hidden;"></textarea> <button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">chat</button></div>'),Cv=ge('<div class="mt-6 p-4 bg-white border border-gray-200 rounded-lg shadow-md"><h3 class="text-lg font-semibold text-gray-800">Message:</h3> <p class="mt-2 text-gray-700"> </p> <button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">hf-to-audio</button></div>'),Nv=ge('<div class="mt-6 p-4 bg-white border border-gray-200 rounded-lg shadow-md"><!></div>'),Tv=ge('<button class="bg-gray-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"></button> <!> <!> <!> <!>',1),Mv=ge('<div class="node-container relative svelte-1l9xfsp"><div class="node bg-slate-300 p-4 rounded-md text-gray-800 relative cursor-pointer svelte-1l9xfsp"><div> </div> <!> <!> <!></div> <!></div>');function Us(e,t){pe(t,!1);const n=Sl();let i=p(t,"data",8),r=W(""),o=W(""),s=W(!0),a=W(!1),c=W(),u=W(!1);Kn.subscribe(P=>P);async function l(P){const z={role:i().label,goal:i().description,prompt:P.prompt};return await n.ask(z)}async function h(){console.log("handleInvoke",i()),F(s,!1),un.update(z=>[...z,{sender:"user",content:`@${i().label} ${d(r)}`}]);const P=await l({prompt:d(r)});un.update(z=>[...z,{sender:i().id,content:P}]),F(o,P)}async function f(){F(c,await n.speech(d(o)))}function g(P){P.key==="Enter"&&!P.ctrlKey&&(P.preventDefault(),F(r,d(r)+`
`)),P.key==="Enter"&&P.ctrlKey&&(P.preventDefault(),h())}async function m(){for(const[P,z]of Object.entries(R(Zt).concept_component||{}))if(P===i().id){z.type="group";break}try{Zt.set(R(Zt));const P=Bl(R(zi),R(Zt));console.log("Graph reinitialized with updated data.")}catch(P){console.error("Error reinitializing graph:",P)}}function x(){F(u,!d(u))}ve();var v=Mv(),_=ce(v),y=ce(_),E=ce(y,!0);ae(y);var k=re(y,2);Sn(k,{type:"target",get position(){return fe.Left}});var S=re(k,2);Sn(S,{type:"source",get position(){return fe.Right}});var A=re(S,2);Ee(A,()=>d(u),P=>{var z=Sv(),D=ce(z,!0);ae(z),we(()=>ht(D,i().description)),q(P,z)}),ae(_);var T=re(_,2);vp(T,{children:(P,z)=>{var D=rt(),Y=Ne(D);Ee(Y,()=>d(s),H=>{var I=Tv(),w=Ne(I),O=re(w,2);Ee(O,()=>i().expandable,M=>{var L=Ev();he("click",L,m),q(M,L)});var b=re(O,2);Ee(b,()=>d(a),M=>{var L=Av(),B=ce(L);ra(B);var $=re(B,2);ae(L),ua(B,()=>d(r),ie=>F(r,ie)),he("keydown",B,g),he("click",$,h),q(M,L)});var C=re(b,2);Ee(C,()=>d(o),M=>{var L=Cv(),B=re(ce(L),2),$=ce(B,!0);ae(B);var ie=re(B,2);ae(L),we(()=>ht($,d(o))),he("click",ie,f),q(M,L)});var N=re(C,2);Ee(N,()=>d(c),M=>{var L=Nv(),B=ce(L);xp(B,{get audioData(){return d(c).audio},get samplingRate(){return d(c).sampling_rate}}),ae(L),q(M,L)}),he("click",w,()=>F(a,!d(a))),q(H,I)}),q(P,D)},$$slots:{default:!0}}),ae(v),we(()=>ht(E,i().label)),he("mouseenter",_,()=>F(u,!0)),he("mouseleave",_,()=>F(u,!1)),he("click",_,x),q(e,v),me()}function Pv(e){const t=e-1;return t*t*t+1}function Gs(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Iv(e,{delay:t=0,duration:n=400,easing:i=Pv,x:r=0,y:o=0,opacity:s=0}={}){const a=getComputedStyle(e),c=+a.opacity,u=a.transform==="none"?"":a.transform,l=c*(1-s),[h,f]=Gs(r),[g,m]=Gs(o);return{delay:t,duration:n,easing:i,css:(x,v)=>`
			transform: ${u} translate(${(1-x)*h}${f}, ${(1-x)*g}${m});
			opacity: ${c-l*v}`}}function Ov(e,t){const n=[];let i=0;const r=e.length;if(r<t)return[e];for(;i<r;){let o=i+t;o>r&&(o=r);let s=e.lastIndexOf(" ",o-1);s<=i&&(s=o);const a=e.substring(i,s);n.push(a),i=s+1}return n}const zv=10;function Dv(e,t){return e.length*(1/t)/zv}const Sr=[];async function Zs(e,t,n={}){if(!("speechSynthesis"in window))return Promise.reject(new Error("Speech Synthesis not supported in this browser."));if(typeof e!="string"||e.trim().length===0)return Promise.reject(new Error("Invalid message."));let{rate:i=.8,chunkSize:r=180,maxRetries:o=3}=n;const s=Ov(e,r);return Sr.push(...s),o=s.length,new Promise((a,c)=>{let u=0;function l(){if(Sr.length===0){a();return}const h=Sr.shift(),f=new SpeechSynthesisUtterance(h);f.rate=i;const g=setTimeout(()=>{console.warn("Fallback Timeout triggered for:",h),x(new Error("Timeout fallback"))},Math.max(5e3,Dv(h,i)*1e3)),m=setInterval(()=>{speechSynthesis.speaking||(clearInterval(m),speechSynthesis.speak(f))},500);f.onend=()=>{console.log("Finished chunk:",h),clearTimeout(g),clearInterval(m),l()},f.onerror=v=>{console.error("Error speaking chunk:",h,v),clearTimeout(g),clearInterval(m),x(new Error(v.error||"Unknown SpeechSynthesis error"))};function x(v){u<o?(console.warn(`Retrying chunk (${u+1}/${o}), state.speaking:`,speechSynthesis.speaking),u++,speechSynthesis.pause(),speechSynthesis.cancel(),speechSynthesis.resume(),l()):(console.error("Max retries reached. Rejecting."),c(v))}try{speechSynthesis.speak(f)}catch(v){console.error("Speech synthesis failed:",v),x(v)}}speechSynthesis.cancel(),l()})}var Lv=ge('<li class="flex p-2 bg-gray-100 rounded message-container svelte-jmerrv"><div><strong class="font-semibold"> </strong> </div> <div class="flex space-x-1 action-btn svelte-jmerrv"><button title="Speak"></button> <button title="Download"></button></div></li>'),Hv=ge('<div class="px-4 py-2 hover:bg-gray-100 cursor-pointer mention-highlight svelte-jmerrv"> </div>'),Rv=ge('<div class="absolute z-10 w-full bg-white border border-gray-200 rounded shadow"></div>'),Fv=ge('<div class="fixed top-16 right-0 w-96 bg-white p-4 border-l border-gray-200 z-50"><h2 class="text-lg font-bold mb-2">Chat Messages</h2> <div id="chat-messages" class="max-h-96 overflow-y-auto mb-4"><ul class="space-y-2"></ul></div> <div class="relative"><!> <textarea rows="3" class="textarea svelte-jmerrv" placeholder="Type a message... (Ctrl+Enter to send)"></textarea></div> <button class="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Send</button> <button class="mt-4 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">Download All Messages as Audio</button> <button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Close</button> <div><label><input type="checkbox"> Automatically download text</label></div> <div><label><input type="checkbox"> Automatically speak the audio</label></div> <div><label><input type="checkbox"> Automatically (c/u) tts and download audios at the end</label></div></div>');function Yv(e,t){pe(t,!1);const n=Re(),i=()=>K(Un,"$nodes",n),r=()=>K(un,"$messages",n),o=()=>K(pl,"$nodeSet",n),s=Sl();let a=W([]),c=p(t,"showPanel",12),u=W([]),l=W(""),h=W(!1),f=W(!1),g=W(!1),m=W(!1);async function x(U){U.content.trim()!==""?await Zs(`${U.sender}: ${U.content}`):console.warn("No message to speak.")}function v(U,J){console.log("download-title",!!U,J);try{const j=window.URL.createObjectURL(U),V=document.createElement("a");V.href=j,V.download=J,document.body.appendChild(V),V.click(),document.body.removeChild(V)}catch(j){console.error("Failed to download audio:",j)}}async function _(U,J){try{const j=await s.speech(U.content),V=Gr(j.audio,j.sampling_rate);v(V,J)}catch(j){console.error("Failed to download audio:",j)}}async function y(){try{const U=d(a).map(V=>`${V.sender}: ${V.content}`).join(`
`);console.log("text.length",U.length);const J=await s.speech(U),j=Gr(J.audio,J.sampling_rate);await v(j,"conversation.mp3")}catch(U){console.error("Failed to download conversation audio:",U)}}function E(U){F(l,d(l).replace(/@\w*$/,`@${U} `)),F(h,!1)}async function k(){var U;if(d(l).trim()!==""){const J=(U=d(l).match(/@(\w+|\b(?:all)\b)\s/))==null?void 0:U[1];if(J==="all"){const j=d(l).replace(/@all\s/,"").trim();un.update(V=>[...V,{sender:"user",content:`@all ${j}`}]),F(l,""),console.log("message to all",d(u).length,d(u));for(const V of d(u))await S(V,j),setTimeout(()=>{const G=document.getElementById("chat-messages");G==null||G.scrollTo(0,G.scrollHeight)},0);if(d(g))for(const V of d(a).filter(G=>G.sender!=="user"))await _(V,`${V.sender}-${d(a).length}.mp3`)}else if(J){const j=d(l).replace(/@\w+\s/,"").trim();await S(J,j)}else{console.log("No valid username or broadcast indicator found");return}F(l,""),setTimeout(()=>{const j=document.getElementById("chat-messages");j==null||j.scrollTo(0,j.scrollHeight)},0)}}async function S(U,J){var V;const j=(V=i()[U])==null?void 0:V.data;if(j){const G={role:j.label,goal:j.description,prompt:J},oe=await s.ask(G),ue={sender:j.id,content:oe};if(un.update(be=>[...be,ue]),d(f)){const be=new Blob([`${j.id}: ${oe}`],{type:"text/plain"});v(be,`${j.id}-${r().length}.txt`)}d(m)&&Zs(oe)}else console.log(`Node ${U} not found`)}function A(U){const J=U.target.value;if(F(l,J),J.includes("@")){const j=J.match(/@(\w*)$/);if(j){const V=j[1];F(h,d(u).some(G=>G.startsWith(V)))}else F(h,!1)}else F(h,!1)}function T(U){U.key==="Enter"&&U.ctrlKey&&(U.preventDefault(),k())}tn(()=>{un.subscribe(U=>{F(a,U),new Set(U.map(J=>J.sender)),F(u,Array.from(o()))})}),ve();var P=Fv(),z=re(ce(P),2),D=ce(z);jt(D,5,()=>d(a),Er,(U,J)=>{var j=Lv(),V=ce(j),G=ce(V),oe=ce(G);ae(G);var ue=re(G);ae(V);var be=re(V,2),de=ce(be),ye=re(de,2);ae(be),ae(j),we(()=>{ht(oe,`${d(J).sender??""}:`),ht(ue,` ${d(J).content??""}`)}),he("click",de,()=>x(d(J))),he("click",ye,()=>_(d(J))),q(U,j)}),ae(D),ae(z);var Y=re(z,2),H=ce(Y);Ee(H,()=>d(h),U=>{var J=Rv();jt(J,5,()=>d(u),Er,(j,V)=>{var G=Hv(),oe=ce(G);ae(G),we(()=>ht(oe,`@${d(V)??""}`)),he("click",G,()=>E(d(V))),q(j,G)}),ae(J),q(U,J)});var I=re(H,2);ra(I),ae(Y);var w=re(Y,2),O=re(w,2),b=re(O,2),C=re(b,2),N=ce(C),M=ce(N);sr(M),dt(),ae(N),ae(C);var L=re(C,2),B=ce(L),$=ce(B);sr($),dt(),ae(B),ae(L);var ie=re(L,2),Z=ce(ie),te=ce(Z);sr(te),dt(),ae(Z),ae(ie),ae(P),ua(I,()=>d(l),U=>F(l,U)),he("input",I,A),he("keydown",I,T),he("click",w,k),he("click",O,y),he("click",b,()=>c(!1)),ar(M,()=>d(f),U=>F(f,U)),ar($,()=>d(m),U=>F(m,U)),ar(te,()=>d(g),U=>F(g,U)),Jc(3,P,()=>Iv),q(e,P),me()}const Bv=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));console.log("to do all components bundled",Bv);let Vl=!0;Ln.subscribe(e=>Vl=e);async function Vv(e){const t={};for(const[n,i]of Object.entries(e.concept_component))try{i!=null&&i.component&&Vl?(t[n]=(await Oc(async()=>{const{default:r}=await import(`../../components/brain/${i.component}`);return{default:r}},[],import.meta.url)).default,console.log("found component",n,i.component)):t[n]=Us}catch(r){console.log("error",r),t[n]=Us}return t}var Xv=ge("<option> </option>"),Wv=ge("<!> <!> <!> <!> <!> <!>",1),Kv=ge("<!> <!> <!>",1),Uv=ge("<p>Loading node types...</p>"),Gv=ge('<div class="panel svelte-pl3ltj"><!></div>'),Zv=ge('<div class="loading-indicator svelte-pl3ltj">Switching context...</div>'),qv=ge('<div class="w-full h-screen" style="height:100vh;"><div class="context-switcher svelte-pl3ltj"><label for="context">Switch Context:</label> <select id="context"></select></div> <!> <!> <!></div>');function $v(e,t){pe(t,!1);const n=Re(),i=()=>K(h,"$dataContext",n),r=()=>K(Zt,"$nodeTypesData",n),o=()=>K(zi,"$graphData",n),s=()=>K(Wr,"$groups",n),a=()=>K(Xr,"$showRelationships",n),c=()=>K(Ln,"$customNodes",n),u=()=>K(Kr,"$showByStructure",n),l=()=>K(Ur,"$nodeTypes",n);let h=Q("brain"),f=Q([]),g=Q([]),m=W(!1),x=W(!1);Un.subscribe(N=>f.set(Object.values(N))),Oi.subscribe(N=>g.set(Object.values(N)));const v={GRAPH_DATA:"graph_data",NODE_TYPES_DATA:"node_types_data"},_=["brain","ayurveda"];let y=W(i());async function E(N){if(d(x)){console.warn("Context switch in progress. Please wait.");return}try{F(x,!0),console.log(`Switching context to: ${N}`);const M=`${N}/data.yaml`;if(!await k(M))throw new Error(`Context "${N}" is invalid or data not found.`);h.set(N),F(y,N),S()}catch(M){console.error("Error switching context:",M),alert(`Failed to switch context: ${M.message}`)}finally{F(x,!1)}}async function k(N){try{return(await fetch(N,{method:"HEAD"})).ok}catch(M){return console.warn(`Validation failed for URL: ${N}`,M),!1}}function S(){localStorage.removeItem(v.GRAPH_DATA),localStorage.removeItem(v.NODE_TYPES_DATA),A()}async function A(){console.log("dataContext",i());try{const[N,M]=[localStorage.getItem(v.GRAPH_DATA),localStorage.getItem(v.NODE_TYPES_DATA)].map($=>JSON.parse($||"null")),[L,B]=await Promise.all([N||Ks(`${i()}/data.yaml`),M||Ks(`${i()}/nodeTypes.yaml`)]);N||localStorage.setItem(v.GRAPH_DATA,JSON.stringify(L)),M||localStorage.setItem(v.NODE_TYPES_DATA,JSON.stringify(B)),zi.set(L),Zt.set(B),await T()}catch(N){console.error("Initialization error:",N)}}async function T(){try{const N=await Vv(r());Ur.set(N),Bl(o(),r()),console.log("Graph reinitialized.")}catch(N){console.error("Error reinitializing graph:",N)}}function P(){Wr.set(!s()),T()}function z(){Xr.set(!a()),T()}async function D(){Ln.set(!c()),T()}async function Y(){Ln.set(!0),Kr.set(!u()),T()}tn(()=>{A()}),ve();var H=qv(),I=ce(H),w=re(ce(I),2);we(()=>{d(y),Pc(()=>{})}),jt(w,5,()=>_,Er,(N,M)=>{var L=Xv(),B={},$=ce(L,!0);ae(L),we(()=>{B!==(B=d(M))&&(L.value=(L.__value=d(M))==null?"":d(M)),ht($,d(M))}),q(N,L)}),ae(w),ae(I);var O=re(I,2);Ee(O,()=>Object.keys(l()).length>0,N=>{B0(N,{nodes:f,edges:g,get nodeTypes(){return l()},fitView:!0,dir:"ltr",autoPanOnNodeDrag:!1,attributionPosition:"top-right",children:(M,L)=>{var B=Kv(),$=Ne(B);lp($,{bgColor:"rgba(255, 240, 137, 0.25)",get variant(){return It.Dots}});var ie=re($,2);tp(ie,{children:(te,U)=>{var J=Wv(),j=Ne(J);bt(j,{$$events:{click:()=>F(m,!d(m))},children:(de,ye)=>{dt();var Se=Kt("");q(de,Se)},$$slots:{default:!0}});var V=re(j,2);bt(V,{$$events:{click:P},children:(de,ye)=>{dt();var Se=Kt("");q(de,Se)},$$slots:{default:!0}});var G=re(V,2);bt(G,{$$events:{click:z},children:(de,ye)=>{dt();var Se=Kt("");q(de,Se)},$$slots:{default:!0}});var oe=re(G,2);bt(oe,{$$events:{click:D},children:(de,ye)=>{dt();var Se=Kt("");q(de,Se)},$$slots:{default:!0}});var ue=re(oe,2);bt(ue,{$$events:{click:Y},children:(de,ye)=>{dt();var Se=Kt("");q(de,Se)},$$slots:{default:!0}});var be=re(ue,2);bt(be,{$$events:{click:S},children:(de,ye)=>{dt();var Se=Kt("");q(de,Se)},$$slots:{default:!0}}),q(te,J)},$$slots:{default:!0}});var Z=re(ie,2);gp(Z,{nodeStrokeWidth:3}),q(M,B)},$$slots:{default:!0}})},N=>{var M=Uv();q(N,M)});var b=re(O,2);Ee(b,()=>d(m),N=>{var M=Gv(),L=ce(M);Yv(L,{get showPanel(){return d(m)},set showPanel(B){F(m,B)},$$legacy:!0}),ae(M),q(N,M)});var C=re(b,2);Ee(C,()=>d(x),N=>{var M=Zv();q(N,M)}),ae(H),eu(w,()=>d(y),N=>F(y,N)),he("change",w,N=>E(N.target.value)),q(e,H),me()}var jv=ge('<!> <div class="bg-slate-100"><!></div>',1);function dy(e,t){var n=jv(),i=Ne(n);Ee(i,()=>iu,s=>{var a=rt(),c=Ne(a);$e(c,t,"default",{}),q(s,a)});var r=re(i,2),o=ce(r);$v(o,{}),ae(r),q(e,n)}export{dy as component};
